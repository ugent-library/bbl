// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.833
package workviews

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	// "fmt"
	// "github.com/samber/lo"
	"github.com/ugent-library/bbl"
	"github.com/ugent-library/bbl/app/views"
	// "github.com/ugent-library/bbl/app/views/forms"
	// "slices"
)

func Edit(c views.Ctx, rec *bbl.Work) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"w-100 h-100 d-flex flex-column overflow-hidden\"><div class=\"bc-navbar bc-navbar--white bc-navbar--auto bc-navbar--bordered-bottom flex-column align-items-start\"><div class=\"bc-toolbar bc-toolbar-sm-responsive w-100\"><div class=\"bc-toolbar-left mb-1\"><div class=\"d-inline-flex align-items-center flex-wrap\"><span data-bb-target=\"work-summary-status\"></span> <span class=\"c-subline text-nowrap me-3 pe-3 border-end\" data-bb-target=\"work-summary-kind\"></span></div></div><div class=\"bc-toolbar-right mb-3 mb-lg-0\"><div class=\"bc-toolbar-item ps-0 ps-lg-4\"><div class=\"c-button-toolbar\"><button class=\"btn\" data-bb-trigger=\"save-work\">Save</button> <a class=\"btn btn-success\" href=\"#\">Publish to Biblio</a><div class=\"dropdown\"><button class=\"btn btn-outline-secondary btn-icon-only me-0\" type=\"button\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"if if-more\"></i><div class=\"visually-hidden\">More options</div></button><div class=\"dropdown-menu\" style=\"\"><button class=\"dropdown-item\" type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\"#delete\"><i class=\"if if-delete\"></i> <span>Delete</span></button></div></div></div></div></div></div><h4 class=\"w-100 c-body-small mb-4\" data-bb-target=\"work-summary-title\"></h4><div class=\"bc-toolbar flex-column flex-md-row align-items-start pb-4 h-auto\"><div class=\"bc-toolbar-left mt-3 mt-md-0\" data-bb-target=\"work-summary-id\"></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = editForm(c, rec).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = views.Page(c, "Edit").Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func editForm(c views.Ctx, rec *bbl.Work) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var3 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var3 == nil {
			templ_7745c5c3_Var3 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<div data-bb-target=\"work-edit\" class=\"d-flex flex-grow-1 flex-shrink-1 overflow-hidden position-relative\"><div class=\"c-sub-sidebar c-sub-sidebar--responsive h-100 u-z-reset d-none d-lg-block\"><div class=\"bc-navbar bc-navbar--large\"><div class=\"bc-toolbar\"><div class=\"bc-toolbar-left\"><div class=\"bc-toolbar-item\"><h4 class=\"bc-toolbar-title\">Sidebar</h4></div></div></div></div><div class=\"c-sub-sidebar__content pt-5\"><div class=\"ps-6\"><nav class=\"nav nav-pills flex-column\"></nav></div></div></div><div class=\"w-100 u-scroll-wrapper\"><div class=\"u-scroll-wrapper__body w-100 p-6\"><form hx-encoding=\"multipart/form-data\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if rec.IsNew() {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, " hx-post=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(c.Route("create_work").String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `app/views/works/edit.templ`, Line: 91, Col: 47}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		} else {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, " hx-post=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(c.Route("update_work", "work_id", rec.ID).String())
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `app/views/works/edit.templ`, Line: 93, Col: 66}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, " hx-target=\"[data-bb-target=work-edit]\" hx-swap=\"outerHTML\" hx-trigger=\"click from:[data-bb-trigger=save-work]\"></form></div></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// templ RefreshEditForm(c views.Ctx, p *form.Profile, rec *biblio.Work) {
// 	@editForm(c, p, rec)
// 	<div hx-swap-oob="innerHTML:[data-bb-target=work-summary-id]">
// 		@SummaryID(rec)
// 	</div>
// 	<div hx-swap-oob="innerHTML:[data-bb-target=work-summary-kind]">
// 		@SummaryKind(rec)
// 	</div>
// 	<div hx-swap-oob="innerHTML:[data-bb-target=work-summary-status]">
// 		@SummaryStatus(rec)
// 	</div>
// 	<div hx-swap-oob="innerHTML:[data-bb-target=work-summary-title]">
// 		@SummaryTitle(rec)
// 	</div>
// }

// templ classificationsField(c views.Ctx, rec *biblio.Work, only []string) {
// 	for _, p := range filterSchemes(rec.Profile.Classifications.Schemes, only) {
// 		if p.Multiple {
// 			@form.TextInputRepeat(form.TextInputRepeatArgs{
// 				FieldArgs: form.FieldArgs{
// 					Label:    p.Scheme,
// 					Name:     fmt.Sprintf("Classifications[%s]", p.Scheme),
// 					Required: p.Required,
// 				},
// 				Values: rec.Classifications.ValuesFor(p.Scheme),
// 			})
// 		} else {
// 			@form.TextInput(form.TextInputArgs{
// 				FieldArgs: form.FieldArgs{
// 					Label:    p.Scheme,
// 					Name:     fmt.Sprintf("Classifications[%s]", p.Scheme),
// 					Required: p.Required,
// 				},
// 				Value: rec.Classifications.ValueFor(p.Scheme),
// 			})
// 		}
// 	}
// }

// templ conferenceField(c views.Ctx, rec *biblio.Work) {
// 	if rec.Profile.Conference.Use {
// 		{{ conference := rec.GetConference() }}
// 		@form.TextInput(form.TextInputArgs{
// 			FieldArgs: form.FieldArgs{
// 				Label: "Conference",
// 				Name:  "Conference.Name",
// 			},
// 			Value: conference.Name,
// 		})
// 		@form.TextInput(form.TextInputArgs{
// 			FieldArgs: form.FieldArgs{
// 				Label: "Conference location",
// 				Name:  "Conference.Location",
// 			},
// 			Value: conference.Location,
// 		})
// 		@form.TextInput(form.TextInputArgs{
// 			FieldArgs: form.FieldArgs{
// 				Label: "Conference organizer",
// 				Name:  "Conference.Organizer",
// 			},
// 			Value: conference.Organizer,
// 		})
// 	}
// }

// templ identifiersField(c views.Ctx, rec *biblio.Work, only []string) {
// 	for _, p := range filterSchemes(rec.Profile.Identifiers.Schemes, only) {
// 		if p.Multiple {
// 			@form.TextInputRepeat(form.TextInputRepeatArgs{
// 				FieldArgs: form.FieldArgs{
// 					Label:    p.Scheme,
// 					Name:     fmt.Sprintf("Identifiers[%s]", p.Scheme),
// 					Required: p.Required,
// 				},
// 				Values: rec.Identifiers.ValuesFor(p.Scheme),
// 			})
// 		} else {
// 			@form.TextInput(form.TextInputArgs{
// 				FieldArgs: form.FieldArgs{
// 					Label:    p.Scheme,
// 					Name:     fmt.Sprintf("Identifiers[%s]", p.Scheme),
// 					Required: p.Required,
// 				},
// 				Value: rec.Identifiers.ValueFor(p.Scheme),
// 			})
// 		}
// 	}
// }

// templ keywordsField(c views.Ctx, rec *biblio.Work) {
// 	if rec.Profile.Keywords.Use {
// 		@form.Tags(form.TagsArgs{
// 			FieldArgs: form.FieldArgs{
// 				Label:    "Keywords",
// 				Name:     "Keywords",
// 				Required: rec.Profile.Keywords.Required,
// 			},
// 			Values: rec.Keywords.Values(),
// 		})
// 	}
// }

// templ kindField(c views.Ctx, rec *biblio.Work) {
// 	<div class="form-group">
// 		<label class="form-label form-label-top">Work type</label>
// 		<select
// 			class="form-select"
// 			name="Kind"
// 			if rec.IsNew() {
// 				hx-post={ c.Route("refresh_new_work").String() }
// 			}
// 			hx-include="closest form"
// 			hx-target="[data-bb-target=work-edit]"
// 			hx-swap="outerHTML"
// 		>
// 			<option></option>
// 			for _, profile := range biblio.WorkProfiles() {
// 				<option value={ profile.Kind } selected?={ rec.Kind == profile.Kind }>{ profile.Kind }</option>
// 			}
// 		</select>
// 	</div>
// }

// templ titlesField(c views.Ctx, rec *biblio.Work) {
// 	if rec.Profile.Titles.Use {
// 		@form.TextRepeat(form.TextRepeatArgs{
// 			FieldArgs: form.FieldArgs{
// 				Label:    "Titles",
// 				Name:     "Titles",
// 				Required: rec.Profile.Titles.Required,
// 			},
// 			Values: rec.Titles,
// 		})
// 	}
// }

//	func filterSchemes(schemes []biblio.WorkProfileScheme, only []string) []biblio.WorkProfileScheme {
//		if len(only) == 0 {
//			return schemes
//		}
//		return lo.Filter(schemes, func(s biblio.WorkProfileScheme, _ int) bool {
//			return slices.Contains(only, s.Scheme)
//		})
//	}
var _ = templruntime.GeneratedTemplate
