(()=>{var bh=Object.create;var xs=Object.defineProperty;var _h=Object.getOwnPropertyDescriptor;var Eh=Object.getOwnPropertyNames;var wh=Object.getPrototypeOf,Th=Object.prototype.hasOwnProperty;var nt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Sh=(e,t)=>{for(var n in t)xs(e,n,{get:t[n],enumerable:!0})},Ah=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Eh(t))!Th.call(e,i)&&i!==n&&xs(e,i,{get:()=>t[i],enumerable:!(r=_h(t,i))||r.enumerable});return e};var Qe=(e,t,n)=>(n=e!=null?bh(wh(e)):{},Ah(t||!e||!e.__esModule?xs(n,"default",{value:e,enumerable:!0}):n,e));var ud=nt((QA,ld)=>{ld.exports=function(){var t={},n=t._fns={};t.emit=function(s,a,l,u,d,c,f){var h=r(s);h.length&&i(s,h,[a,l,u,d,c,f])},t.on=function(s,a){n[s]||(n[s]=[]),n[s].push(a)},t.once=function(s,a){function l(){a.apply(this,arguments),t.off(s,l)}this.on(s,l)},t.off=function(s,a){var l=[];if(s&&a){var u=this._fns[s],d=0,c=u?u.length:0;for(d;d<c;d++)u[d]!==a&&l.push(u[d])}l.length?this._fns[s]=l:delete this._fns[s]};function r(o){var s=n[o]?n[o]:[],a=o.indexOf(":"),l=a===-1?[o]:[o.substring(0,a),o.substring(a+1)],u=Object.keys(n),d=0,c=u.length;for(d;d<c;d++){var f=u[d];if(f==="*"&&(s=s.concat(n[f])),l.length===2&&l[0]===f){s=s.concat(n[f]);break}}return s}function i(o,s,a){var l=0,u=s.length;for(l;l<u&&s[l];l++)s[l].event=o,s[l].apply(s[l],a)}return t}});var Go=nt((tx,dd)=>{function Zy(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}dd.exports=Zy});var hd=nt((ex,fd)=>{var tb=typeof global=="object"&&global&&global.Object===Object&&global;fd.exports=tb});var Ia=nt((nx,pd)=>{var eb=hd(),nb=typeof self=="object"&&self&&self.Object===Object&&self,rb=eb||nb||Function("return this")();pd.exports=rb});var md=nt((rx,gd)=>{var ib=Ia(),ob=function(){return ib.Date.now()};gd.exports=ob});var yd=nt((ix,vd)=>{var sb=/\s/;function ab(e){for(var t=e.length;t--&&sb.test(e.charAt(t)););return t}vd.exports=ab});var _d=nt((ox,bd)=>{var lb=yd(),ub=/^\s+/;function cb(e){return e&&e.slice(0,lb(e)+1).replace(ub,"")}bd.exports=cb});var Ma=nt((sx,Ed)=>{var db=Ia(),fb=db.Symbol;Ed.exports=fb});var Ad=nt((ax,Sd)=>{var wd=Ma(),Td=Object.prototype,hb=Td.hasOwnProperty,pb=Td.toString,ci=wd?wd.toStringTag:void 0;function gb(e){var t=hb.call(e,ci),n=e[ci];try{e[ci]=void 0;var r=!0}catch{}var i=pb.call(e);return r&&(t?e[ci]=n:delete e[ci]),i}Sd.exports=gb});var Od=nt((lx,xd)=>{var mb=Object.prototype,vb=mb.toString;function yb(e){return vb.call(e)}xd.exports=yb});var Nd=nt((ux,Pd)=>{var Cd=Ma(),bb=Ad(),_b=Od(),Eb="[object Null]",wb="[object Undefined]",Dd=Cd?Cd.toStringTag:void 0;function Tb(e){return e==null?e===void 0?wb:Eb:Dd&&Dd in Object(e)?bb(e):_b(e)}Pd.exports=Tb});var Md=nt((cx,Id)=>{function Sb(e){return e!=null&&typeof e=="object"}Id.exports=Sb});var Ld=nt((dx,Rd)=>{var Ab=Nd(),xb=Md(),Ob="[object Symbol]";function Cb(e){return typeof e=="symbol"||xb(e)&&Ab(e)==Ob}Rd.exports=Cb});var $d=nt((fx,Ud)=>{var Db=_d(),kd=Go(),Pb=Ld(),Fd=NaN,Nb=/^[-+]0x[0-9a-f]+$/i,Ib=/^0b[01]+$/i,Mb=/^0o[0-7]+$/i,Rb=parseInt;function Lb(e){if(typeof e=="number")return e;if(Pb(e))return Fd;if(kd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=kd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Db(e);var n=Ib.test(e);return n||Mb.test(e)?Rb(e.slice(2),n?2:8):Nb.test(e)?Fd:+e}Ud.exports=Lb});var Bd=nt((hx,jd)=>{var kb=Go(),Ra=md(),Hd=$d(),Fb="Expected a function",Ub=Math.max,$b=Math.min;function Hb(e,t,n){var r,i,o,s,a,l,u=0,d=!1,c=!1,f=!0;if(typeof e!="function")throw new TypeError(Fb);t=Hd(t)||0,kb(n)&&(d=!!n.leading,c="maxWait"in n,o=c?Ub(Hd(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f);function h(_){var w=r,C=i;return r=i=void 0,u=_,s=e.apply(C,w),s}function p(_){return u=_,a=setTimeout(v,t),d?h(_):s}function g(_){var w=_-l,C=_-u,O=t-w;return c?$b(O,o-C):O}function m(_){var w=_-l,C=_-u;return l===void 0||w>=t||w<0||c&&C>=o}function v(){var _=Ra();if(m(_))return b(_);a=setTimeout(v,g(_))}function b(_){return a=void 0,f&&r?h(_):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function y(){return a===void 0?s:b(Ra())}function S(){var _=Ra(),w=m(_);if(r=arguments,i=this,l=_,w){if(a===void 0)return p(l);if(c)return clearTimeout(a),a=setTimeout(v,t),h(l)}return a===void 0&&(a=setTimeout(v,t)),s}return S.cancel=T,S.flush=y,S}jd.exports=Hb});var qd=nt((px,Vd)=>{var jb=Bd(),Bb=Go(),Vb="Expected a function";function qb(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Vb);return Bb(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jb(e,t,{leading:r,maxWait:t,trailing:i})}Vd.exports=qb});var Ha=nt((Cx,Qd)=>{"use strict";Qd.exports=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);let n=t<0,r=Math.abs(t);if(n&&(r=-r),r===0)return"0 B";let i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),s=Number(r/1024**o),a=i[o];return`${s>=10||s%1===0?Math.round(s):s.toFixed(1)} ${a}`}});var ef=nt((Dx,tf)=>{"use strict";function Zd(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}Zd.prototype.match=function(e){var t=!0,n=this.parts,r,i=n.length,o;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(o=(e||"").split(this.separator),r=0;t&&r<i;r++)n[r]!=="*"&&(r<o.length?t=n[r]===o[r]:t=!1);t=t&&o}else if(typeof e.splice=="function")for(t=[],r=e.length;r--;)this.match(e[r])&&(t[t.length]=e[r]);else if(typeof e=="object"){t={};for(var s in e)this.match(s)&&(t[s]=e[s])}return t};tf.exports=function(e,t,n){var r=new Zd(e,n||/[\/\.]/);return typeof t<"u"?r.match(t):r}});var rf=nt((Px,nf)=>{var Gb=ef(),Jb=/[\/\+\.]/;nf.exports=function(e,t){function n(r){var i=Gb(r,e,Jb);return i&&i.length>=2}return t?n(t.split(";")[0]):n}});var sl=nt((DO,ps)=>{(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var i="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(i=r(i,n(s)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var s in i)e.call(i,s)&&i[s]&&(o=r(o,s));return o}function r(i,o){return o?i?i+" "+o:i+o:i}typeof ps<"u"&&ps.exports?(t.default=t,ps.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var zf=nt((t0,Wf)=>{function ge(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}Wf.exports=ge;ge.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};ge.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};ge.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};ge.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};ge.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};ge.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};ge.prototype.start=ge.prototype.try;ge.prototype.errors=function(){return this._errors};ge.prototype.attempts=function(){return this._attempts};ge.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,s=(e[o]||0)+1;e[o]=s,s>=n&&(t=i,n=s)}return t}});var Kf=nt(Wn=>{var j_=zf();Wn.operation=function(e){var t=Wn.timeouts(e);return new j_(t,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};Wn.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort(function(o,s){return o-s}),r};Wn.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout),r};Wn.wrap=function(e,t,n){if(t instanceof Array&&(n=t,t=null),!n){n=[];for(var r in e)typeof e[r]=="function"&&n.push(r)}for(var i=0;i<n.length;i++){var o=n[i],s=e[o];e[o]=function(l){var u=Wn.operation(t),d=Array.prototype.slice.call(arguments,1),c=d.pop();d.push(function(f){u.retry(f)||(f&&(arguments[0]=u.mainError()),c.apply(this,arguments))}),u.attempt(function(){l.apply(e,d)})}.bind(e,s),e[o].options=t}}});var Yf=nt((n0,Xf)=>{Xf.exports=Kf()});var xh=function(){"use strict";let htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(e,t){return getInputValues(e,t||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0},parseInterval:null,_:null,version:"2.0.4"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;let internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(e){return"[hx-"+e+"], [data-hx-"+e+"]"}).join(", ");function parseInterval(e){if(e==null)return;let t=NaN;return e.slice(-2)=="ms"?t=parseFloat(e.slice(0,-2)):e.slice(-1)=="s"?t=parseFloat(e.slice(0,-1))*1e3:e.slice(-1)=="m"?t=parseFloat(e.slice(0,-1))*1e3*60:t=parseFloat(e),isNaN(t)?void 0:t}function getRawAttribute(e,t){return e instanceof Element&&e.getAttribute(t)}function hasAttribute(e,t){return!!e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function getAttributeValue(e,t){return getRawAttribute(e,t)||getRawAttribute(e,"data-"+t)}function parentElt(e){let t=e.parentElement;return!t&&e.parentNode instanceof ShadowRoot?e.parentNode:t}function getDocument(){return document}function getRootNode(e,t){return e.getRootNode?e.getRootNode({composed:t}):getDocument()}function getClosestMatch(e,t){for(;e&&!t(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,t,n){let r=getAttributeValue(t,n),i=getAttributeValue(t,"hx-disinherit");var o=getAttributeValue(t,"hx-inherit");if(e!==t){if(htmx.config.disableInheritance)return o&&(o==="*"||o.split(" ").indexOf(n)>=0)?r:null;if(i&&(i==="*"||i.split(" ").indexOf(n)>=0))return"unset"}return r}function getClosestAttributeValue(e,t){let n=null;if(getClosestMatch(e,function(r){return!!(n=getAttributeValueWithDisinheritance(e,asElement(r),t))}),n!=="unset")return n}function matches(e,t){let n=e instanceof Element&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function getStartTag(e){let n=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return n?n[1].toLowerCase():""}function parseHTML(e){return new DOMParser().parseFromString(e,"text/html")}function takeChildrenFor(e,t){for(;t.childNodes.length>0;)e.append(t.childNodes[0])}function duplicateScript(e){let t=getDocument().createElement("script");return forEach(e.attributes,function(n){t.setAttribute(n.name,n.value)}),t.textContent=e.textContent,t.async=!1,htmx.config.inlineScriptNonce&&(t.nonce=htmx.config.inlineScriptNonce),t}function isJavaScriptScriptNode(e){return e.matches("script")&&(e.type==="text/javascript"||e.type==="module"||e.type==="")}function normalizeScriptTags(e){Array.from(e.querySelectorAll("script")).forEach(t=>{if(isJavaScriptScriptNode(t)){let n=duplicateScript(t),r=t.parentNode;try{r.insertBefore(n,t)}catch(i){logError(i)}finally{t.remove()}}})}function makeFragment(e){let t=e.replace(/<head(\s[^>]*)?>[\s\S]*?<\/head>/i,""),n=getStartTag(t),r;if(n==="html"){r=new DocumentFragment;let o=parseHTML(e);takeChildrenFor(r,o.body),r.title=o.title}else if(n==="body"){r=new DocumentFragment;let o=parseHTML(t);takeChildrenFor(r,o.body),r.title=o.title}else{let o=parseHTML('<body><template class="internal-htmx-wrapper">'+t+"</template></body>");r=o.querySelector("template").content,r.title=o.title;var i=r.querySelector("title");i&&i.parentNode===r&&(i.remove(),r.title=i.innerText)}return r&&(htmx.config.allowScriptTags?normalizeScriptTags(r):r.querySelectorAll("script").forEach(o=>o.remove())),r}function maybeCall(e){e&&e()}function isType(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function isFunction(e){return typeof e=="function"}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){let t="htmx-internal-data",n=e[t];return n||(n=e[t]={}),n}function toArray(e){let t=[];if(e)for(let n=0;n<e.length;n++)t.push(e[n]);return t}function forEach(e,t){if(e)for(let n=0;n<e.length;n++)t(e[n])}function isScrolledIntoView(e){let t=e.getBoundingClientRect(),n=t.top,r=t.bottom;return n<window.innerHeight&&r>=0}function bodyContains(e){return e.getRootNode({composed:!0})===document}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(t){return logError(t),null}}function canAccessLocalStorage(){let e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function normalizePath(e){try{let t=new URL(e);return t&&(e=t.pathname+t.search),/^\/$/.test(e)||(e=e.replace(/\/+$/,"")),e}catch{return e}}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(e){return htmx.on("htmx:load",function(n){e(n.detail.elt)})}function logAll(){htmx.logger=function(e,t,n){console&&console.log(t,e,n)}}function logNone(){htmx.logger=null}function find(e,t){return typeof e!="string"?e.querySelector(t):find(getDocument(),e)}function findAll(e,t){return typeof e!="string"?e.querySelectorAll(t):findAll(getDocument(),e)}function getWindow(){return window}function removeElement(e,t){e=resolveTarget(e),t?getWindow().setTimeout(function(){removeElement(e),e=null},t):parentElt(e).removeChild(e)}function asElement(e){return e instanceof Element?e:null}function asHtmlElement(e){return e instanceof HTMLElement?e:null}function asString(e){return typeof e=="string"?e:null}function asParentNode(e){return e instanceof Element||e instanceof Document||e instanceof DocumentFragment?e:null}function addClassToElement(e,t,n){e=asElement(resolveTarget(e)),e&&(n?getWindow().setTimeout(function(){addClassToElement(e,t),e=null},n):e.classList&&e.classList.add(t))}function removeClassFromElement(e,t,n){let r=asElement(resolveTarget(e));r&&(n?getWindow().setTimeout(function(){removeClassFromElement(r,t),r=null},n):r.classList&&(r.classList.remove(t),r.classList.length===0&&r.removeAttribute("class")))}function toggleClassOnElement(e,t){e=resolveTarget(e),e.classList.toggle(t)}function takeClassForElement(e,t){e=resolveTarget(e),forEach(e.parentElement.children,function(n){removeClassFromElement(n,t)}),addClassToElement(asElement(e),t)}function closest(e,t){if(e=asElement(resolveTarget(e)),e&&e.closest)return e.closest(t);do if(e==null||matches(e,t))return e;while(e=e&&asElement(parentElt(e)));return null}function startsWith(e,t){return e.substring(0,t.length)===t}function endsWith(e,t){return e.substring(e.length-t.length)===t}function normalizeSelector(e){let t=e.trim();return startsWith(t,"<")&&endsWith(t,"/>")?t.substring(1,t.length-2):t}function querySelectorAllExt(e,t,n){if(t.indexOf("global ")===0)return querySelectorAllExt(e,t.slice(7),!0);e=resolveTarget(e);let r=[];{let s=0,a=0;for(let l=0;l<t.length;l++){let u=t[l];if(u===","&&s===0){r.push(t.substring(a,l)),a=l+1;continue}u==="<"?s++:u==="/"&&l<t.length-1&&t[l+1]===">"&&s--}a<t.length&&r.push(t.substring(a))}let i=[],o=[];for(;r.length>0;){let s=normalizeSelector(r.shift()),a;s.indexOf("closest ")===0?a=closest(asElement(e),normalizeSelector(s.substr(8))):s.indexOf("find ")===0?a=find(asParentNode(e),normalizeSelector(s.substr(5))):s==="next"||s==="nextElementSibling"?a=asElement(e).nextElementSibling:s.indexOf("next ")===0?a=scanForwardQuery(e,normalizeSelector(s.substr(5)),!!n):s==="previous"||s==="previousElementSibling"?a=asElement(e).previousElementSibling:s.indexOf("previous ")===0?a=scanBackwardsQuery(e,normalizeSelector(s.substr(9)),!!n):s==="document"?a=document:s==="window"?a=window:s==="body"?a=document.body:s==="root"?a=getRootNode(e,!!n):s==="host"?a=e.getRootNode().host:o.push(s),a&&i.push(a)}if(o.length>0){let s=o.join(","),a=asParentNode(getRootNode(e,!!n));i.push(...toArray(a.querySelectorAll(s)))}return i}var scanForwardQuery=function(e,t,n){let r=asParentNode(getRootNode(e,n)).querySelectorAll(t);for(let i=0;i<r.length;i++){let o=r[i];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return o}},scanBackwardsQuery=function(e,t,n){let r=asParentNode(getRootNode(e,n)).querySelectorAll(t);for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return o}};function querySelectorExt(e,t){return typeof e!="string"?querySelectorAllExt(e,t)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e,t){return typeof e=="string"?find(asParentNode(t)||document,e):e}function processEventArgs(e,t,n,r){return isFunction(t)?{target:getDocument().body,event:asString(e),listener:t,options:n}:{target:resolveTarget(e),event:asString(t),listener:n,options:r}}function addEventListenerImpl(e,t,n,r){return ready(function(){let o=processEventArgs(e,t,n,r);o.target.addEventListener(o.event,o.listener,o.options)}),isFunction(t)?t:n}function removeEventListenerImpl(e,t,n){return ready(function(){let r=processEventArgs(e,t,n);r.target.removeEventListener(r.event,r.listener)}),isFunction(t)?t:n}let DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,t){let n=getClosestAttributeValue(e,t);if(n){if(n==="this")return[findThisElement(e,t)];{let r=querySelectorAllExt(e,n);return r.length===0?(logError('The selector "'+n+'" on '+t+" returned no matches!"),[DUMMY_ELT]):r}}}function findThisElement(e,t){return asElement(getClosestMatch(e,function(n){return getAttributeValue(asElement(n),t)!=null}))}function getTarget(e){let t=getClosestAttributeValue(e,"hx-target");return t?t==="this"?findThisElement(e,"hx-target"):querySelectorExt(e,t):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){let t=htmx.config.attributesToSettle;for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}function cloneAttributes(e,t){forEach(e.attributes,function(n){!t.hasAttribute(n.name)&&shouldSettleAttribute(n.name)&&e.removeAttribute(n.name)}),forEach(t.attributes,function(n){shouldSettleAttribute(n.name)&&e.setAttribute(n.name,n.value)})}function isInlineSwap(e,t){let n=getExtensions(t);for(let r=0;r<n.length;r++){let i=n[r];try{if(i.isInlineSwap(e))return!0}catch(o){logError(o)}}return e==="outerHTML"}function oobSwap(e,t,n,r){r=r||getDocument();let i="#"+getRawAttribute(t,"id"),o="outerHTML";e==="true"||(e.indexOf(":")>0?(o=e.substring(0,e.indexOf(":")),i=e.substring(e.indexOf(":")+1)):o=e),t.removeAttribute("hx-swap-oob"),t.removeAttribute("data-hx-swap-oob");let s=querySelectorAllExt(r,i,!1);return s?(forEach(s,function(a){let l,u=t.cloneNode(!0);l=getDocument().createDocumentFragment(),l.appendChild(u),isInlineSwap(o,a)||(l=asParentNode(u));let d={shouldSwap:!0,target:a,fragment:l};triggerEvent(a,"htmx:oobBeforeSwap",d)&&(a=d.target,d.shouldSwap&&(handlePreservedElements(l),swapWithStyle(o,a,a,l,n),restorePreservedElements()),forEach(n.elts,function(c){triggerEvent(c,"htmx:oobAfterSwap",d)}))}),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:t})),e}function restorePreservedElements(){let e=find("#--htmx-preserve-pantry--");if(e){for(let t of[...e.children]){let n=find("#"+t.id);n.parentNode.moveBefore(t,n),n.remove()}e.remove()}}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),function(t){let n=getAttributeValue(t,"id"),r=getDocument().getElementById(n);if(r!=null)if(t.moveBefore){let i=find("#--htmx-preserve-pantry--");i==null&&(getDocument().body.insertAdjacentHTML("afterend","<div id='--htmx-preserve-pantry--'></div>"),i=find("#--htmx-preserve-pantry--")),i.moveBefore(r,null)}else t.parentNode.replaceChild(r,t)})}function handleAttributes(e,t,n){forEach(t.querySelectorAll("[id]"),function(r){let i=getRawAttribute(r,"id");if(i&&i.length>0){let o=i.replace("'","\\'"),s=r.tagName.replace(":","\\:"),a=asParentNode(e),l=a&&a.querySelector(s+"[id='"+o+"']");if(l&&l!==a){let u=r.cloneNode();cloneAttributes(r,l),n.tasks.push(function(){cloneAttributes(r,u)})}}})}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(asElement(e)),processFocus(asParentNode(e)),triggerEvent(e,"htmx:load")}}function processFocus(e){let t="[autofocus]",n=asHtmlElement(matches(e,t)?e:e.querySelector(t));n?.focus()}function insertNodesBefore(e,t,n,r){for(handleAttributes(e,n,r);n.childNodes.length>0;){let i=n.firstChild;addClassToElement(asElement(i),htmx.config.addedClass),e.insertBefore(i,t),i.nodeType!==Node.TEXT_NODE&&i.nodeType!==Node.COMMENT_NODE&&r.tasks.push(makeAjaxLoadTask(i))}}function stringHash(e,t){let n=0;for(;n<e.length;)t=(t<<5)-t+e.charCodeAt(n++)|0;return t}function attributeHash(e){let t=0;if(e.attributes)for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];r.value&&(t=stringHash(r.name,t),t=stringHash(r.value,t))}return t}function deInitOnHandlers(e){let t=getInternalData(e);if(t.onHandlers){for(let n=0;n<t.onHandlers.length;n++){let r=t.onHandlers[n];removeEventListenerImpl(e,r.event,r.listener)}delete t.onHandlers}}function deInitNode(e){let t=getInternalData(e);t.timeout&&clearTimeout(t.timeout),t.listenerInfos&&forEach(t.listenerInfos,function(n){n.on&&removeEventListenerImpl(n.on,n.trigger,n.listener)}),deInitOnHandlers(e),forEach(Object.keys(t),function(n){n!=="firstInitCompleted"&&delete t[n]})}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,function(t){cleanUpElement(t)})}function swapOuterHTML(e,t,n){if(e instanceof Element&&e.tagName==="BODY")return swapInnerHTML(e,t,n);let r,i=e.previousSibling,o=parentElt(e);if(o){for(insertNodesBefore(o,e,t,n),i==null?r=o.firstChild:r=i.nextSibling,n.elts=n.elts.filter(function(s){return s!==e});r&&r!==e;)r instanceof Element&&n.elts.push(r),r=r.nextSibling;cleanUpElement(e),e instanceof Element?e.remove():e.parentNode.removeChild(e)}}function swapAfterBegin(e,t,n){return insertNodesBefore(e,e.firstChild,t,n)}function swapBeforeBegin(e,t,n){return insertNodesBefore(parentElt(e),e,t,n)}function swapBeforeEnd(e,t,n){return insertNodesBefore(e,null,t,n)}function swapAfterEnd(e,t,n){return insertNodesBefore(parentElt(e),e.nextSibling,t,n)}function swapDelete(e){cleanUpElement(e);let t=parentElt(e);if(t)return t.removeChild(e)}function swapInnerHTML(e,t,n){let r=e.firstChild;if(insertNodesBefore(e,r,t,n),r){for(;r.nextSibling;)cleanUpElement(r.nextSibling),e.removeChild(r.nextSibling);cleanUpElement(r),e.removeChild(r)}}function swapWithStyle(e,t,n,r,i){switch(e){case"none":return;case"outerHTML":swapOuterHTML(n,r,i);return;case"afterbegin":swapAfterBegin(n,r,i);return;case"beforebegin":swapBeforeBegin(n,r,i);return;case"beforeend":swapBeforeEnd(n,r,i);return;case"afterend":swapAfterEnd(n,r,i);return;case"delete":swapDelete(n);return;default:var o=getExtensions(t);for(let s=0;s<o.length;s++){let a=o[s];try{let l=a.handleSwap(e,n,r,i);if(l){if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];d.nodeType!==Node.TEXT_NODE&&d.nodeType!==Node.COMMENT_NODE&&i.tasks.push(makeAjaxLoadTask(d))}return}}catch(l){logError(l)}}e==="innerHTML"?swapInnerHTML(n,r,i):swapWithStyle(htmx.config.defaultSwapStyle,t,n,r,i)}}function findAndSwapOobElements(e,t,n){var r=findAll(e,"[hx-swap-oob], [data-hx-swap-oob]");return forEach(r,function(i){if(htmx.config.allowNestedOobSwaps||i.parentElement===null){let o=getAttributeValue(i,"hx-swap-oob");o!=null&&oobSwap(o,i,t,n)}else i.removeAttribute("hx-swap-oob"),i.removeAttribute("data-hx-swap-oob")}),r.length>0}function swap(e,t,n,r){r||(r={}),e=resolveTarget(e);let i=r.contextElement?getRootNode(r.contextElement,!1):getDocument(),o=document.activeElement,s={};try{s={elt:o,start:o?o.selectionStart:null,end:o?o.selectionEnd:null}}catch{}let a=makeSettleInfo(e);if(n.swapStyle==="textContent")e.textContent=t;else{let u=makeFragment(t);if(a.title=u.title,r.selectOOB){let d=r.selectOOB.split(",");for(let c=0;c<d.length;c++){let f=d[c].split(":",2),h=f[0].trim();h.indexOf("#")===0&&(h=h.substring(1));let p=f[1]||"true",g=u.querySelector("#"+h);g&&oobSwap(p,g,a,i)}}if(findAndSwapOobElements(u,a,i),forEach(findAll(u,"template"),function(d){d.content&&findAndSwapOobElements(d.content,a,i)&&d.remove()}),r.select){let d=getDocument().createDocumentFragment();forEach(u.querySelectorAll(r.select),function(c){d.appendChild(c)}),u=d}handlePreservedElements(u),swapWithStyle(n.swapStyle,r.contextElement,e,u,a),restorePreservedElements()}if(s.elt&&!bodyContains(s.elt)&&getRawAttribute(s.elt,"id")){let u=document.getElementById(getRawAttribute(s.elt,"id")),d={preventScroll:n.focusScroll!==void 0?!n.focusScroll:!htmx.config.defaultFocusScroll};if(u){if(s.start&&u.setSelectionRange)try{u.setSelectionRange(s.start,s.end)}catch{}u.focus(d)}}e.classList.remove(htmx.config.swappingClass),forEach(a.elts,function(u){u.classList&&u.classList.add(htmx.config.settlingClass),triggerEvent(u,"htmx:afterSwap",r.eventInfo)}),r.afterSwapCallback&&r.afterSwapCallback(),n.ignoreTitle||handleTitle(a.title);let l=function(){if(forEach(a.tasks,function(u){u.call()}),forEach(a.elts,function(u){u.classList&&u.classList.remove(htmx.config.settlingClass),triggerEvent(u,"htmx:afterSettle",r.eventInfo)}),r.anchor){let u=asElement(resolveTarget("#"+r.anchor));u&&u.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(a.elts,n),r.afterSettleCallback&&r.afterSettleCallback()};n.settleDelay>0?getWindow().setTimeout(l,n.settleDelay):l()}function handleTriggerHeader(e,t,n){let r=e.getResponseHeader(t);if(r.indexOf("{")===0){let i=parseJSON(r);for(let o in i)if(i.hasOwnProperty(o)){let s=i[o];isRawObject(s)?n=s.target!==void 0?s.target:n:s={value:s},triggerEvent(n,o,s)}}else{let i=r.split(",");for(let o=0;o<i.length;o++)triggerEvent(n,i[o].trim(),[])}}let WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(e){let t=[],n=0;for(;n<e.length;){if(SYMBOL_START.exec(e.charAt(n))){for(var r=n;SYMBOL_CONT.exec(e.charAt(n+1));)n++;t.push(e.substring(r,n+1))}else if(STRINGISH_START.indexOf(e.charAt(n))!==-1){let i=e.charAt(n);var r=n;for(n++;n<e.length&&e.charAt(n)!==i;)e.charAt(n)==="\\"&&n++,n++;t.push(e.substring(r,n+1))}else{let i=e.charAt(n);t.push(i)}n++}return t}function isPossibleRelativeReference(e,t,n){return SYMBOL_START.exec(e.charAt(0))&&e!=="true"&&e!=="false"&&e!=="this"&&e!==n&&t!=="."}function maybeGenerateConditional(e,t,n){if(t[0]==="["){t.shift();let r=1,i=" return (function("+n+"){ return (",o=null;for(;t.length>0;){let s=t[0];if(s==="]"){if(r--,r===0){o===null&&(i=i+"true"),t.shift(),i+=")})";try{let a=maybeEval(e,function(){return Function(i)()},function(){return!0});return a.source=i,a}catch(a){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:a,source:i}),null}}}else s==="["&&r++;isPossibleRelativeReference(s,o,n)?i+="(("+n+"."+s+") ? ("+n+"."+s+") : (window."+s+"))":i=i+s,o=t.shift()}}}function consumeUntil(e,t){let n="";for(;e.length>0&&!t.test(e[0]);)n+=e.shift();return n}function consumeCSSSelector(e){let t;return e.length>0&&COMBINED_SELECTOR_START.test(e[0])?(e.shift(),t=consumeUntil(e,COMBINED_SELECTOR_END).trim(),e.shift()):t=consumeUntil(e,WHITESPACE_OR_COMMA),t}let INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(e,t,n){let r=[],i=tokenizeString(t);do{consumeUntil(i,NOT_WHITESPACE);let a=i.length,l=consumeUntil(i,/[,\[\s]/);if(l!=="")if(l==="every"){let u={trigger:"every"};consumeUntil(i,NOT_WHITESPACE),u.pollInterval=parseInterval(consumeUntil(i,/[,\[\s]/)),consumeUntil(i,NOT_WHITESPACE);var o=maybeGenerateConditional(e,i,"event");o&&(u.eventFilter=o),r.push(u)}else{let u={trigger:l};var o=maybeGenerateConditional(e,i,"event");for(o&&(u.eventFilter=o),consumeUntil(i,NOT_WHITESPACE);i.length>0&&i[0]!==",";){let c=i.shift();if(c==="changed")u.changed=!0;else if(c==="once")u.once=!0;else if(c==="consume")u.consume=!0;else if(c==="delay"&&i[0]===":")i.shift(),u.delay=parseInterval(consumeUntil(i,WHITESPACE_OR_COMMA));else if(c==="from"&&i[0]===":"){if(i.shift(),COMBINED_SELECTOR_START.test(i[0]))var s=consumeCSSSelector(i);else{var s=consumeUntil(i,WHITESPACE_OR_COMMA);if(s==="closest"||s==="find"||s==="next"||s==="previous"){i.shift();let h=consumeCSSSelector(i);h.length>0&&(s+=" "+h)}}u.from=s}else c==="target"&&i[0]===":"?(i.shift(),u.target=consumeCSSSelector(i)):c==="throttle"&&i[0]===":"?(i.shift(),u.throttle=parseInterval(consumeUntil(i,WHITESPACE_OR_COMMA))):c==="queue"&&i[0]===":"?(i.shift(),u.queue=consumeUntil(i,WHITESPACE_OR_COMMA)):c==="root"&&i[0]===":"?(i.shift(),u[c]=consumeCSSSelector(i)):c==="threshold"&&i[0]===":"?(i.shift(),u[c]=consumeUntil(i,WHITESPACE_OR_COMMA)):triggerErrorEvent(e,"htmx:syntax:error",{token:i.shift()});consumeUntil(i,NOT_WHITESPACE)}r.push(u)}i.length===a&&triggerErrorEvent(e,"htmx:syntax:error",{token:i.shift()}),consumeUntil(i,NOT_WHITESPACE)}while(i[0]===","&&i.shift());return n&&(n[t]=r),r}function getTriggerSpecs(e){let t=getAttributeValue(e,"hx-trigger"),n=[];if(t){let r=htmx.config.triggerSpecsCache;n=r&&r[t]||parseAndCacheTrigger(e,t,r)}return n.length>0?n:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,t,n){let r=getInternalData(e);r.timeout=getWindow().setTimeout(function(){bodyContains(e)&&r.cancelled!==!0&&(maybeFilterEvent(n,e,makeEvent("hx:poll:trigger",{triggerSpec:n,target:e}))||t(e),processPolling(e,t,n))},n.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")!==0}function eltIsDisabled(e){return closest(e,htmx.config.disableSelector)}function boostElement(e,t,n){if(e instanceof HTMLAnchorElement&&isLocalLink(e)&&(e.target===""||e.target==="_self")||e.tagName==="FORM"&&String(getRawAttribute(e,"method")).toLowerCase()!=="dialog"){t.boosted=!0;let r,i;if(e.tagName==="A")r="get",i=getRawAttribute(e,"href");else{let o=getRawAttribute(e,"method");r=o?o.toLowerCase():"get",i=getRawAttribute(e,"action"),(i==null||i==="")&&(i=getDocument().location.href),r==="get"&&i.includes("?")&&(i=i.replace(/\?[^#]+/,""))}n.forEach(function(o){addEventListener(e,function(s,a){let l=asElement(s);if(eltIsDisabled(l)){cleanUpElement(l);return}issueAjaxRequest(r,i,l,a)},t,o,!0)})}}function shouldCancel(e,t){let n=asElement(t);return n?!!((e.type==="submit"||e.type==="click")&&(n.tagName==="FORM"||matches(n,'input[type="submit"], button')&&(matches(n,"[form]")||closest(n,"form")!==null)||n instanceof HTMLAnchorElement&&n.href&&(n.getAttribute("href")==="#"||n.getAttribute("href").indexOf("#")!==0))):!1}function ignoreBoostedAnchorCtrlClick(e,t){return getInternalData(e).boosted&&e instanceof HTMLAnchorElement&&t.type==="click"&&(t.ctrlKey||t.metaKey)}function maybeFilterEvent(e,t,n){let r=e.eventFilter;if(r)try{return r.call(t,n)!==!0}catch(i){let o=r.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:i,source:o}),!0}return!1}function addEventListener(e,t,n,r,i){let o=getInternalData(e),s;r.from?s=querySelectorAllExt(e,r.from):s=[e],r.changed&&("lastValue"in o||(o.lastValue=new WeakMap),s.forEach(function(a){o.lastValue.has(r)||o.lastValue.set(r,new WeakMap),o.lastValue.get(r).set(a,a.value)})),forEach(s,function(a){let l=function(u){if(!bodyContains(e)){a.removeEventListener(r.trigger,l);return}if(ignoreBoostedAnchorCtrlClick(e,u)||((i||shouldCancel(u,e))&&u.preventDefault(),maybeFilterEvent(r,e,u)))return;let d=getInternalData(u);if(d.triggerSpec=r,d.handledFor==null&&(d.handledFor=[]),d.handledFor.indexOf(e)<0){if(d.handledFor.push(e),r.consume&&u.stopPropagation(),r.target&&u.target&&!matches(asElement(u.target),r.target))return;if(r.once){if(o.triggeredOnce)return;o.triggeredOnce=!0}if(r.changed){let c=event.target,f=c.value,h=o.lastValue.get(r);if(h.has(c)&&h.get(c)===f)return;h.set(c,f)}if(o.delayed&&clearTimeout(o.delayed),o.throttle)return;r.throttle>0?o.throttle||(triggerEvent(e,"htmx:trigger"),t(e,u),o.throttle=getWindow().setTimeout(function(){o.throttle=null},r.throttle)):r.delay>0?o.delayed=getWindow().setTimeout(function(){triggerEvent(e,"htmx:trigger"),t(e,u)},r.delay):(triggerEvent(e,"htmx:trigger"),t(e,u))}};n.listenerInfos==null&&(n.listenerInfos=[]),n.listenerInfos.push({trigger:r.trigger,listener:l,on:a}),a.addEventListener(r.trigger,l)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),window.addEventListener("resize",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(e){maybeReveal(e)}))},200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",function(){triggerEvent(e,"revealed")},{once:!0}))}function loadImmediately(e,t,n,r){let i=function(){n.loaded||(n.loaded=!0,triggerEvent(e,"htmx:trigger"),t(e))};r>0?getWindow().setTimeout(i,r):i()}function processVerbs(e,t,n){let r=!1;return forEach(VERBS,function(i){if(hasAttribute(e,"hx-"+i)){let o=getAttributeValue(e,"hx-"+i);r=!0,t.path=o,t.verb=i,n.forEach(function(s){addTriggerHandler(e,s,t,function(a,l){let u=asElement(a);if(closest(u,htmx.config.disableSelector)){cleanUpElement(u);return}issueAjaxRequest(i,o,u,l)})})}}),r}function addTriggerHandler(e,t,n,r){if(t.trigger==="revealed")initScrollHandler(),addEventListener(e,r,n,t),maybeReveal(asElement(e));else if(t.trigger==="intersect"){let i={};t.root&&(i.root=querySelectorExt(e,t.root)),t.threshold&&(i.threshold=parseFloat(t.threshold)),new IntersectionObserver(function(s){for(let a=0;a<s.length;a++)if(s[a].isIntersecting){triggerEvent(e,"intersect");break}},i).observe(asElement(e)),addEventListener(asElement(e),r,n,t)}else!n.firstInitCompleted&&t.trigger==="load"?maybeFilterEvent(t,e,makeEvent("load",{elt:e}))||loadImmediately(asElement(e),r,n,t.delay):t.pollInterval>0?(n.polling=!0,processPolling(asElement(e),r,t)):addEventListener(e,r,n,t)}function shouldProcessHxOn(e){let t=asElement(e);if(!t)return!1;let n=t.attributes;for(let r=0;r<n.length;r++){let i=n[r].name;if(startsWith(i,"hx-on:")||startsWith(i,"data-hx-on:")||startsWith(i,"hx-on-")||startsWith(i,"data-hx-on-"))return!0}return!1}let HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(e,t){shouldProcessHxOn(e)&&t.push(asElement(e));let n=HX_ON_QUERY.evaluate(e),r=null;for(;r=n.iterateNext();)t.push(asElement(r))}function findHxOnWildcardElements(e){let t=[];if(e instanceof DocumentFragment)for(let n of e.childNodes)processHXOnRoot(n,t);else processHXOnRoot(e,t);return t}function findElementsToProcess(e){if(e.querySelectorAll){let n=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",r=[];for(let o in extensions){let s=extensions[o];if(s.getSelectors){var t=s.getSelectors();t&&r.push(t)}}return e.querySelectorAll(VERB_SELECTOR+n+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+r.flat().map(o=>", "+o).join(""))}else return[]}function maybeSetLastButtonClicked(e){let t=closest(asElement(e.target),"button, input[type='submit']"),n=getRelatedFormData(e);n&&(n.lastButtonClicked=t)}function maybeUnsetLastButtonClicked(e){let t=getRelatedFormData(e);t&&(t.lastButtonClicked=null)}function getRelatedFormData(e){let t=closest(asElement(e.target),"button, input[type='submit']");if(!t)return;let n=resolveTarget("#"+getRawAttribute(t,"form"),t.getRootNode())||closest(t,"form");if(n)return getInternalData(n)}function initButtonTracking(e){e.addEventListener("click",maybeSetLastButtonClicked),e.addEventListener("focusin",maybeSetLastButtonClicked),e.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(e,t,n){let r=getInternalData(e);Array.isArray(r.onHandlers)||(r.onHandlers=[]);let i,o=function(s){maybeEval(e,function(){eltIsDisabled(e)||(i||(i=new Function("event",n)),i.call(e,s))})};e.addEventListener(t,o),r.onHandlers.push({event:t,listener:o})}function processHxOnWildcard(e){deInitOnHandlers(e);for(let t=0;t<e.attributes.length;t++){let n=e.attributes[t].name,r=e.attributes[t].value;if(startsWith(n,"hx-on")||startsWith(n,"data-hx-on")){let i=n.indexOf("-on")+3,o=n.slice(i,i+1);if(o==="-"||o===":"){let s=n.slice(i+1);startsWith(s,":")?s="htmx"+s:startsWith(s,"-")?s="htmx:"+s.slice(1):startsWith(s,"htmx-")&&(s="htmx:"+s.slice(5)),addHxOnEventHandler(e,s,r)}}}}function initNode(e){if(closest(e,htmx.config.disableSelector)){cleanUpElement(e);return}let t=getInternalData(e),n=attributeHash(e);if(t.initHash!==n){deInitNode(e),t.initHash=n,triggerEvent(e,"htmx:beforeProcessNode");let r=getTriggerSpecs(e);processVerbs(e,t,r)||(getClosestAttributeValue(e,"hx-boost")==="true"?boostElement(e,t,r):hasAttribute(e,"hx-trigger")&&r.forEach(function(o){addTriggerHandler(e,o,t,function(){})})),(e.tagName==="FORM"||getRawAttribute(e,"type")==="submit"&&hasAttribute(e,"form"))&&initButtonTracking(e),t.firstInitCompleted=!0,triggerEvent(e,"htmx:afterProcessNode")}}function processNode(e){if(e=resolveTarget(e),closest(e,htmx.config.disableSelector)){cleanUpElement(e);return}initNode(e),forEach(findElementsToProcess(e),function(t){initNode(t)}),forEach(findHxOnWildcardElements(e),processHxOnWildcard)}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,t){let n;return window.CustomEvent&&typeof window.CustomEvent=="function"?n=new CustomEvent(e,{bubbles:!0,cancelable:!0,composed:!0,detail:t}):(n=getDocument().createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,t)),n}function triggerErrorEvent(e,t,n){triggerEvent(e,t,mergeObjects({error:t},n))}function ignoreEventForLogging(e){return e==="htmx:afterProcessNode"}function withExtensions(e,t){forEach(getExtensions(e),function(n){try{t(n)}catch(r){logError(r)}})}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,t,n){e=resolveTarget(e),n==null&&(n={}),n.elt=e;let r=makeEvent(t,n);htmx.logger&&!ignoreEventForLogging(t)&&htmx.logger(e,t,n),n.error&&(logError(n.error),triggerEvent(e,"htmx:error",{errorInfo:n}));let i=e.dispatchEvent(r),o=kebabEventName(t);if(i&&o!==t){let s=makeEvent(o,r.detail);i=i&&e.dispatchEvent(s)}return withExtensions(asElement(e),function(s){i=i&&s.onEvent(t,r)!==!1&&!r.defaultPrevented}),i}let currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,t){if(!canAccessLocalStorage())return;let n=cleanInnerHtmlForHistory(t),r=getDocument().title,i=window.scrollY;if(htmx.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}e=normalizePath(e);let o=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let a=0;a<o.length;a++)if(o[a].url===e){o.splice(a,1);break}let s={url:e,content:n,title:r,scroll:i};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:s,cache:o}),o.push(s);o.length>htmx.config.historyCacheSize;)o.shift();for(;o.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(o));break}catch(a){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:a,cache:o}),o.shift()}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;e=normalizePath(e);let t=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let n=0;n<t.length;n++)if(t[n].url===e)return t[n];return null}function cleanInnerHtmlForHistory(e){let t=htmx.config.requestClass,n=e.cloneNode(!0);return forEach(findAll(n,"."+t),function(r){removeClassFromElement(r,t)}),forEach(findAll(n,"[data-disabled-by-htmx]"),function(r){r.removeAttribute("disabled")}),n.innerHTML}function saveCurrentPageToHistory(){let e=getHistoryElement(),t=currentPathForHistory||location.pathname+location.search,n;try{n=getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{n=getDocument().querySelector('[hx-history="false"],[data-hx-history="false"]')}n||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:t,historyElt:e}),saveToHistoryCache(t,e)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(e){htmx.config.getCacheBusterParam&&(e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(e,"&")||endsWith(e,"?"))&&(e=e.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,function(t){t.call(void 0)})}function loadHistoryFromServer(e){let t=new XMLHttpRequest,n={path:e,xhr:t};triggerEvent(getDocument().body,"htmx:historyCacheMiss",n),t.open("GET",e,!0),t.setRequestHeader("HX-Request","true"),t.setRequestHeader("HX-History-Restore-Request","true"),t.setRequestHeader("HX-Current-URL",getDocument().location.href),t.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",n);let r=makeFragment(this.response),i=r.querySelector("[hx-history-elt],[data-hx-history-elt]")||r,o=getHistoryElement(),s=makeSettleInfo(o);handleTitle(r.title),handlePreservedElements(r),swapInnerHTML(o,i,s),restorePreservedElements(),settleImmediately(s.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",n)},t.send()}function restoreHistory(e){saveCurrentPageToHistory(),e=e||location.pathname+location.search;let t=getCachedHistory(e);if(t){let n=makeFragment(t.content),r=getHistoryElement(),i=makeSettleInfo(r);handleTitle(t.title),handlePreservedElements(n),swapInnerHTML(r,n,i),restorePreservedElements(),settleImmediately(i.tasks),getWindow().setTimeout(function(){window.scrollTo(0,t.scroll)},0),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:t})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){let t=findAttributeTargets(e,"hx-indicator");return t==null&&(t=[e]),forEach(t,function(n){let r=getInternalData(n);r.requestCount=(r.requestCount||0)+1,n.classList.add.call(n.classList,htmx.config.requestClass)}),t}function disableElements(e){let t=findAttributeTargets(e,"hx-disabled-elt");return t==null&&(t=[]),forEach(t,function(n){let r=getInternalData(n);r.requestCount=(r.requestCount||0)+1,n.setAttribute("disabled",""),n.setAttribute("data-disabled-by-htmx","")}),t}function removeRequestIndicators(e,t){forEach(e.concat(t),function(n){let r=getInternalData(n);r.requestCount=(r.requestCount||1)-1}),forEach(e,function(n){getInternalData(n).requestCount===0&&n.classList.remove.call(n.classList,htmx.config.requestClass)}),forEach(t,function(n){getInternalData(n).requestCount===0&&(n.removeAttribute("disabled"),n.removeAttribute("data-disabled-by-htmx"))})}function haveSeenNode(e,t){for(let n=0;n<e.length;n++)if(e[n].isSameNode(t))return!0;return!1}function shouldInclude(e){let t=e;return t.name===""||t.name==null||t.disabled||closest(t,"fieldset[disabled]")||t.type==="button"||t.type==="submit"||t.tagName==="image"||t.tagName==="reset"||t.tagName==="file"?!1:t.type==="checkbox"||t.type==="radio"?t.checked:!0}function addValueToFormData(e,t,n){e!=null&&t!=null&&(Array.isArray(t)?t.forEach(function(r){n.append(e,r)}):n.append(e,t))}function removeValueFromFormData(e,t,n){if(e!=null&&t!=null){let r=n.getAll(e);Array.isArray(t)?r=r.filter(i=>t.indexOf(i)<0):r=r.filter(i=>i!==t),n.delete(e),forEach(r,i=>n.append(e,i))}}function processInputValue(e,t,n,r,i){if(!(r==null||haveSeenNode(e,r))){if(e.push(r),shouldInclude(r)){let o=getRawAttribute(r,"name"),s=r.value;r instanceof HTMLSelectElement&&r.multiple&&(s=toArray(r.querySelectorAll("option:checked")).map(function(a){return a.value})),r instanceof HTMLInputElement&&r.files&&(s=toArray(r.files)),addValueToFormData(o,s,t),i&&validateElement(r,n)}r instanceof HTMLFormElement&&(forEach(r.elements,function(o){e.indexOf(o)>=0?removeValueFromFormData(o.name,o.value,t):e.push(o),i&&validateElement(o,n)}),new FormData(r).forEach(function(o,s){o instanceof File&&o.name===""||addValueToFormData(s,o,t)}))}}function validateElement(e,t){let n=e;n.willValidate&&(triggerEvent(n,"htmx:validation:validate"),n.checkValidity()||(t.push({elt:n,message:n.validationMessage,validity:n.validity}),triggerEvent(n,"htmx:validation:failed",{message:n.validationMessage,validity:n.validity})))}function overrideFormData(e,t){for(let n of t.keys())e.delete(n);return t.forEach(function(n,r){e.append(r,n)}),e}function getInputValues(e,t){let n=[],r=new FormData,i=new FormData,o=[],s=getInternalData(e);s.lastButtonClicked&&!bodyContains(s.lastButtonClicked)&&(s.lastButtonClicked=null);let a=e instanceof HTMLFormElement&&e.noValidate!==!0||getAttributeValue(e,"hx-validate")==="true";if(s.lastButtonClicked&&(a=a&&s.lastButtonClicked.formNoValidate!==!0),t!=="get"&&processInputValue(n,i,o,closest(e,"form"),a),processInputValue(n,r,o,e,a),s.lastButtonClicked||e.tagName==="BUTTON"||e.tagName==="INPUT"&&getRawAttribute(e,"type")==="submit"){let u=s.lastButtonClicked||e,d=getRawAttribute(u,"name");addValueToFormData(d,u.value,i)}let l=findAttributeTargets(e,"hx-include");return forEach(l,function(u){processInputValue(n,r,o,asElement(u),a),matches(u,"form")||forEach(asParentNode(u).querySelectorAll(INPUT_SELECTOR),function(d){processInputValue(n,r,o,d,a)})}),overrideFormData(r,i),{errors:o,formData:r,values:formDataProxy(r)}}function appendParam(e,t,n){e!==""&&(e+="&"),String(n)==="[object Object]"&&(n=JSON.stringify(n));let r=encodeURIComponent(n);return e+=encodeURIComponent(t)+"="+r,e}function urlEncode(e){e=formDataFromObject(e);let t="";return e.forEach(function(n,r){t=appendParam(t,r,n)}),t}function getHeaders(e,t,n){let r={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(t,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,r),n!==void 0&&(r["HX-Prompt"]=n),getInternalData(e).boosted&&(r["HX-Boosted"]="true"),r}function filterValues(e,t){let n=getClosestAttributeValue(t,"hx-params");if(n){if(n==="none")return new FormData;if(n==="*")return e;if(n.indexOf("not ")===0)return forEach(n.slice(4).split(","),function(r){r=r.trim(),e.delete(r)}),e;{let r=new FormData;return forEach(n.split(","),function(i){i=i.trim(),e.has(i)&&e.getAll(i).forEach(function(o){r.append(i,o)})}),r}}else return e}function isAnchorLink(e){return!!getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,t){let n=t||getClosestAttributeValue(e,"hx-swap"),r={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(e).boosted&&!isAnchorLink(e)&&(r.show="top"),n){let s=splitOnWhitespace(n);if(s.length>0)for(let a=0;a<s.length;a++){let l=s[a];if(l.indexOf("swap:")===0)r.swapDelay=parseInterval(l.slice(5));else if(l.indexOf("settle:")===0)r.settleDelay=parseInterval(l.slice(7));else if(l.indexOf("transition:")===0)r.transition=l.slice(11)==="true";else if(l.indexOf("ignoreTitle:")===0)r.ignoreTitle=l.slice(12)==="true";else if(l.indexOf("scroll:")===0){var i=l.slice(7).split(":");let d=i.pop();var o=i.length>0?i.join(":"):null;r.scroll=d,r.scrollTarget=o}else if(l.indexOf("show:")===0){var i=l.slice(5).split(":");let c=i.pop();var o=i.length>0?i.join(":"):null;r.show=c,r.showTarget=o}else if(l.indexOf("focus-scroll:")===0){let u=l.slice(13);r.focusScroll=u=="true"}else a==0?r.swapStyle=l:logError("Unknown modifier in hx-swap: "+l)}}return r}function usesFormData(e){return getClosestAttributeValue(e,"hx-encoding")==="multipart/form-data"||matches(e,"form")&&getRawAttribute(e,"enctype")==="multipart/form-data"}function encodeParamsForBody(e,t,n){let r=null;return withExtensions(t,function(i){r==null&&(r=i.encodeParameters(e,n,t))}),r??(usesFormData(t)?overrideFormData(new FormData,formDataFromObject(n)):urlEncode(n))}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,t){let n=e[0],r=e[e.length-1];if(t.scroll){var i=null;t.scrollTarget&&(i=asElement(querySelectorExt(n,t.scrollTarget))),t.scroll==="top"&&(n||i)&&(i=i||n,i.scrollTop=0),t.scroll==="bottom"&&(r||i)&&(i=i||r,i.scrollTop=i.scrollHeight)}if(t.show){var i=null;if(t.showTarget){let s=t.showTarget;t.showTarget==="window"&&(s="body"),i=asElement(querySelectorExt(n,s))}t.show==="top"&&(n||i)&&(i=i||n,i.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),t.show==="bottom"&&(r||i)&&(i=i||r,i.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(e,t,n,r){if(r==null&&(r={}),e==null)return r;let i=getAttributeValue(e,t);if(i){let o=i.trim(),s=n;if(o==="unset")return null;o.indexOf("javascript:")===0?(o=o.slice(11),s=!0):o.indexOf("js:")===0&&(o=o.slice(3),s=!0),o.indexOf("{")!==0&&(o="{"+o+"}");let a;s?a=maybeEval(e,function(){return Function("return ("+o+")")()},{}):a=parseJSON(o);for(let l in a)a.hasOwnProperty(l)&&r[l]==null&&(r[l]=a[l])}return getValuesForElement(asElement(parentElt(e)),t,n,r)}function maybeEval(e,t,n){return htmx.config.allowEval?t():(triggerErrorEvent(e,"htmx:evalDisallowedError"),n)}function getHXVarsForElement(e,t){return getValuesForElement(e,"hx-vars",!0,t)}function getHXValsForElement(e,t){return getValuesForElement(e,"hx-vals",!1,t)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,t,n){if(n!==null)try{e.setRequestHeader(t,n)}catch{e.setRequestHeader(t,encodeURIComponent(n)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&typeof URL<"u")try{let t=new URL(e.responseURL);return t.pathname+t.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,t){return t.test(e.getAllResponseHeaders())}function ajaxHelper(e,t,n){if(e=e.toLowerCase(),n){if(n instanceof Element||typeof n=="string")return issueAjaxRequest(e,t,null,null,{targetOverride:resolveTarget(n)||DUMMY_ELT,returnPromise:!0});{let r=resolveTarget(n.target);return(n.target&&!r||n.source&&!r&&!resolveTarget(n.source))&&(r=DUMMY_ELT),issueAjaxRequest(e,t,resolveTarget(n.source),n.event,{handler:n.handler,headers:n.headers,values:n.values,targetOverride:r,swapOverride:n.swap,select:n.select,returnPromise:!0})}}else return issueAjaxRequest(e,t,null,null,{returnPromise:!0})}function hierarchyForElt(e){let t=[];for(;e;)t.push(e),e=e.parentElement;return t}function verifyPath(e,t,n){let r,i;return typeof URL=="function"?(i=new URL(t,document.location.href),r=document.location.origin===i.origin):(i=t,r=startsWith(t,document.location.origin)),htmx.config.selfRequestsOnly&&!r?!1:triggerEvent(e,"htmx:validateUrl",mergeObjects({url:i,sameHost:r},n))}function formDataFromObject(e){if(e instanceof FormData)return e;let t=new FormData;for(let n in e)e.hasOwnProperty(n)&&(e[n]&&typeof e[n].forEach=="function"?e[n].forEach(function(r){t.append(n,r)}):typeof e[n]=="object"&&!(e[n]instanceof Blob)?t.append(n,JSON.stringify(e[n])):t.append(n,e[n]));return t}function formDataArrayProxy(e,t,n){return new Proxy(n,{get:function(r,i){return typeof i=="number"?r[i]:i==="length"?r.length:i==="push"?function(o){r.push(o),e.append(t,o)}:typeof r[i]=="function"?function(){r[i].apply(r,arguments),e.delete(t),r.forEach(function(o){e.append(t,o)})}:r[i]&&r[i].length===1?r[i][0]:r[i]},set:function(r,i,o){return r[i]=o,e.delete(t),r.forEach(function(s){e.append(t,s)}),!0}})}function formDataProxy(e){return new Proxy(e,{get:function(t,n){if(typeof n=="symbol"){let i=Reflect.get(t,n);return typeof i=="function"?function(){return i.apply(e,arguments)}:i}if(n==="toJSON")return()=>Object.fromEntries(e);if(n in t)return typeof t[n]=="function"?function(){return e[n].apply(e,arguments)}:t[n];let r=e.getAll(n);if(r.length!==0)return r.length===1?r[0]:formDataArrayProxy(t,n,r)},set:function(t,n,r){return typeof n!="string"?!1:(t.delete(n),r&&typeof r.forEach=="function"?r.forEach(function(i){t.append(n,i)}):typeof r=="object"&&!(r instanceof Blob)?t.append(n,JSON.stringify(r)):t.append(n,r),!0)},deleteProperty:function(t,n){return typeof n=="string"&&t.delete(n),!0},ownKeys:function(t){return Reflect.ownKeys(Object.fromEntries(t))},getOwnPropertyDescriptor:function(t,n){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(t),n)}})}function issueAjaxRequest(e,t,n,r,i,o){let s=null,a=null;if(i=i??{},i.returnPromise&&typeof Promise<"u")var l=new Promise(function(V,G){s=V,a=G});n==null&&(n=getDocument().body);let u=i.handler||handleAjaxResponse,d=i.select||null;if(!bodyContains(n))return maybeCall(s),l;let c=i.targetOverride||asElement(getTarget(n));if(c==null||c==DUMMY_ELT)return triggerErrorEvent(n,"htmx:targetError",{target:getAttributeValue(n,"hx-target")}),maybeCall(a),l;let f=getInternalData(n),h=f.lastButtonClicked;if(h){let V=getRawAttribute(h,"formaction");V!=null&&(t=V);let G=getRawAttribute(h,"formmethod");G!=null&&G.toLowerCase()!=="dialog"&&(e=G)}let p=getClosestAttributeValue(n,"hx-confirm");if(o===void 0&&triggerEvent(n,"htmx:confirm",{target:c,elt:n,path:t,verb:e,triggeringEvent:r,etc:i,issueRequest:function(_t){return issueAjaxRequest(e,t,n,r,i,!!_t)},question:p})===!1)return maybeCall(s),l;let g=n,m=getClosestAttributeValue(n,"hx-sync"),v=null,b=!1;if(m){let V=m.split(":"),G=V[0].trim();if(G==="this"?g=findThisElement(n,"hx-sync"):g=asElement(querySelectorExt(n,G)),m=(V[1]||"drop").trim(),f=getInternalData(g),m==="drop"&&f.xhr&&f.abortable!==!0)return maybeCall(s),l;if(m==="abort"){if(f.xhr)return maybeCall(s),l;b=!0}else m==="replace"?triggerEvent(g,"htmx:abort"):m.indexOf("queue")===0&&(v=(m.split(" ")[1]||"last").trim())}if(f.xhr)if(f.abortable)triggerEvent(g,"htmx:abort");else{if(v==null){if(r){let V=getInternalData(r);V&&V.triggerSpec&&V.triggerSpec.queue&&(v=V.triggerSpec.queue)}v==null&&(v="last")}return f.queuedRequests==null&&(f.queuedRequests=[]),v==="first"&&f.queuedRequests.length===0?f.queuedRequests.push(function(){issueAjaxRequest(e,t,n,r,i)}):v==="all"?f.queuedRequests.push(function(){issueAjaxRequest(e,t,n,r,i)}):v==="last"&&(f.queuedRequests=[],f.queuedRequests.push(function(){issueAjaxRequest(e,t,n,r,i)})),maybeCall(s),l}let T=new XMLHttpRequest;f.xhr=T,f.abortable=b;let y=function(){f.xhr=null,f.abortable=!1,f.queuedRequests!=null&&f.queuedRequests.length>0&&f.queuedRequests.shift()()},S=getClosestAttributeValue(n,"hx-prompt");if(S){var _=prompt(S);if(_===null||!triggerEvent(n,"htmx:prompt",{prompt:_,target:c}))return maybeCall(s),y(),l}if(p&&!o&&!confirm(p))return maybeCall(s),y(),l;let w=getHeaders(n,c,_);e!=="get"&&!usesFormData(n)&&(w["Content-Type"]="application/x-www-form-urlencoded"),i.headers&&(w=mergeObjects(w,i.headers));let C=getInputValues(n,e),O=C.errors,N=C.formData;i.values&&overrideFormData(N,formDataFromObject(i.values));let I=formDataFromObject(getExpressionVars(n)),$=overrideFormData(N,I),H=filterValues($,n);htmx.config.getCacheBusterParam&&e==="get"&&H.set("org.htmx.cache-buster",getRawAttribute(c,"id")||"true"),(t==null||t==="")&&(t=getDocument().location.href);let z=getValuesForElement(n,"hx-request"),lt=getInternalData(n).boosted,q=htmx.config.methodsThatUseUrlParams.indexOf(e)>=0,B={boosted:lt,useUrlParams:q,formData:H,parameters:formDataProxy(H),unfilteredFormData:$,unfilteredParameters:formDataProxy($),headers:w,target:c,verb:e,errors:O,withCredentials:i.credentials||z.credentials||htmx.config.withCredentials,timeout:i.timeout||z.timeout||htmx.config.timeout,path:t,triggeringEvent:r};if(!triggerEvent(n,"htmx:configRequest",B))return maybeCall(s),y(),l;if(t=B.path,e=B.verb,w=B.headers,H=formDataFromObject(B.parameters),O=B.errors,q=B.useUrlParams,O&&O.length>0)return triggerEvent(n,"htmx:validation:halted",B),maybeCall(s),y(),l;let ut=t.split("#"),ct=ut[0],St=ut[1],pt=t;if(q&&(pt=ct,!H.keys().next().done&&(pt.indexOf("?")<0?pt+="?":pt+="&",pt+=urlEncode(H),St&&(pt+="#"+St))),!verifyPath(n,pt,B))return triggerErrorEvent(n,"htmx:invalidPath",B),maybeCall(a),l;if(T.open(e.toUpperCase(),pt,!0),T.overrideMimeType("text/html"),T.withCredentials=B.withCredentials,T.timeout=B.timeout,!z.noHeaders){for(let V in w)if(w.hasOwnProperty(V)){let G=w[V];safelySetHeaderValue(T,V,G)}}let X={xhr:T,target:c,requestConfig:B,etc:i,boosted:lt,select:d,pathInfo:{requestPath:t,finalRequestPath:pt,responsePath:null,anchor:St}};if(T.onload=function(){try{let V=hierarchyForElt(n);if(X.pathInfo.responsePath=getPathFromResponse(T),u(n,X),X.keepIndicators!==!0&&removeRequestIndicators(me,Yt),triggerEvent(n,"htmx:afterRequest",X),triggerEvent(n,"htmx:afterOnLoad",X),!bodyContains(n)){let G=null;for(;V.length>0&&G==null;){let _t=V.shift();bodyContains(_t)&&(G=_t)}G&&(triggerEvent(G,"htmx:afterRequest",X),triggerEvent(G,"htmx:afterOnLoad",X))}maybeCall(s),y()}catch(V){throw triggerErrorEvent(n,"htmx:onLoadError",mergeObjects({error:V},X)),V}},T.onerror=function(){removeRequestIndicators(me,Yt),triggerErrorEvent(n,"htmx:afterRequest",X),triggerErrorEvent(n,"htmx:sendError",X),maybeCall(a),y()},T.onabort=function(){removeRequestIndicators(me,Yt),triggerErrorEvent(n,"htmx:afterRequest",X),triggerErrorEvent(n,"htmx:sendAbort",X),maybeCall(a),y()},T.ontimeout=function(){removeRequestIndicators(me,Yt),triggerErrorEvent(n,"htmx:afterRequest",X),triggerErrorEvent(n,"htmx:timeout",X),maybeCall(a),y()},!triggerEvent(n,"htmx:beforeRequest",X))return maybeCall(s),y(),l;var me=addRequestIndicatorClasses(n),Yt=disableElements(n);forEach(["loadstart","loadend","progress","abort"],function(V){forEach([T,T.upload],function(G){G.addEventListener(V,function(_t){triggerEvent(n,"htmx:xhr:"+V,{lengthComputable:_t.lengthComputable,loaded:_t.loaded,total:_t.total})})})}),triggerEvent(n,"htmx:beforeSend",X);let Gt=q?null:encodeParamsForBody(T,n,H);return T.send(Gt),l}function determineHistoryUpdates(e,t){let n=t.xhr,r=null,i=null;if(hasHeader(n,/HX-Push:/i)?(r=n.getResponseHeader("HX-Push"),i="push"):hasHeader(n,/HX-Push-Url:/i)?(r=n.getResponseHeader("HX-Push-Url"),i="push"):hasHeader(n,/HX-Replace-Url:/i)&&(r=n.getResponseHeader("HX-Replace-Url"),i="replace"),r)return r==="false"?{}:{type:i,path:r};let o=t.pathInfo.finalRequestPath,s=t.pathInfo.responsePath,a=getClosestAttributeValue(e,"hx-push-url"),l=getClosestAttributeValue(e,"hx-replace-url"),u=getInternalData(e).boosted,d=null,c=null;return a?(d="push",c=a):l?(d="replace",c=l):u&&(d="push",c=s||o),c?c==="false"?{}:(c==="true"&&(c=s||o),t.pathInfo.anchor&&c.indexOf("#")===-1&&(c=c+"#"+t.pathInfo.anchor),{type:d,path:c}):{}}function codeMatches(e,t){var n=new RegExp(e.code);return n.test(t.toString(10))}function resolveResponseHandling(e){for(var t=0;t<htmx.config.responseHandling.length;t++){var n=htmx.config.responseHandling[t];if(codeMatches(n,e.status))return n}return{swap:!1}}function handleTitle(e){if(e){let t=find("title");t?t.innerHTML=e:window.document.title=e}}function handleAjaxResponse(e,t){let n=t.xhr,r=t.target,i=t.etc,o=t.select;if(!triggerEvent(e,"htmx:beforeOnLoad",t))return;if(hasHeader(n,/HX-Trigger:/i)&&handleTriggerHeader(n,"HX-Trigger",e),hasHeader(n,/HX-Location:/i)){saveCurrentPageToHistory();let b=n.getResponseHeader("HX-Location");var s;b.indexOf("{")===0&&(s=parseJSON(b),b=s.path,delete s.path),ajaxHelper("get",b,s).then(function(){pushUrlIntoHistory(b)});return}let a=hasHeader(n,/HX-Refresh:/i)&&n.getResponseHeader("HX-Refresh")==="true";if(hasHeader(n,/HX-Redirect:/i)){t.keepIndicators=!0,location.href=n.getResponseHeader("HX-Redirect"),a&&location.reload();return}if(a){t.keepIndicators=!0,location.reload();return}hasHeader(n,/HX-Retarget:/i)&&(n.getResponseHeader("HX-Retarget")==="this"?t.target=e:t.target=asElement(querySelectorExt(e,n.getResponseHeader("HX-Retarget"))));let l=determineHistoryUpdates(e,t),u=resolveResponseHandling(n),d=u.swap,c=!!u.error,f=htmx.config.ignoreTitle||u.ignoreTitle,h=u.select;u.target&&(t.target=asElement(querySelectorExt(e,u.target)));var p=i.swapOverride;p==null&&u.swapOverride&&(p=u.swapOverride),hasHeader(n,/HX-Retarget:/i)&&(n.getResponseHeader("HX-Retarget")==="this"?t.target=e:t.target=asElement(querySelectorExt(e,n.getResponseHeader("HX-Retarget")))),hasHeader(n,/HX-Reswap:/i)&&(p=n.getResponseHeader("HX-Reswap"));var g=n.response,m=mergeObjects({shouldSwap:d,serverResponse:g,isError:c,ignoreTitle:f,selectOverride:h,swapOverride:p},t);if(!(u.event&&!triggerEvent(r,u.event,m))&&triggerEvent(r,"htmx:beforeSwap",m)){if(r=m.target,g=m.serverResponse,c=m.isError,f=m.ignoreTitle,h=m.selectOverride,p=m.swapOverride,t.target=r,t.failed=c,t.successful=!c,m.shouldSwap){n.status===286&&cancelPolling(e),withExtensions(e,function(C){g=C.transformResponse(g,n,e)}),l.type&&saveCurrentPageToHistory();var v=getSwapSpecification(e,p);v.hasOwnProperty("ignoreTitle")||(v.ignoreTitle=f),r.classList.add(htmx.config.swappingClass);let b=null,T=null;o&&(h=o),hasHeader(n,/HX-Reselect:/i)&&(h=n.getResponseHeader("HX-Reselect"));let y=getClosestAttributeValue(e,"hx-select-oob"),S=getClosestAttributeValue(e,"hx-select"),_=function(){try{l.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:l},t)),l.type==="push"?(pushUrlIntoHistory(l.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:l.path})):(replaceUrlInHistory(l.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:l.path}))),swap(r,g,v,{select:h||S,selectOOB:y,eventInfo:t,anchor:t.pathInfo.anchor,contextElement:e,afterSwapCallback:function(){if(hasHeader(n,/HX-Trigger-After-Swap:/i)){let C=e;bodyContains(e)||(C=getDocument().body),handleTriggerHeader(n,"HX-Trigger-After-Swap",C)}},afterSettleCallback:function(){if(hasHeader(n,/HX-Trigger-After-Settle:/i)){let C=e;bodyContains(e)||(C=getDocument().body),handleTriggerHeader(n,"HX-Trigger-After-Settle",C)}maybeCall(b)}})}catch(C){throw triggerErrorEvent(e,"htmx:swapError",t),maybeCall(T),C}},w=htmx.config.globalViewTransitions;if(v.hasOwnProperty("transition")&&(w=v.transition),w&&triggerEvent(e,"htmx:beforeTransition",t)&&typeof Promise<"u"&&document.startViewTransition){let C=new Promise(function(N,I){b=N,T=I}),O=_;_=function(){document.startViewTransition(function(){return O(),C})}}v.swapDelay>0?getWindow().setTimeout(_,v.swapDelay):_()}c&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+n.status+" from "+t.pathInfo.requestPath},t))}}let extensions={};function extensionBase(){return{init:function(e){return null},getSelectors:function(){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,n){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,n,r){return!1},encodeParameters:function(e,t,n){return null}}}function defineExtension(e,t){t.init&&t.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),t)}function removeExtension(e){delete extensions[e]}function getExtensions(e,t,n){if(t==null&&(t=[]),e==null)return t;n==null&&(n=[]);let r=getAttributeValue(e,"hx-ext");return r&&forEach(r.split(","),function(i){if(i=i.replace(/ /g,""),i.slice(0,7)=="ignore:"){n.push(i.slice(7));return}if(n.indexOf(i)<0){let o=extensions[i];o&&t.indexOf(o)<0&&t.push(o)}}),getExtensions(asElement(parentElt(e)),t,n)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(e){isReady||getDocument().readyState==="complete"?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){let e=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+e+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){let e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){let e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let e=getDocument().body;processNode(e);let t=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",function(r){let i=r.target,o=getInternalData(i);o&&o.xhr&&o.xhr.abort()});let n=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(r){r.state&&r.state.htmx?(restoreHistory(),forEach(t,function(i){triggerEvent(i,"htmx:restored",{document:getDocument(),triggerEvent})})):n&&n(r)},getWindow().setTimeout(function(){triggerEvent(e,"htmx:load",{}),e=null},0)}),htmx}(),sr=xh;var lo={};Sh(lo,{afterMain:()=>eu,afterRead:()=>Ql,afterWrite:()=>iu,applyStyles:()=>lr,arrow:()=>to,auto:()=>Fr,basePlacements:()=>xe,beforeMain:()=>Zl,beforeRead:()=>Gl,beforeWrite:()=>nu,bottom:()=>ft,clippingParents:()=>Os,computeStyles:()=>cr,createPopper:()=>zr,createPopperBase:()=>hu,createPopperLite:()=>pu,detectOverflow:()=>Lt,end:()=>Ze,eventListeners:()=>dr,flip:()=>io,hide:()=>oo,left:()=>st,main:()=>tu,modifierPhases:()=>Ds,offset:()=>so,placements:()=>$r,popper:()=>vn,popperGenerator:()=>An,popperOffsets:()=>pr,preventOverflow:()=>ao,read:()=>Jl,reference:()=>Cs,right:()=>dt,start:()=>Se,top:()=>rt,variationPlacements:()=>Zi,viewport:()=>Ur,write:()=>ru});var rt="top",ft="bottom",dt="right",st="left",Fr="auto",xe=[rt,ft,dt,st],Se="start",Ze="end",Os="clippingParents",Ur="viewport",vn="popper",Cs="reference",Zi=xe.reduce(function(e,t){return e.concat([t+"-"+Se,t+"-"+Ze])},[]),$r=[].concat(xe,[Fr]).reduce(function(e,t){return e.concat([t,t+"-"+Se,t+"-"+Ze])},[]),Gl="beforeRead",Jl="read",Ql="afterRead",Zl="beforeMain",tu="main",eu="afterMain",nu="beforeWrite",ru="write",iu="afterWrite",Ds=[Gl,Jl,Ql,Zl,tu,eu,nu,ru,iu];function Et(e){return e?(e.nodeName||"").toLowerCase():null}function Z(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ae(e){var t=Z(e).Element;return e instanceof t||e instanceof Element}function gt(e){var t=Z(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ar(e){if(typeof ShadowRoot>"u")return!1;var t=Z(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Oh(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!gt(o)||!Et(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Ch(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!gt(i)||!Et(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var lr={name:"applyStyles",enabled:!0,phase:"write",fn:Oh,effect:Ch,requires:["computeStyles"]};function wt(e){return e.split("-")[0]}var ve=Math.max,yn=Math.min,Oe=Math.round;function ur(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Hr(){return!/^((?!chrome|android).)*safari/i.test(ur())}function le(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&gt(e)&&(i=e.offsetWidth>0&&Oe(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Oe(r.height)/e.offsetHeight||1);var s=ae(e)?Z(e):window,a=s.visualViewport,l=!Hr()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/o,c=r.width/i,f=r.height/o;return{width:c,height:f,top:d,right:u+c,bottom:d+f,left:u,x:u,y:d}}function bn(e){var t=le(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function jr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ar(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rt(e){return Z(e).getComputedStyle(e)}function Ps(e){return["table","td","th"].indexOf(Et(e))>=0}function At(e){return((ae(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ce(e){return Et(e)==="html"?e:e.assignedSlot||e.parentNode||(ar(e)?e.host:null)||At(e)}function ou(e){return!gt(e)||Rt(e).position==="fixed"?null:e.offsetParent}function Dh(e){var t=/firefox/i.test(ur()),n=/Trident/i.test(ur());if(n&&gt(e)){var r=Rt(e);if(r.position==="fixed")return null}var i=Ce(e);for(ar(i)&&(i=i.host);gt(i)&&["html","body"].indexOf(Et(i))<0;){var o=Rt(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ye(e){for(var t=Z(e),n=ou(e);n&&Ps(n)&&Rt(n).position==="static";)n=ou(n);return n&&(Et(n)==="html"||Et(n)==="body"&&Rt(n).position==="static")?t:n||Dh(e)||t}function _n(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function En(e,t,n){return ve(e,yn(t,n))}function su(e,t,n){var r=En(e,t,n);return r>n?n:r}function Br(){return{top:0,right:0,bottom:0,left:0}}function Vr(e){return Object.assign({},Br(),e)}function qr(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Ph=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Vr(typeof t!="number"?t:qr(t,xe))};function Nh(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=wt(n.placement),l=_n(a),u=[st,dt].indexOf(a)>=0,d=u?"height":"width";if(!(!o||!s)){var c=Ph(i.padding,n),f=bn(o),h=l==="y"?rt:st,p=l==="y"?ft:dt,g=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],m=s[l]-n.rects.reference[l],v=ye(o),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,T=g/2-m/2,y=c[h],S=b-f[d]-c[p],_=b/2-f[d]/2+T,w=En(y,_,S),C=l;n.modifiersData[r]=(t={},t[C]=w,t.centerOffset=w-_,t)}}function Ih(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||jr(t.elements.popper,i)&&(t.elements.arrow=i))}var to={name:"arrow",enabled:!0,phase:"main",fn:Nh,effect:Ih,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ue(e){return e.split("-")[1]}var Mh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rh(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Oe(n*i)/i||0,y:Oe(r*i)/i||0}}function au(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,c=e.isFixed,f=s.x,h=f===void 0?0:f,p=s.y,g=p===void 0?0:p,m=typeof d=="function"?d({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),T=st,y=rt,S=window;if(u){var _=ye(n),w="clientHeight",C="clientWidth";if(_===Z(n)&&(_=At(n),Rt(_).position!=="static"&&a==="absolute"&&(w="scrollHeight",C="scrollWidth")),_=_,i===rt||(i===st||i===dt)&&o===Ze){y=ft;var O=c&&_===S&&S.visualViewport?S.visualViewport.height:_[w];g-=O-r.height,g*=l?1:-1}if(i===st||(i===rt||i===ft)&&o===Ze){T=dt;var N=c&&_===S&&S.visualViewport?S.visualViewport.width:_[C];h-=N-r.width,h*=l?1:-1}}var I=Object.assign({position:a},u&&Mh),$=d===!0?Rh({x:h,y:g},Z(n)):{x:h,y:g};if(h=$.x,g=$.y,l){var H;return Object.assign({},I,(H={},H[y]=b?"0":"",H[T]=v?"0":"",H.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",H))}return Object.assign({},I,(t={},t[y]=b?g+"px":"",t[T]=v?h+"px":"",t.transform="",t))}function Lh(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:wt(t.placement),variation:ue(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,au(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,au(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var cr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Lh,data:{}};var eo={passive:!0};function kh(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Z(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",n.update,eo)}),a&&l.addEventListener("resize",n.update,eo),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",n.update,eo)}),a&&l.removeEventListener("resize",n.update,eo)}}var dr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kh,data:{}};var Fh={left:"right",right:"left",bottom:"top",top:"bottom"};function fr(e){return e.replace(/left|right|bottom|top/g,function(t){return Fh[t]})}var Uh={start:"end",end:"start"};function no(e){return e.replace(/start|end/g,function(t){return Uh[t]})}function wn(e){var t=Z(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Tn(e){return le(At(e)).left+wn(e).scrollLeft}function Ns(e,t){var n=Z(e),r=At(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=Hr();(u||!u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Tn(e),y:l}}function Is(e){var t,n=At(e),r=wn(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=ve(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ve(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Tn(e),l=-r.scrollTop;return Rt(i||n).direction==="rtl"&&(a+=ve(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Sn(e){var t=Rt(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ro(e){return["html","body","#document"].indexOf(Et(e))>=0?e.ownerDocument.body:gt(e)&&Sn(e)?e:ro(Ce(e))}function tn(e,t){var n;t===void 0&&(t=[]);var r=ro(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Z(r),s=i?[o].concat(o.visualViewport||[],Sn(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(tn(Ce(s)))}function hr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $h(e,t){var n=le(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function lu(e,t,n){return t===Ur?hr(Ns(e,n)):ae(t)?$h(t,n):hr(Is(At(e)))}function Hh(e){var t=tn(Ce(e)),n=["absolute","fixed"].indexOf(Rt(e).position)>=0,r=n&&gt(e)?ye(e):e;return ae(r)?t.filter(function(i){return ae(i)&&jr(i,r)&&Et(i)!=="body"}):[]}function Ms(e,t,n,r){var i=t==="clippingParents"?Hh(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var d=lu(e,u,r);return l.top=ve(d.top,l.top),l.right=yn(d.right,l.right),l.bottom=yn(d.bottom,l.bottom),l.left=ve(d.left,l.left),l},lu(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Wr(e){var t=e.reference,n=e.element,r=e.placement,i=r?wt(r):null,o=r?ue(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case rt:l={x:s,y:t.y-n.height};break;case ft:l={x:s,y:t.y+t.height};break;case dt:l={x:t.x+t.width,y:a};break;case st:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?_n(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case Se:l[u]=l[u]-(t[d]/2-n[d]/2);break;case Ze:l[u]=l[u]+(t[d]/2-n[d]/2);break;default:}}return l}function Lt(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?Os:a,u=n.rootBoundary,d=u===void 0?Ur:u,c=n.elementContext,f=c===void 0?vn:c,h=n.altBoundary,p=h===void 0?!1:h,g=n.padding,m=g===void 0?0:g,v=Vr(typeof m!="number"?m:qr(m,xe)),b=f===vn?Cs:vn,T=e.rects.popper,y=e.elements[p?b:f],S=Ms(ae(y)?y:y.contextElement||At(e.elements.popper),l,d,s),_=le(e.elements.reference),w=Wr({reference:_,element:T,strategy:"absolute",placement:i}),C=hr(Object.assign({},T,w)),O=f===vn?C:_,N={top:S.top-O.top+v.top,bottom:O.bottom-S.bottom+v.bottom,left:S.left-O.left+v.left,right:O.right-S.right+v.right},I=e.modifiersData.offset;if(f===vn&&I){var $=I[i];Object.keys(N).forEach(function(H){var z=[dt,ft].indexOf(H)>=0?1:-1,lt=[rt,ft].indexOf(H)>=0?"y":"x";N[H]+=$[lt]*z})}return N}function Rs(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?$r:l,d=ue(r),c=d?a?Zi:Zi.filter(function(p){return ue(p)===d}):xe,f=c.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=c);var h=f.reduce(function(p,g){return p[g]=Lt(e,{placement:g,boundary:i,rootBoundary:o,padding:s})[wt(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function jh(e){if(wt(e)===Fr)return[];var t=fr(e);return[no(e),t,no(t)]}function Bh(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,d=n.boundary,c=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,g=n.allowedAutoPlacements,m=t.options.placement,v=wt(m),b=v===m,T=l||(b||!p?[fr(m)]:jh(m)),y=[m].concat(T).reduce(function(Yt,Gt){return Yt.concat(wt(Gt)===Fr?Rs(t,{placement:Gt,boundary:d,rootBoundary:c,padding:u,flipVariations:p,allowedAutoPlacements:g}):Gt)},[]),S=t.rects.reference,_=t.rects.popper,w=new Map,C=!0,O=y[0],N=0;N<y.length;N++){var I=y[N],$=wt(I),H=ue(I)===Se,z=[rt,ft].indexOf($)>=0,lt=z?"width":"height",q=Lt(t,{placement:I,boundary:d,rootBoundary:c,altBoundary:f,padding:u}),B=z?H?dt:st:H?ft:rt;S[lt]>_[lt]&&(B=fr(B));var ut=fr(B),ct=[];if(o&&ct.push(q[$]<=0),a&&ct.push(q[B]<=0,q[ut]<=0),ct.every(function(Yt){return Yt})){O=I,C=!1;break}w.set(I,ct)}if(C)for(var St=p?3:1,pt=function(Gt){var V=y.find(function(G){var _t=w.get(G);if(_t)return _t.slice(0,Gt).every(function(Je){return Je})});if(V)return O=V,"break"},X=St;X>0;X--){var me=pt(X);if(me==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}var io={name:"flip",enabled:!0,phase:"main",fn:Bh,requiresIfExists:["offset"],data:{_skip:!1}};function uu(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function cu(e){return[rt,dt,ft,st].some(function(t){return e[t]>=0})}function Vh(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Lt(t,{elementContext:"reference"}),a=Lt(t,{altBoundary:!0}),l=uu(s,r),u=uu(a,i,o),d=cu(l),c=cu(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:c},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":c})}var oo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vh};function qh(e,t,n){var r=wt(e),i=[st,rt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[st,dt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Wh(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=$r.reduce(function(d,c){return d[c]=qh(c,t.rects,o),d},{}),a=s[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}var so={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Wh};function zh(e){var t=e.state,n=e.name;t.modifiersData[n]=Wr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var pr={name:"popperOffsets",enabled:!0,phase:"read",fn:zh,data:{}};function Ls(e){return e==="x"?"y":"x"}function Kh(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,c=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,g=p===void 0?0:p,m=Lt(t,{boundary:l,rootBoundary:u,padding:c,altBoundary:d}),v=wt(t.placement),b=ue(t.placement),T=!b,y=_n(v),S=Ls(y),_=t.modifiersData.popperOffsets,w=t.rects.reference,C=t.rects.popper,O=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,N=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(_){if(o){var H,z=y==="y"?rt:st,lt=y==="y"?ft:dt,q=y==="y"?"height":"width",B=_[y],ut=B+m[z],ct=B-m[lt],St=h?-C[q]/2:0,pt=b===Se?w[q]:C[q],X=b===Se?-C[q]:-w[q],me=t.elements.arrow,Yt=h&&me?bn(me):{width:0,height:0},Gt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Br(),V=Gt[z],G=Gt[lt],_t=En(0,w[q],Yt[q]),Je=T?w[q]/2-St-_t-V-N.mainAxis:pt-_t-V-N.mainAxis,hh=T?-w[q]/2+St+_t+G+N.mainAxis:X+_t+G+N.mainAxis,Ss=t.elements.arrow&&ye(t.elements.arrow),ph=Ss?y==="y"?Ss.clientTop||0:Ss.clientLeft||0:0,jl=(H=I?.[y])!=null?H:0,gh=B+Je-jl-ph,mh=B+hh-jl,Bl=En(h?yn(ut,gh):ut,B,h?ve(ct,mh):ct);_[y]=Bl,$[y]=Bl-B}if(a){var Vl,vh=y==="x"?rt:st,yh=y==="x"?ft:dt,mn=_[S],Qi=S==="y"?"height":"width",ql=mn+m[vh],Wl=mn-m[yh],As=[rt,st].indexOf(v)!==-1,zl=(Vl=I?.[S])!=null?Vl:0,Kl=As?ql:mn-w[Qi]-C[Qi]-zl+N.altAxis,Xl=As?mn+w[Qi]+C[Qi]-zl-N.altAxis:Wl,Yl=h&&As?su(Kl,mn,Xl):En(h?Kl:ql,mn,h?Xl:Wl);_[S]=Yl,$[S]=Yl-mn}t.modifiersData[r]=$}}var ao={name:"preventOverflow",enabled:!0,phase:"main",fn:Kh,requiresIfExists:["offset"]};function ks(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Fs(e){return e===Z(e)||!gt(e)?wn(e):ks(e)}function Xh(e){var t=e.getBoundingClientRect(),n=Oe(t.width)/e.offsetWidth||1,r=Oe(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Us(e,t,n){n===void 0&&(n=!1);var r=gt(t),i=gt(t)&&Xh(t),o=At(t),s=le(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Et(t)!=="body"||Sn(o))&&(a=Fs(t)),gt(t)?(l=le(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Tn(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Yh(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function $s(e){var t=Yh(e);return Ds.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Hs(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function js(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var du={placement:"bottom",modifiers:[],strategy:"absolute"};function fu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function An(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?du:i;return function(a,l,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},du,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},c=[],f=!1,h={state:d,setOptions:function(v){var b=typeof v=="function"?v(d.options):v;g(),d.options=Object.assign({},o,d.options,b),d.scrollParents={reference:ae(a)?tn(a):a.contextElement?tn(a.contextElement):[],popper:tn(l)};var T=$s(js([].concat(r,d.options.modifiers)));return d.orderedModifiers=T.filter(function(y){return y.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var v=d.elements,b=v.reference,T=v.popper;if(fu(b,T)){d.rects={reference:Us(b,ye(T),d.options.strategy==="fixed"),popper:bn(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(N){return d.modifiersData[N.name]=Object.assign({},N.data)});for(var y=0;y<d.orderedModifiers.length;y++){if(d.reset===!0){d.reset=!1,y=-1;continue}var S=d.orderedModifiers[y],_=S.fn,w=S.options,C=w===void 0?{}:w,O=S.name;typeof _=="function"&&(d=_({state:d,options:C,name:O,instance:h})||d)}}}},update:Hs(function(){return new Promise(function(m){h.forceUpdate(),m(d)})}),destroy:function(){g(),f=!0}};if(!fu(a,l))return h;h.setOptions(u).then(function(m){!f&&u.onFirstUpdate&&u.onFirstUpdate(m)});function p(){d.orderedModifiers.forEach(function(m){var v=m.name,b=m.options,T=b===void 0?{}:b,y=m.effect;if(typeof y=="function"){var S=y({state:d,name:v,instance:h,options:T}),_=function(){};c.push(S||_)}})}function g(){c.forEach(function(m){return m()}),c=[]}return h}}var hu=An();var Gh=[dr,pr,cr,lr],pu=An({defaultModifiers:Gh});var Jh=[dr,pr,cr,lr,so,io,ao,to,oo],zr=An({defaultModifiers:Jh});var en=new Map,Bs={set(e,t,n){en.has(e)||en.set(e,new Map);let r=en.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get(e,t){return en.has(e)&&en.get(e).get(t)||null},remove(e,t){if(!en.has(e))return;let n=en.get(e);n.delete(t),n.size===0&&en.delete(e)}},Qh=1e6,Zh=1e3,ra="transitionend",Vu=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),tp=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),ep=e=>{do e+=Math.floor(Math.random()*Qh);while(document.getElementById(e));return e},np=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e),r=Number.parseFloat(t),i=Number.parseFloat(n);return!r&&!i?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*Zh)},qu=e=>{e.dispatchEvent(new Event(ra))},De=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),nn=e=>De(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(Vu(e)):null,wr=e=>{if(!De(e)||e.getClientRects().length===0)return!1;let t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){let r=e.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return t},rn=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",Wu=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Wu(e.parentNode):null},yo=()=>{},Qr=e=>{e.offsetHeight},zu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Vs=[],rp=e=>{document.readyState==="loading"?(Vs.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of Vs)t()}),Vs.push(e)):e()},ce=()=>document.documentElement.dir==="rtl",fe=e=>{rp(()=>{let t=zu();if(t){let n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},Vt=(e,t=[],n=e)=>typeof e=="function"?e.call(...t):n,Ku=(e,t,n=!0)=>{if(!n){Vt(e);return}let i=np(t)+5,o=!1,s=({target:a})=>{a===t&&(o=!0,t.removeEventListener(ra,s),Vt(e))};t.addEventListener(ra,s),setTimeout(()=>{o||qu(t)},i)},la=(e,t,n,r)=>{let i=e.length,o=e.indexOf(t);return o===-1?!n&&r?e[i-1]:e[0]:(o+=n?1:-1,r&&(o=(o+i)%i),e[Math.max(0,Math.min(o,i-1))])},ip=/[^.]*(?=\..*)\.|.*/,op=/\..*/,sp=/::\d+$/,qs={},gu=1,Xu={mouseenter:"mouseover",mouseleave:"mouseout"},ap=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Yu(e,t){return t&&`${t}::${gu++}`||e.uidEvent||gu++}function Gu(e){let t=Yu(e);return e.uidEvent=t,qs[t]=qs[t]||{},qs[t]}function lp(e,t){return function n(r){return ua(r,{delegateTarget:e}),n.oneOff&&E.off(e,r.type,t),t.apply(e,[r])}}function up(e,t,n){return function r(i){let o=e.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return ua(i,{delegateTarget:s}),r.oneOff&&E.off(e,i.type,t,n),n.apply(s,[i])}}function Ju(e,t,n=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===n)}function Qu(e,t,n){let r=typeof t=="string",i=r?n:t||n,o=Zu(e);return ap.has(o)||(o=e),[r,i,o]}function mu(e,t,n,r,i){if(typeof t!="string"||!e)return;let[o,s,a]=Qu(t,n,r);t in Xu&&(s=(p=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return p.call(this,g)})(s));let l=Gu(e),u=l[a]||(l[a]={}),d=Ju(u,s,o?n:null);if(d){d.oneOff=d.oneOff&&i;return}let c=Yu(s,t.replace(ip,"")),f=o?up(e,n,s):lp(e,s);f.delegationSelector=o?n:null,f.callable=s,f.oneOff=i,f.uidEvent=c,u[c]=f,e.addEventListener(a,f,o)}function ia(e,t,n,r,i){let o=Ju(t[n],r,i);o&&(e.removeEventListener(n,o,!!i),delete t[n][o.uidEvent])}function cp(e,t,n,r){let i=t[n]||{};for(let[o,s]of Object.entries(i))o.includes(r)&&ia(e,t,n,s.callable,s.delegationSelector)}function Zu(e){return e=e.replace(op,""),Xu[e]||e}var E={on(e,t,n,r){mu(e,t,n,r,!1)},one(e,t,n,r){mu(e,t,n,r,!0)},off(e,t,n,r){if(typeof t!="string"||!e)return;let[i,o,s]=Qu(t,n,r),a=s!==t,l=Gu(e),u=l[s]||{},d=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(u).length)return;ia(e,l,s,o,i?n:null);return}if(d)for(let c of Object.keys(l))cp(e,l,c,t.slice(1));for(let[c,f]of Object.entries(u)){let h=c.replace(sp,"");(!a||t.includes(h))&&ia(e,l,s,f.callable,f.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;let r=zu(),i=Zu(t),o=t!==i,s=null,a=!0,l=!0,u=!1;o&&r&&(s=r.Event(t,n),r(e).trigger(s),a=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented());let d=ua(new Event(t,{bubbles:a,cancelable:!0}),n);return u&&d.preventDefault(),l&&e.dispatchEvent(d),d.defaultPrevented&&s&&s.preventDefault(),d}};function ua(e,t={}){for(let[n,r]of Object.entries(t))try{e[n]=r}catch{Object.defineProperty(e,n,{configurable:!0,get(){return r}})}return e}function vu(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Ws(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}var Pe={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Ws(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Ws(t)}`)},getDataAttributes(e){if(!e)return{};let t={},n=Object.keys(e.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),t[i]=vu(e.dataset[r])}return t},getDataAttribute(e,t){return vu(e.getAttribute(`data-bs-${Ws(t)}`))}},Cn=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){let r=De(n)?Pe.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...De(n)?Pe.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(let[r,i]of Object.entries(n)){let o=t[r],s=De(o)?"element":tp(o);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}},dp="5.3.5",Jt=class extends Cn{constructor(t,n){super(),t=nn(t),t&&(this._element=t,this._config=this._getConfig(n),Bs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Bs.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){Ku(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Bs.get(nn(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return dp}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}},zs=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>Vu(n)).join(","):null},M={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){let n=[],r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!rn(n)&&wr(n))},getSelectorFromElement(e){let t=zs(e);return t&&M.findOne(t)?t:null},getElementFromSelector(e){let t=zs(e);return t?M.findOne(t):null},getMultipleElementsFromSelector(e){let t=zs(e);return t?M.find(t):[]}},Co=(e,t="hide")=>{let n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;E.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),rn(this))return;let o=M.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(o)[t]()})},fp="alert",hp="bs.alert",tc=`.${hp}`,pp=`close${tc}`,gp=`closed${tc}`,mp="fade",vp="show",bo=class e extends Jt{static get NAME(){return fp}close(){if(E.trigger(this._element,pp).defaultPrevented)return;this._element.classList.remove(vp);let n=this._element.classList.contains(mp);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),E.trigger(this._element,gp),this.dispose()}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};Co(bo,"close");fe(bo);var yp="button",bp="bs.button",_p=`.${bp}`,Ep=".data-api",wp="active",yu='[data-bs-toggle="button"]',Tp=`click${_p}${Ep}`,_o=class e extends Jt{static get NAME(){return yp}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(wp))}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this);t==="toggle"&&n[t]()})}};E.on(document,Tp,yu,e=>{e.preventDefault();let t=e.target.closest(yu);_o.getOrCreateInstance(t).toggle()});fe(_o);var Sp="swipe",Tr=".bs.swipe",Ap=`touchstart${Tr}`,xp=`touchmove${Tr}`,Op=`touchend${Tr}`,Cp=`pointerdown${Tr}`,Dp=`pointerup${Tr}`,Pp="touch",Np="pen",Ip="pointer-event",Mp=40,Rp={endCallback:null,leftCallback:null,rightCallback:null},Lp={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},Eo=class e extends Cn{constructor(t,n){super(),this._element=t,!(!t||!e.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Rp}static get DefaultType(){return Lp}static get NAME(){return Sp}dispose(){E.off(this._element,Tr)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Vt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=Mp)return;let n=t/this._deltaX;this._deltaX=0,n&&Vt(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(E.on(this._element,Cp,t=>this._start(t)),E.on(this._element,Dp,t=>this._end(t)),this._element.classList.add(Ip)):(E.on(this._element,Ap,t=>this._start(t)),E.on(this._element,xp,t=>this._move(t)),E.on(this._element,Op,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Np||t.pointerType===Pp)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},kp="carousel",Fp="bs.carousel",an=`.${Fp}`,ec=".data-api",Up="ArrowLeft",$p="ArrowRight",Hp=500,Kr="next",gr="prev",vr="left",mo="right",jp=`slide${an}`,Ks=`slid${an}`,Bp=`keydown${an}`,Vp=`mouseenter${an}`,qp=`mouseleave${an}`,Wp=`dragstart${an}`,zp=`load${an}${ec}`,Kp=`click${an}${ec}`,nc="carousel",uo="active",Xp="slide",Yp="carousel-item-end",Gp="carousel-item-start",Jp="carousel-item-next",Qp="carousel-item-prev",rc=".active",ic=".carousel-item",Zp=rc+ic,tg=".carousel-item img",eg=".carousel-indicators",ng="[data-bs-slide], [data-bs-slide-to]",rg='[data-bs-ride="carousel"]',ig={[Up]:mo,[$p]:vr},og={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},sg={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},Yr=class e extends Jt{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=M.findOne(eg,this._element),this._addEventListeners(),this._config.ride===nc&&this.cycle()}static get Default(){return og}static get DefaultType(){return sg}static get NAME(){return kp}next(){this._slide(Kr)}nextWhenVisible(){!document.hidden&&wr(this._element)&&this.next()}prev(){this._slide(gr)}pause(){this._isSliding&&qu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){E.one(this._element,Ks,()=>this.cycle());return}this.cycle()}}to(t){let n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){E.one(this._element,Ks,()=>this.to(t));return}let r=this._getItemIndex(this._getActive());if(r===t)return;let i=t>r?Kr:gr;this._slide(i,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&E.on(this._element,Bp,t=>this._keydown(t)),this._config.pause==="hover"&&(E.on(this._element,Vp,()=>this.pause()),E.on(this._element,qp,()=>this._maybeEnableCycle())),this._config.touch&&Eo.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let r of M.find(tg,this._element))E.on(r,Wp,i=>i.preventDefault());let n={leftCallback:()=>this._slide(this._directionToOrder(vr)),rightCallback:()=>this._slide(this._directionToOrder(mo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Hp+this._config.interval))}};this._swipeHelper=new Eo(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let n=ig[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let n=M.findOne(rc,this._indicatorsElement);n.classList.remove(uo),n.removeAttribute("aria-current");let r=M.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(uo),r.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;let r=this._getActive(),i=t===Kr,o=n||la(this._getItems(),r,i,this._config.wrap);if(o===r)return;let s=this._getItemIndex(o),a=h=>E.trigger(this._element,h,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:s});if(a(jp).defaultPrevented||!r||!o)return;let u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let d=i?Gp:Yp,c=i?Jp:Qp;o.classList.add(c),Qr(o),r.classList.add(d),o.classList.add(d);let f=()=>{o.classList.remove(d,c),o.classList.add(uo),r.classList.remove(uo,c,d),this._isSliding=!1,a(Ks)};this._queueCallback(f,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(Xp)}_getActive(){return M.findOne(Zp,this._element)}_getItems(){return M.find(ic,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return ce()?t===vr?gr:Kr:t===vr?Kr:gr}_orderToDirection(t){return ce()?t===gr?vr:mo:t===gr?mo:vr}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};E.on(document,Kp,ng,function(e){let t=M.getElementFromSelector(this);if(!t||!t.classList.contains(nc))return;e.preventDefault();let n=Yr.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(Pe.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});E.on(window,zp,()=>{let e=M.find(rg);for(let t of e)Yr.getOrCreateInstance(t)});fe(Yr);var ag="collapse",lg="bs.collapse",Zr=`.${lg}`,ug=".data-api",cg=`show${Zr}`,dg=`shown${Zr}`,fg=`hide${Zr}`,hg=`hidden${Zr}`,pg=`click${Zr}${ug}`,Xs="show",br="collapse",co="collapsing",gg="collapsed",mg=`:scope .${br} .${br}`,vg="collapse-horizontal",yg="width",bg="height",_g=".collapse.show, .collapse.collapsing",oa='[data-bs-toggle="collapse"]',Eg={parent:null,toggle:!0},wg={parent:"(null|element)",toggle:"boolean"},wo=class e extends Jt{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];let r=M.find(oa);for(let i of r){let o=M.getSelectorFromElement(i),s=M.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Eg}static get DefaultType(){return wg}static get NAME(){return ag}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(_g).filter(a=>a!==this._element).map(a=>e.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||E.trigger(this._element,cg).defaultPrevented)return;for(let a of t)a.hide();let r=this._getDimension();this._element.classList.remove(br),this._element.classList.add(co),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(co),this._element.classList.add(br,Xs),this._element.style[r]="",E.trigger(this._element,dg)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||E.trigger(this._element,fg).defaultPrevented)return;let n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Qr(this._element),this._element.classList.add(co),this._element.classList.remove(br,Xs);for(let i of this._triggerArray){let o=M.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(co),this._element.classList.add(br),E.trigger(this._element,hg)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Xs)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=nn(t.parent),t}_getDimension(){return this._element.classList.contains(vg)?yg:bg}_initializeChildren(){if(!this._config.parent)return;let t=this._getFirstLevelChildren(oa);for(let n of t){let r=M.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(t){let n=M.find(mg,this._config.parent);return M.find(t,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(t,n){if(t.length)for(let r of t)r.classList.toggle(gg,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(t){let n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){let r=e.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}};E.on(document,pg,oa,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(let t of M.getMultipleElementsFromSelector(this))wo.getOrCreateInstance(t,{toggle:!1}).toggle()});fe(wo);var bu="dropdown",Tg="bs.dropdown",Dn=`.${Tg}`,ca=".data-api",Sg="Escape",_u="Tab",Ag="ArrowUp",Eu="ArrowDown",xg=2,Og=`hide${Dn}`,Cg=`hidden${Dn}`,Dg=`show${Dn}`,Pg=`shown${Dn}`,oc=`click${Dn}${ca}`,sc=`keydown${Dn}${ca}`,Ng=`keyup${Dn}${ca}`,yr="show",Ig="dropup",Mg="dropend",Rg="dropstart",Lg="dropup-center",kg="dropdown-center",xn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Fg=`${xn}.${yr}`,vo=".dropdown-menu",Ug=".navbar",$g=".navbar-nav",Hg=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",jg=ce()?"top-end":"top-start",Bg=ce()?"top-start":"top-end",Vg=ce()?"bottom-end":"bottom-start",qg=ce()?"bottom-start":"bottom-end",Wg=ce()?"left-start":"right-start",zg=ce()?"right-start":"left-start",Kg="top",Xg="bottom",Yg={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Gg={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},on=class e extends Jt{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=M.next(this._element,vo)[0]||M.prev(this._element,vo)[0]||M.findOne(vo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Yg}static get DefaultType(){return Gg}static get NAME(){return bu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rn(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!E.trigger(this._element,Dg,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest($g))for(let r of[].concat(...document.body.children))E.on(r,"mouseover",yo);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(yr),this._element.classList.add(yr),E.trigger(this._element,Pg,t)}}hide(){if(rn(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!E.trigger(this._element,Og,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))E.off(r,"mouseover",yo);this._popper&&this._popper.destroy(),this._menu.classList.remove(yr),this._element.classList.remove(yr),this._element.setAttribute("aria-expanded","false"),Pe.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,Cg,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!De(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${bu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof lo>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:De(this._config.reference)?t=nn(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let n=this._getPopperConfig();this._popper=zr(t,this._menu,n)}_isShown(){return this._menu.classList.contains(yr)}_getPlacement(){let t=this._parent;if(t.classList.contains(Mg))return Wg;if(t.classList.contains(Rg))return zg;if(t.classList.contains(Lg))return Kg;if(t.classList.contains(kg))return Xg;let n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Ig)?n?Bg:jg:n?qg:Vg}_detectNavbar(){return this._element.closest(Ug)!==null}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Pe.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Vt(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:n}){let r=M.find(Hg,this._menu).filter(i=>wr(i));r.length&&la(r,n,t===Eu,!r.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===xg||t.type==="keyup"&&t.key!==_u)return;let n=M.find(Fg);for(let r of n){let i=e.getInstance(r);if(!i||i._config.autoClose===!1)continue;let o=t.composedPath(),s=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!s||i._config.autoClose==="outside"&&s||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===_u||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let a={relatedTarget:i._element};t.type==="click"&&(a.clickEvent=t),i._completeHide(a)}}static dataApiKeydownHandler(t){let n=/input|textarea/i.test(t.target.tagName),r=t.key===Sg,i=[Ag,Eu].includes(t.key);if(!i&&!r||n&&!r)return;t.preventDefault();let o=this.matches(xn)?this:M.prev(this,xn)[0]||M.next(this,xn)[0]||M.findOne(xn,t.delegateTarget.parentNode),s=e.getOrCreateInstance(o);if(i){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),o.focus())}};E.on(document,sc,xn,on.dataApiKeydownHandler);E.on(document,sc,vo,on.dataApiKeydownHandler);E.on(document,oc,on.clearMenus);E.on(document,Ng,on.clearMenus);E.on(document,oc,xn,function(e){e.preventDefault(),on.getOrCreateInstance(this).toggle()});fe(on);var ac="backdrop",Jg="fade",wu="show",Tu=`mousedown.bs.${ac}`,Qg={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Zg={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},To=class extends Cn{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Qg}static get DefaultType(){return Zg}static get NAME(){return ac}show(t){if(!this._config.isVisible){Vt(t);return}this._append();let n=this._getElement();this._config.isAnimated&&Qr(n),n.classList.add(wu),this._emulateAnimation(()=>{Vt(t)})}hide(t){if(!this._config.isVisible){Vt(t);return}this._getElement().classList.remove(wu),this._emulateAnimation(()=>{this.dispose(),Vt(t)})}dispose(){this._isAppended&&(E.off(this._element,Tu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Jg),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=nn(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),E.on(t,Tu,()=>{Vt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Ku(t,this._getElement(),this._config.isAnimated)}},tm="focustrap",em="bs.focustrap",So=`.${em}`,nm=`focusin${So}`,rm=`keydown.tab${So}`,im="Tab",om="forward",Su="backward",sm={autofocus:!0,trapElement:null},am={autofocus:"boolean",trapElement:"element"},Ao=class extends Cn{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return sm}static get DefaultType(){return am}static get NAME(){return tm}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),E.off(document,So),E.on(document,nm,t=>this._handleFocusin(t)),E.on(document,rm,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,E.off(document,So))}_handleFocusin(t){let{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;let r=M.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===Su?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===im&&(this._lastTabNavDirection=t.shiftKey?Su:om)}},Au=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xu=".sticky-top",fo="padding-right",Ou="margin-right",Gr=class{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,fo,n=>n+t),this._setElementAttributes(Au,fo,n=>n+t),this._setElementAttributes(xu,Ou,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,fo),this._resetElementAttributes(Au,fo),this._resetElementAttributes(xu,Ou)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,r){let i=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,n);let a=window.getComputedStyle(s).getPropertyValue(n);s.style.setProperty(n,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,n){let r=t.style.getPropertyValue(n);r&&Pe.setDataAttribute(t,n,r)}_resetElementAttributes(t,n){let r=i=>{let o=Pe.getDataAttribute(i,n);if(o===null){i.style.removeProperty(n);return}Pe.removeDataAttribute(i,n),i.style.setProperty(n,o)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,n){if(De(t)){n(t);return}for(let r of M.find(t,this._element))n(r)}},lm="modal",um="bs.modal",de=`.${um}`,cm=".data-api",dm="Escape",fm=`hide${de}`,hm=`hidePrevented${de}`,lc=`hidden${de}`,uc=`show${de}`,pm=`shown${de}`,gm=`resize${de}`,mm=`click.dismiss${de}`,vm=`mousedown.dismiss${de}`,ym=`keydown.dismiss${de}`,bm=`click${de}${cm}`,Cu="modal-open",_m="fade",Du="show",Ys="modal-static",Em=".modal.show",wm=".modal-dialog",Tm=".modal-body",Sm='[data-bs-toggle="modal"]',Am={backdrop:!0,focus:!0,keyboard:!0},xm={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},_r=class e extends Jt{constructor(t,n){super(t,n),this._dialog=M.findOne(wm,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Gr,this._addEventListeners()}static get Default(){return Am}static get DefaultType(){return xm}static get NAME(){return lm}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||E.trigger(this._element,uc,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Cu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||E.trigger(this._element,fm).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Du),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){E.off(window,de),E.off(this._dialog,de),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new To({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ao({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let n=M.findOne(Tm,this._dialog);n&&(n.scrollTop=0),Qr(this._element),this._element.classList.add(Du);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,pm,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){E.on(this._element,ym,t=>{if(t.key===dm){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),E.on(window,gm,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.on(this._element,vm,t=>{E.one(this._element,mm,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Cu),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,lc)})}_isAnimated(){return this._element.classList.contains(_m)}_triggerBackdropTransition(){if(E.trigger(this._element,hm).defaultPrevented)return;let n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Ys)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Ys),this._queueCallback(()=>{this._element.classList.remove(Ys),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!t){let i=ce()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&t){let i=ce()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){let r=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](n)}})}};E.on(document,bm,Sm,function(e){let t=M.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),E.one(t,uc,i=>{i.defaultPrevented||E.one(t,lc,()=>{wr(this)&&this.focus()})});let n=M.findOne(Em);n&&_r.getInstance(n).hide(),_r.getOrCreateInstance(t).toggle(this)});Co(_r);fe(_r);var Om="offcanvas",Cm="bs.offcanvas",Ne=`.${Cm}`,cc=".data-api",Dm=`load${Ne}${cc}`,Pm="Escape",Pu="show",Nu="showing",Iu="hiding",Nm="offcanvas-backdrop",dc=".offcanvas.show",Im=`show${Ne}`,Mm=`shown${Ne}`,Rm=`hide${Ne}`,Mu=`hidePrevented${Ne}`,fc=`hidden${Ne}`,Lm=`resize${Ne}`,km=`click${Ne}${cc}`,Fm=`keydown.dismiss${Ne}`,Um='[data-bs-toggle="offcanvas"]',$m={backdrop:!0,keyboard:!0,scroll:!1},Hm={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},sn=class e extends Jt{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return $m}static get DefaultType(){return Hm}static get NAME(){return Om}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||E.trigger(this._element,Im,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Gr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Nu);let r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Pu),this._element.classList.remove(Nu),E.trigger(this._element,Mm,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||E.trigger(this._element,Rm).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Iu),this._backdrop.hide();let n=()=>{this._element.classList.remove(Pu,Iu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Gr().reset(),E.trigger(this._element,fc)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=()=>{if(this._config.backdrop==="static"){E.trigger(this._element,Mu);return}this.hide()},n=!!this._config.backdrop;return new To({className:Nm,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new Ao({trapElement:this._element})}_addEventListeners(){E.on(this._element,Fm,t=>{if(t.key===Pm){if(this._config.keyboard){this.hide();return}E.trigger(this._element,Mu)}})}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};E.on(document,km,Um,function(e){let t=M.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),rn(this))return;E.one(t,fc,()=>{wr(this)&&this.focus()});let n=M.findOne(dc);n&&n!==t&&sn.getInstance(n).hide(),sn.getOrCreateInstance(t).toggle(this)});E.on(window,Dm,()=>{for(let e of M.find(dc))sn.getOrCreateInstance(e).show()});E.on(window,Lm,()=>{for(let e of M.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&sn.getOrCreateInstance(e).hide()});Co(sn);fe(sn);var jm=/^aria-[\w-]*$/i,hc={"*":["class","dir","id","lang","role",jm],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Bm=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Vm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qm=(e,t)=>{let n=e.nodeName.toLowerCase();return t.includes(n)?Bm.has(n)?!!Vm.test(e.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function Wm(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);let i=new window.DOMParser().parseFromString(e,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){s.remove();continue}let l=[].concat(...s.attributes),u=[].concat(t["*"]||[],t[a]||[]);for(let d of l)qm(d,u)||s.removeAttribute(d.nodeName)}return i.body.innerHTML}var zm="TemplateFactory",Km={allowList:hc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xm={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ym={entry:"(string|element|function|null)",selector:"(string|element)"},sa=class extends Cn{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Km}static get DefaultType(){return Xm}static get NAME(){return zm}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(let[i,o]of Object.entries(this._config.content))this._setContent(t,o,i);let n=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[n,r]of Object.entries(t))super._typeCheckConfig({selector:n,entry:r},Ym)}_setContent(t,n,r){let i=M.findOne(r,t);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(De(n)){this._putElementInTemplate(nn(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(t){return this._config.sanitize?Wm(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Vt(t,[void 0,this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}},Gm="tooltip",Jm=new Set(["sanitize","allowList","sanitizeFn"]),Gs="fade",Qm="modal",ho="show",Zm=".tooltip-inner",Ru=`.${Qm}`,Lu="hide.bs.modal",Xr="hover",Js="focus",tv="click",ev="manual",nv="hide",rv="hidden",iv="show",ov="shown",sv="inserted",av="click",lv="focusin",uv="focusout",cv="mouseenter",dv="mouseleave",fv={AUTO:"auto",TOP:"top",RIGHT:ce()?"left":"right",BOTTOM:"bottom",LEFT:ce()?"right":"left"},hv={allowList:hc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},pv={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Er=class e extends Jt{constructor(t,n){if(typeof lo>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return hv}static get DefaultType(){return pv}static get NAME(){return Gm}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),E.off(this._element.closest(Ru),Lu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=E.trigger(this._element,this.constructor.eventName(iv)),r=(Wu(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),E.trigger(this._element,this.constructor.eventName(sv))),this._popper=this._createPopper(i),i.classList.add(ho),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))E.on(a,"mouseover",yo);let s=()=>{E.trigger(this._element,this.constructor.eventName(ov)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||E.trigger(this._element,this.constructor.eventName(nv)).defaultPrevented)return;if(this._getTipElement().classList.remove(ho),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))E.off(i,"mouseover",yo);this._activeTrigger[tv]=!1,this._activeTrigger[Js]=!1,this._activeTrigger[Xr]=!1,this._isHovered=null;let r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),E.trigger(this._element,this.constructor.eventName(rv)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(Gs,ho),n.classList.add(`bs-${this.constructor.NAME}-auto`);let r=ep(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(Gs),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new sa({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Zm]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Gs)}_isShown(){return this.tip&&this.tip.classList.contains(ho)}_createPopper(t){let n=Vt(this._config.placement,[this,t,this._element]),r=fv[n.toUpperCase()];return zr(this._element,t,this._getPopperConfig(r))}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return Vt(t,[this._element,this._element])}_getPopperConfig(t){let n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...Vt(this._config.popperConfig,[void 0,n])}}_setListeners(){let t=this._config.trigger.split(" ");for(let n of t)if(n==="click")E.on(this._element,this.constructor.eventName(av),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==ev){let r=n===Xr?this.constructor.eventName(cv):this.constructor.eventName(lv),i=n===Xr?this.constructor.eventName(dv):this.constructor.eventName(uv);E.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?Js:Xr]=!0,s._enter()}),E.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?Js:Xr]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},E.on(this._element.closest(Ru),Lu,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let n=Pe.getDataAttributes(this._element);for(let r of Object.keys(n))Jm.has(r)&&delete n[r];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:nn(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(t[n]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};fe(Er);var gv="popover",mv=".popover-header",vv=".popover-body",yv={...Er.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bv={...Er.DefaultType,content:"(null|string|element|function)"},aa=class e extends Er{static get Default(){return yv}static get DefaultType(){return bv}static get NAME(){return gv}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[mv]:this._getTitle(),[vv]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};fe(aa);var _v="scrollspy",Ev="bs.scrollspy",da=`.${Ev}`,wv=".data-api",Tv=`activate${da}`,ku=`click${da}`,Sv=`load${da}${wv}`,Av="dropdown-item",mr="active",xv='[data-bs-spy="scroll"]',Qs="[href]",Ov=".nav, .list-group",Fu=".nav-link",Cv=".nav-item",Dv=".list-group-item",Pv=`${Fu}, ${Cv} > ${Fu}, ${Dv}`,Nv=".dropdown",Iv=".dropdown-toggle",Mv={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Rv={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},xo=class e extends Jt{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Mv}static get DefaultType(){return Rv}static get NAME(){return _v}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=nn(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(E.off(this._config.target,ku),E.on(this._config.target,ku,Qs,t=>{let n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();let r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){let t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){let n=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(n(s))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(let s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(r(s),!i)return;continue}!o&&!a&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=M.find(Qs,this._config.target);for(let n of t){if(!n.hash||rn(n))continue;let r=M.findOne(decodeURI(n.hash),this._element);wr(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(mr),this._activateParents(t),E.trigger(this._element,Tv,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Av)){M.findOne(Iv,t.closest(Nv)).classList.add(mr);return}for(let n of M.parents(t,Ov))for(let r of M.prev(n,Pv))r.classList.add(mr)}_clearActiveClass(t){t.classList.remove(mr);let n=M.find(`${Qs}.${mr}`,t);for(let r of n)r.classList.remove(mr)}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};E.on(window,Sv,()=>{for(let e of M.find(xv))xo.getOrCreateInstance(e)});fe(xo);var Lv="tab",kv="bs.tab",Pn=`.${kv}`,Fv=`hide${Pn}`,Uv=`hidden${Pn}`,$v=`show${Pn}`,Hv=`shown${Pn}`,jv=`click${Pn}`,Bv=`keydown${Pn}`,Vv=`load${Pn}`,qv="ArrowLeft",Uu="ArrowRight",Wv="ArrowUp",$u="ArrowDown",Zs="Home",Hu="End",On="active",ju="fade",ta="show",zv="dropdown",pc=".dropdown-toggle",Kv=".dropdown-menu",ea=`:not(${pc})`,Xv='.list-group, .nav, [role="tablist"]',Yv=".nav-item, .list-group-item",Gv=`.nav-link${ea}, .list-group-item${ea}, [role="tab"]${ea}`,gc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',na=`${Gv}, ${gc}`,Jv=`.${On}[data-bs-toggle="tab"], .${On}[data-bs-toggle="pill"], .${On}[data-bs-toggle="list"]`,Jr=class e extends Jt{constructor(t){super(t),this._parent=this._element.closest(Xv),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),E.on(this._element,Bv,n=>this._keydown(n)))}static get NAME(){return Lv}show(){let t=this._element;if(this._elemIsActive(t))return;let n=this._getActiveElem(),r=n?E.trigger(n,Fv,{relatedTarget:t}):null;E.trigger(t,$v,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(On),this._activate(M.getElementFromSelector(t));let r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(ta);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),E.trigger(t,Hv,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(ju))}_deactivate(t,n){if(!t)return;t.classList.remove(On),t.blur(),this._deactivate(M.getElementFromSelector(t));let r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(ta);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),E.trigger(t,Uv,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(ju))}_keydown(t){if(![qv,Uu,Wv,$u,Zs,Hu].includes(t.key))return;t.stopPropagation(),t.preventDefault();let n=this._getChildren().filter(i=>!rn(i)),r;if([Zs,Hu].includes(t.key))r=n[t.key===Zs?0:n.length-1];else{let i=[Uu,$u].includes(t.key);r=la(n,t.target,i,!0)}r&&(r.focus({preventScroll:!0}),e.getOrCreateInstance(r).show())}_getChildren(){return M.find(na,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(let r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let n=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",n),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let n=M.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){let r=this._getOuterElement(t);if(!r.classList.contains(zv))return;let i=(o,s)=>{let a=M.findOne(o,r);a&&a.classList.toggle(s,n)};i(pc,On),i(Kv,ta),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,r){t.hasAttribute(n)||t.setAttribute(n,r)}_elemIsActive(t){return t.classList.contains(On)}_getInnerElement(t){return t.matches(na)?t:M.findOne(na,t)}_getOuterElement(t){return t.closest(Yv)||t}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}};E.on(document,jv,gc,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!rn(this)&&Jr.getOrCreateInstance(this).show()});E.on(window,Vv,()=>{for(let e of M.find(Jv))Jr.getOrCreateInstance(e)});fe(Jr);var Qv="toast",Zv="bs.toast",ln=`.${Zv}`,ty=`mouseover${ln}`,ey=`mouseout${ln}`,ny=`focusin${ln}`,ry=`focusout${ln}`,iy=`hide${ln}`,oy=`hidden${ln}`,sy=`show${ln}`,ay=`shown${ln}`,ly="fade",Bu="hide",po="show",go="showing",uy={animation:"boolean",autohide:"boolean",delay:"number"},cy={animation:!0,autohide:!0,delay:5e3},Oo=class e extends Jt{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cy}static get DefaultType(){return uy}static get NAME(){return Qv}show(){if(E.trigger(this._element,sy).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ly);let n=()=>{this._element.classList.remove(go),E.trigger(this._element,ay),this._maybeScheduleHide()};this._element.classList.remove(Bu),Qr(this._element),this._element.classList.add(po,go),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||E.trigger(this._element,iy).defaultPrevented)return;let n=()=>{this._element.classList.add(Bu),this._element.classList.remove(go,po),E.trigger(this._element,oy)};this._element.classList.add(go),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(po),super.dispose()}isShown(){return this._element.classList.contains(po)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}let r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){E.on(this._element,ty,t=>this._onInteraction(t,!0)),E.on(this._element,ey,t=>this._onInteraction(t,!1)),E.on(this._element,ny,t=>this._onInteraction(t,!0)),E.on(this._element,ry,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let n=e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};Co(Oo);fe(Oo);function mc(e){e.querySelectorAll("[data-clipboard]").forEach(t=>{t.addEventListener("click",()=>{navigator.clipboard.writeText(t.dataset.clipboard).then(()=>{let n=t.querySelector(".if"),r=t.querySelector(".btn-text"),i=t.className,o=n.className,s=r.className,a=r.innerText;t.classList.remove("btn-outline-secondary"),t.classList.add("btn-outline-success"),n.classList.remove("if-copy","text-muted"),n.classList.add("if-check","text-success"),r.classList.remove("text-muted"),r.classList.add("text-success"),r.setAttribute("aria-live","polite"),r.innerText="Copied",setTimeout(function(){t.className=i,n.className=o,r.className=s,r.innerText=a},1500)})})})}var vc="&#8203;";function fa(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yc(e){return function(t){if(Array.isArray(t))return fa(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,n){if(t){if(typeof t=="string")return fa(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fa(t,n)}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cn={isEnabled:function(){var e;return(e=window.TAGIFY_DEBUG)===null||e===void 0||e},log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;this.isEnabled()&&(r=console).log.apply(r,["[Tagify]:"].concat(yc(t)))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;this.isEnabled()&&(r=console).warn.apply(r,["[Tagify]:"].concat(yc(t)))}},ei=function(e,t,n,r){return e=""+e,t=""+t,r&&(e=e.trim(),t=t.trim()),n?e==t:e.toLowerCase()==t.toLowerCase()},bc=function(e,t){return e&&Array.isArray(e)&&e.map(function(n){return ba(n,t)})};function ba(e,t){var n,r={};for(n in e)t.indexOf(n)<0&&(r[n]=e[n]);return r}function ha(e){return new DOMParser().parseFromString(e.trim(),"text/html").body.firstElementChild}function _c(e,t){for(t=t||"previous";e=e[t+"Sibling"];)if(e.nodeType==3)return e}function In(e){return typeof e=="string"?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):e}function be(e){var t=Object.prototype.toString.call(e).split(" ")[1].slice(0,-1);return e===Object(e)&&t!="Array"&&t!="Function"&&t!="RegExp"&&t!="HTMLUnknownElement"}function mt(e,t,n){var r,i;function o(s,a){for(var l in a)if(a.hasOwnProperty(l)){if(be(a[l])){be(s[l])?o(s[l],a[l]):s[l]=Object.assign({},a[l]);continue}if(Array.isArray(a[l])){s[l]=Object.assign([],a[l]);continue}s[l]=a[l]}}return r=e,((i=Object)!=null&&typeof Symbol<"u"&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)||(e={}),o(e,t),n&&o(e,n),e}function Ec(){var e=[],t={},n=!0,r=!1,i=void 0;try{for(var o,s=arguments[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,l=!0,u=!1,d=void 0;try{for(var c,f=a[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var h=c.value;be(h)?t[h.value]||(e.push(h),t[h.value]=1):e.includes(h)||e.push(h)}}catch(p){u=!0,d=p}finally{try{l||f.return==null||f.return()}finally{if(u)throw d}}}}catch(p){r=!0,i=p}finally{try{n||s.return==null||s.return()}finally{if(r)throw i}}return e}function Do(e){return String.prototype.normalize?typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:e}var wc=function(){return/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent)};function Tc(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}function Mn(e){var t,n=Dc.call(this,e),r=e==null||(t=e.classList)===null||t===void 0?void 0:t.contains(this.settings.classNames.tag);return n&&r}function Sc(e){return Dc.call(this,e)&&e?.closest(this.settings.classNames.tagSelector)}function Dc(e){var t;return(e==null||(t=e.closest)===null||t===void 0?void 0:t.call(e,this.settings.classNames.namespaceSelector))===this.DOM.scope}function Pc(e,t){var n=window.getSelection();return t=t||n.getRangeAt(0),typeof e=="string"&&(e=document.createTextNode(e)),t&&(t.deleteContents(),t.insertNode(e)),e}function J(e,t,n){return e?(t&&(e.__tagifyTagData=n?t:mt({},e.__tagifyTagData||{},t)),e.__tagifyTagData):(cn.warn("tag element doesn't exist",{tagElm:e,data:t}),t)}function un(e){if(e&&e.parentNode){var t=e,n=window.getSelection(),r=n.getRangeAt(0);n.rangeCount&&(r.setStartAfter(t),r.collapse(!0),n.removeAllRanges(),n.addRange(r))}}function Nc(e,t){e.forEach(function(n){if(J(n.previousSibling)||!n.previousSibling){var r=document.createTextNode("\u200B");n.before(r),t&&un(r)}})}var pa={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,addTagOn:["blur","tab","enter"],onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,focusable:!0,focusInputOnRemove:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:function(){},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:"\xA0"},autoComplete:{enabled:!0,rightKey:!1,tabKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownItemSelected:"tagify__dropdown__item--selected",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,escapeHTML:!0,highlightFirst:!0,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:function(){return Promise.resolve()},beforePaste:function(){return Promise.resolve()},suggestionClick:function(){return Promise.resolve()},beforeKeyDown:function(){return Promise.resolve()}}};function dy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){dy(e,i,n[i])})}return e}function hy(e,t){return t=t??{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),i.push.apply(i,o)}return i}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ga(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function py(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gy(e){return function(t){if(Array.isArray(t))return ga(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,n){if(t){if(typeof t=="string")return ga(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ga(t,n)}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function my(){for(var e in this.dropdown={},this._dropdown)this.dropdown[e]=typeof this._dropdown[e]=="function"?this._dropdown[e].bind(this):this._dropdown[e];this.dropdown.refs(),this.DOM.dropdown.__tagify=this}var Po,Sr,vy=(Po=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){py(e,i,n[i])})}return e}({},{events:{binding:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=this.dropdown.events.callbacks,n=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:t.onKeyDown.bind(this),onMouseOver:t.onMouseOver.bind(this),onMouseLeave:t.onMouseLeave.bind(this),onClick:t.onClick.bind(this),onScroll:t.onScroll.bind(this)},r=e?"addEventListener":"removeEventListener";this.settings.dropdown.position!="manual"&&(document[r]("scroll",n.position,!0),window[r]("resize",n.position),window[r]("keydown",n.onKeyDown)),this.DOM.dropdown[r]("mouseover",n.onMouseOver),this.DOM.dropdown[r]("mouseleave",n.onMouseLeave),this.DOM.dropdown[r]("mousedown",n.onClick),this.DOM.dropdown.content[r]("scroll",n.onScroll)},callbacks:{onKeyDown:function(e){var t=this;if(this.state.hasFocus&&!this.state.composing){var n=this.settings,r=n.dropdown.includeSelectedTags,i=this.DOM.dropdown.querySelector(n.classNames.dropdownItemActiveSelector),o=this.dropdown.getSuggestionDataByNode(i),s=n.mode=="mix",a=n.mode=="select";n.hooks.beforeKeyDown(e,{tagify:this}).then(function(l){switch(e.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":e.preventDefault();var u=t.dropdown.getAllSuggestionsRefs(),d=e.key=="ArrowUp"||e.key=="Up";i&&(i=t.dropdown.getNextOrPrevOption(i,!d)),i&&i.matches(n.classNames.dropdownItemSelector)||(i=u[d?u.length-1:0]),t.dropdown.highlightOption(i,!0);break;case"PageUp":case"PageDown":var c;e.preventDefault();var f=t.dropdown.getAllSuggestionsRefs(),h=Math.floor(t.DOM.dropdown.content.clientHeight/((c=f[0])===null||c===void 0?void 0:c.offsetHeight))||1,p=e.key==="PageUp";if(i){var g=f.indexOf(i),m=p?Math.max(0,g-h):Math.min(f.length-1,g+h);i=f[m]}else i=f[0];t.dropdown.highlightOption(i,!0);break;case"Home":case"End":e.preventDefault();var v=t.dropdown.getAllSuggestionsRefs();i=v[e.key==="Home"?0:v.length-1],t.dropdown.highlightOption(i,!0);break;case"Escape":case"Esc":t.dropdown.hide();break;case"ArrowRight":if(t.state.actions.ArrowLeft||n.autoComplete.rightKey)return;case"Tab":var b=!n.autoComplete.rightKey||!n.autoComplete.tabKey;if(!s&&!a&&i&&b&&!t.state.editing&&o){e.preventDefault();var T=t.dropdown.getMappedValue(o);return t.state.autoCompleteData=o,t.input.autocomplete.set.call(t,T),!1}return!0;case"Enter":e.preventDefault(),t.state.actions.selectOption=!0,setTimeout(function(){return t.state.actions.selectOption=!1},100),n.hooks.suggestionClick(e,{tagify:t,tagData:o,suggestionElm:i}).then(function(){if(i){var S=r?i:t.dropdown.getNextOrPrevOption(i,!d);t.dropdown.selectOption(i,e,function(){if(S){var _=S.getAttribute("value");S=t.dropdown.getSuggestionNodeByValue(_),t.dropdown.highlightOption(S)}})}else t.dropdown.hide(),s||t.addTags(t.state.inputText.trim(),!0)}).catch(function(S){return cn.warn(S)});break;case"Backspace":if(s||t.state.editing.scope)return;var y=t.input.raw.call(t);y!=""&&y.charCodeAt(0)!=8203||(n.backspace===!0?t.removeTags():n.backspace=="edit"&&setTimeout(t.editTag.bind(t),0))}})}},onMouseOver:function(e){var t=e.target.closest(this.settings.classNames.dropdownItemSelector);this.dropdown.highlightOption(t)},onMouseLeave:function(e){this.dropdown.highlightOption()},onClick:function(e){var t=this;if(e.button==0&&e.target!=this.DOM.dropdown&&e.target!=this.DOM.dropdown.content){var n=e.target.closest(this.settings.classNames.dropdownItemSelector),r=this.dropdown.getSuggestionDataByNode(n);this.state.actions.selectOption=!0,setTimeout(function(){return t.state.actions.selectOption=!1},100),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:r,suggestionElm:n}).then(function(){n?t.dropdown.selectOption(n,e):t.dropdown.hide()}).catch(function(i){return cn.warn(i)})}},onScroll:function(e){var t=e.target,n=t.scrollTop/(t.scrollHeight-t.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(n)})}}},refilter:function(e){e=e||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(e),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},getSuggestionDataByNode:function(e){for(var t,n=e&&e.getAttribute("value"),r=this.suggestedListItems.length;r--;){if(be(t=this.suggestedListItems[r])&&t.value==n)return t;if(t==n)return{value:t}}},getSuggestionNodeByValue:function(e){return this.dropdown.getAllSuggestionsRefs().find(function(t){return t.getAttribute("value")===e})},getNextOrPrevOption:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.dropdown.getAllSuggestionsRefs(),r=n.findIndex(function(i){return i===e});return t?n[r+1]:n[r-1]},highlightOption:function(e,t){var n,r=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(r),this.state.ddItemElm.removeAttribute("aria-selected")),!e)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.dropdown.getSuggestionDataByNode(e),this.state.ddItemData=n,this.state.ddItemElm=e,e.classList.add(r),e.setAttribute("aria-selected",!0),t&&(e.parentNode.scrollTop=e.clientHeight+e.offsetTop-e.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),this.dropdown.position())},selectOption:function(e,t,n){var r=this,i=this.settings,o=i.dropdown.includeSelectedTags,s=i.dropdown,a=s.clearOnSelect,l=s.closeOnSelect;if(!e)return this.addTags(this.state.inputText,!0),void(l&&this.dropdown.hide());t=t||{};var u=e.getAttribute("value"),d=u=="noMatch",c=i.mode=="mix",f=this.suggestedListItems.find(function(p){var g;return((g=p.value)!==null&&g!==void 0?g:p)==u});if(this.trigger("dropdown:select",{data:f,elm:e,event:t}),f||d){if(this.state.editing){var h=this.normalizeTags([f])[0];f=i.transformTag.call(this,h)||h,this.onEditTagDone(null,mt({__isValid:!0},f))}else this[c?"addMixTags":"addTags"]([f||this.input.raw.call(this)],a);(c||this.DOM.input.parentNode)&&(setTimeout(function(){r.DOM.input.focus(),r.toggleFocusClass(!0)}),l&&setTimeout(this.dropdown.hide.bind(this)),o?n&&n():(e.addEventListener("transitionend",function(){r.dropdown.fillHeaderFooter(),setTimeout(function(){e.remove(),r.dropdown.refilter(),n&&n()},100)},{once:!0}),e.classList.add(this.settings.classNames.dropdownItemHidden)))}else l&&setTimeout(this.dropdown.hide.bind(this))},selectAll:function(e){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var t=this.dropdown.filterListItems("");return e||(t=this.state.dropdown.suggestions),this.addTags(t,!0),this},filterListItems:function(e,t){var n,r,i,o,s,a,l=function(){var S,_,w=void 0,C=void 0;S=p[T],r=((_=Object)!=null&&typeof Symbol<"u"&&_[Symbol.hasInstance]?_[Symbol.hasInstance](S):S instanceof _)?p[T]:{value:p[T]};var O,N=Object.keys(r).some(function(I){return b.includes(I)})?b:["value"];c.fuzzySearch&&!t.exact?(o=N.reduce(function(I,$){return I+" "+(r[$]||"")},"").toLowerCase().trim(),c.accentedSearch&&(o=Do(o),a=Do(a)),w=o.indexOf(a)==0,C=o===a,O=o,i=a.toLowerCase().split(" ").every(function(I){return O.includes(I.toLowerCase())})):(w=!0,i=N.some(function(I){var $=""+(r[I]||"");return c.accentedSearch&&($=Do($),a=Do(a)),c.caseSensitive||($=$.toLowerCase()),C=$===a,t.exact?$===a:$.indexOf(a)==0})),s=!c.includeSelectedTags&&n.isTagDuplicate(be(r)?r.value:r),i&&!s&&(C&&w?h.push(r):c.sortby=="startsWith"&&w?f.unshift(r):f.push(r))},u=this,d=this.settings,c=d.dropdown,f=(t=t||{},[]),h=[],p=d.whitelist,g=c.maxItems>=0?c.maxItems:1/0,m=c.includeSelectedTags,v=typeof c.sortby=="function",b=c.searchKeys,T=0;if(!(e=d.mode=="select"&&this.value.length&&this.value[0][d.tagTextProp]==e?"":e)||!b.length){f=m?p:p.filter(function(S){return!u.isTagDuplicate(be(S)?S.value:S)});var y=v?c.sortby(f,a):f.slice(0,g);return this.state.dropdown.suggestions=y,y}for(a=c.caseSensitive?""+e:(""+e).toLowerCase();T<p.length;T++)n=this,l();return this.state.dropdown.suggestions=h.concat(f),y=v?c.sortby(h.concat(f),a):h.concat(f).slice(0,g),this.state.dropdown.suggestions=y,y},getMappedValue:function(e){var t=this.settings.dropdown.mapValueTo;return t?typeof t=="function"?t(e):e[t]||e.value:e.value},createListHTML:function(e){var t=this;return mt([],e).map(function(n,r){typeof n!="string"&&typeof n!="number"||(n={value:n});var i=t.dropdown.getMappedValue(n);return i=typeof i=="string"&&t.settings.dropdown.escapeHTML?In(i):i,t.settings.templates.dropdownItem.apply(t,[hy(fy({},n),{mappedValue:i}),t])}).join("")}}),Sr=(Sr={refs:function(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef:function(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef:function(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs:function(){return gy(this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector))},show:function(e){var t,n,r,i=this,o=this.settings,s=o.mode=="mix"&&!o.enforceWhitelist,a=!o.whitelist||!o.whitelist.length,l=o.dropdown.position=="manual";if(e=e===void 0?this.state.inputText:e,!(a&&!s&&!o.templates.dropdownItemNoMatch||o.dropdown.enabled===!1||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(e),e&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",e),o.templates.dropdownItemNoMatch&&(r=o.templates.dropdownItemNoMatch.call(this,{value:e}))),!r){if(this.suggestedListItems.length)e&&s&&!this.state.editing.scope&&!ei(this.suggestedListItems[0].value,e)&&this.suggestedListItems.unshift({value:e});else{if(!e||!s||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:e}]}n=""+(be(t=this.suggestedListItems[0])?t.value:t),o.autoComplete&&n&&n.indexOf(e)==0&&this.input.autocomplete.suggest.call(this,t)}this.dropdown.fill(r),o.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(o.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=e||!0,this.state.dropdown.query=e,this.setStateSelection(),l||setTimeout(function(){i.dropdown.position(),i.dropdown.render()}),setTimeout(function(){i.trigger("dropdown:show",i.DOM.dropdown)})}},hide:function(e){var t=this,n=this.DOM,r=n.scope,i=n.dropdown,o=this.settings.dropdown.position=="manual"&&!e;if(i&&document.body.contains(i)&&!o)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),r.setAttribute("aria-expanded",!1),i.parentNode.removeChild(i),setTimeout(function(){t.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",i),this},toggle:function(e){this.dropdown[this.state.dropdown.visible&&!e?"hide":"show"]()},getAppendTarget:function(){var e=this.settings.dropdown;return typeof e.appendTarget=="function"?e.appendTarget():e.appendTarget},render:function(){var e,t,n,r=this,i=(e=this.DOM.dropdown,(n=e.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(n),t=n.clientHeight,n.parentNode.removeChild(n),t),o=this.settings,s=this.dropdown.getAppendTarget();return o.dropdown.enabled===!1||(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(o.classNames.dropdownInital),this.dropdown.position(i),s.appendChild(this.DOM.dropdown),setTimeout(function(){return r.DOM.dropdown.classList.remove(o.classNames.dropdownInital)}))),this},fill:function(e){e=typeof e=="string"?e:this.dropdown.createListHTML(e||this.suggestedListItems);var t,n=this.settings.templates.dropdownContent.call(this,e);this.DOM.dropdown.content.innerHTML=(t=n)?t.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""},fillHeaderFooter:function(){var e=this.dropdown.filterListItems(this.state.dropdown.query),t=this.parseTemplate("dropdownHeader",[e]),n=this.parseTemplate("dropdownFooter",[e]),r=this.dropdown.getHeaderRef(),i=this.dropdown.getFooterRef();t&&r?.parentNode.replaceChild(t,r),n&&i?.parentNode.replaceChild(n,i)},position:function(e){var t=this.settings.dropdown,n=this.dropdown.getAppendTarget();if(t.position!="manual"&&n){var r,i,o,s,a,l,u,d,c,f,h=this.DOM.dropdown,p=t.RTL,g=n===document.body,m=n===this.DOM.scope,v=g?window.pageYOffset:n.scrollTop,b=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,T=b.clientHeight,y=Math.max(b.clientWidth||0,window.innerWidth||0),S=y>480?t.position:"all",_=this.DOM[S=="input"?"input":"scope"];if(e=e||h.clientHeight,this.state.dropdown.visible){if(S=="text"?(o=(r=function(){var O=document.getSelection();if(O.rangeCount){var N,I,$=O.getRangeAt(0),H=$.startContainer,z=$.startOffset;if(z>0)return(I=document.createRange()).setStart(H,z-1),I.setEnd(H,z),{left:(N=I.getBoundingClientRect()).right,top:N.top,bottom:N.bottom};if(H.getBoundingClientRect)return H.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,i=r.top,s=r.left,a="auto"):(l=function(O){var N=0,I=0;for(O=O.parentNode;O&&O!=b;)N+=O.offsetTop||0,I+=O.offsetLeft||0,O=O.parentNode;return{top:N,left:I}}(n),r=_.getBoundingClientRect(),i=m?-1:r.top-l.top,o=(m?r.height:r.bottom-l.top)-1,s=m?-1:r.left-l.left,a=r.width+"px"),!g){var w=function(){for(var O=0,N=t.appendTarget.parentNode;N;)O+=N.scrollTop||0,N=N.parentNode;return O}();i+=w,o+=w}var C;i=Math.floor(i),o=Math.ceil(o),d=y-s<120,c=((u=(C=t.placeAbove)!==null&&C!==void 0?C:T-r.bottom<e)?i:o)+v,f=s+(p&&r.width||0)+window.pageXOffset,f=S=="text"&&d?"right: 0;":"left: ".concat(f,"px;"),h.style.cssText="".concat(f," top: ").concat(c,"px; min-width: ").concat(a,"; max-width: ").concat(a),h.setAttribute("placement",u?"top":"bottom"),h.setAttribute("position",S)}}}})!=null?Sr:{},Object.getOwnPropertyDescriptors?Object.defineProperties(Po,Object.getOwnPropertyDescriptors(Sr)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}(Object(Sr)).forEach(function(e){Object.defineProperty(Po,e,Object.getOwnPropertyDescriptor(Sr,e))}),Po),ti="@yaireo/tagify/",yy={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},by={wrapper:function(e,t){return'<tags class="'.concat(t.classNames.namespace," ").concat(t.mode?"".concat(t.classNames[t.mode+"Mode"]):""," ").concat(e.className,`"
                    `).concat(t.readonly?"readonly":"",`
                    `).concat(t.disabled?"disabled":"",`
                    `).concat(t.required?"required":"",`
                    `).concat(t.mode==="select"?"spellcheck='false'":"",`
                    tabIndex="-1">
                    `).concat(this.settings.templates.input.call(this),`
                `).concat(vc,`
        </tags>`)},input:function(){var e=this.settings,t=e.placeholder||vc;return"<span ".concat(!e.readonly&&e.userInput?"contenteditable":"",' data-can-editable tabIndex="0" data-placeholder="').concat(t,'" aria-placeholder="').concat(e.placeholder||"",`"
                    class="`).concat(e.classNames.input,`"
                    role="textbox"
                    autocapitalize="false"
                    autocorrect="off"
                    aria-autocomplete="both"
                    aria-multiline="`).concat(e.mode=="mix",'"></span>')},tag:function(e,t){var n=t.settings;return'<tag title="'.concat(e.title||e.value,`"
                    contenteditable='false'
                    tabIndex="`).concat(n.a11y.focusableTags?0:-1,`"
                    class="`).concat(n.classNames.tag," ").concat(e.class||"",`"
                    `).concat(this.getAttributes(e),`>
            <x title='' tabIndex="`).concat(n.a11y.focusableTags?0:-1,'" class="').concat(n.classNames.tagX,`" role='button' aria-label='remove tag'></x>
            <div>
                <span `).concat(n.mode==="select"&&n.userInput?"contenteditable='true'":"",` autocapitalize="false" autocorrect="off" spellcheck='false' class="`).concat(n.classNames.tagText,'">').concat(e[n.tagTextProp]||e.value,`</span>
            </div>
        </tag>`)},dropdown:function(e){var t=e.dropdown,n=t.position=="manual";return'<div class="'.concat(n?"":e.classNames.dropdown," ").concat(t.classname,'" role="listbox" aria-labelledby="dropdown" dir="').concat(t.RTL?"rtl":"",`">
                    <div data-selector='tagify-suggestions-wrapper' class="`).concat(e.classNames.dropdownWrapper,`"></div>
                </div>`)},dropdownContent:function(e){var t=this.settings.templates,n=this.state.dropdown.suggestions;return`
            `.concat(t.dropdownHeader.call(this,n),`
            `).concat(e,`
            `).concat(t.dropdownFooter.call(this,n),`
        `)},dropdownItem:function(e){return"<div ".concat(this.getAttributes(e),`
                    class='`).concat(this.settings.classNames.dropdownItem," ").concat(this.isTagDuplicate(e.value)?this.settings.classNames.dropdownItemSelected:""," ").concat(e.class||"",`'
                    tabindex="0"
                    role="option">`).concat(e.mappedValue||e.value,"</div>")},dropdownHeader:function(e){return`<header data-selector='tagify-suggestions-header' class="`.concat(this.settings.classNames.dropdownHeader,'"></header>')},dropdownFooter:function(e){var t=e.length-this.settings.dropdown.maxItems;return t>0?`<footer data-selector='tagify-suggestions-footer' class="`.concat(this.settings.classNames.dropdownFooter,`">
                `).concat(t,` more items. Refine your search.
            </footer>`):""},dropdownItemNoMatch:null};function Ac(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xc(e,t){return t!=null&&typeof Symbol<"u"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _y(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a=[],l=!0,u=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(a.push(o.value),!r||a.length!==r);l=!0);}catch(d){u=!0,s=d}finally{try{l||i.return==null||i.return()}finally{if(u)throw s}}return a}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ac(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(i);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ac(n,r)}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oc(e,t){return t!=null&&typeof Symbol<"u"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Ey(e,t){return t=t??{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),i.push.apply(i,o)}return i}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function va(e){return function(t){if(Array.isArray(t))return ma(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,n){if(t){if(typeof t=="string")return ma(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ma(t,n)}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wy={customBinding:function(){var e=this;this.customEventsList.forEach(function(t){e.on(t,e.settings.callbacks[t])})},binding:function(){var e,t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=this.settings,r=this.events.callbacks,i=t?"addEventListener":"removeEventListener";if(!(this.state.mainEvents&&t||n.disabled||n.readonly)){for(var o in this.state.mainEvents=t,t&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{keydown:["input",r.onKeydown.bind(this)],click:["scope",r.onClickScope.bind(this)],dblclick:n.mode!="select"&&["scope",r.onDoubleClickScope.bind(this)],paste:["input",r.onPaste.bind(this)],drop:["input",r.onDrop.bind(this)],compositionstart:["input",r.onCompositionStart.bind(this)],compositionend:["input",r.onCompositionEnd.bind(this)]})e[o]&&this.DOM[e[o][0]][i](o,e[o][1]);var s=this.listeners.main.inputMutationObserver||new MutationObserver(r.onInputDOMChange.bind(this));s.disconnect(),n.mode=="mix"&&s.observe(this.DOM.input,{childList:!0}),this.events.bindOriginaInputListener.call(this)}},bindOriginaInputListener:function(e){var t=(e||0)+500;this.listeners.main&&(clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(this.events.callbacks.observeOriginalInputValue.bind(this),t))},bindGlobal:function(e){var t,n=this.events.callbacks,r=e?"removeEventListener":"addEventListener";if(this.listeners&&(e||!this.listeners.global)){this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:n[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:n.onWindowKeyDown.bind(this)},{type:"focusin",target:this.DOM.scope,cb:n.onFocusBlur.bind(this)},{type:"focusout",target:this.DOM.scope,cb:n.onFocusBlur.bind(this)},{type:"click",target:document,cb:n.onClickAnywhere.bind(this),useCapture:!0}];var i=!0,o=!1,s=void 0;try{for(var a,l=this.listeners.global[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)(t=a.value).target[r](t.type,t.cb,!!t.useCapture)}catch(u){o=!0,s=u}finally{try{i||l.return==null||l.return()}finally{if(o)throw s}}}},unbindGlobal:function(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur:function(e){var t,n,r=this.settings,i=Sc.call(this,e.relatedTarget),o=Mn.call(this,e.target),s=e.target.classList.contains(r.classNames.tagX),a=e.type=="focusin",l=e.type=="focusout";s&&r.mode!="mix"&&r.focusInputOnRemove&&this.DOM.input.focus(),i&&a&&!o&&!s&&this.toggleFocusClass(this.state.hasFocus=+new Date);var u=e.target?this.trim(this.DOM.input.textContent):"",d=(n=this.value)===null||n===void 0||(t=n[0])===null||t===void 0?void 0:t[r.tagTextProp],c=r.dropdown.enabled>=0,f={relatedTarget:e.relatedTarget},h=this.state.actions.selectOption&&(c||!r.dropdown.closeOnSelect),p=this.state.actions.addNew&&c;if(l){if(e.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),r.onChangeAfterBlur&&this.triggerChangeEvent()}if(!(h||p||s))if(this.state.hasFocus=!(!a&&!i)&&+new Date,this.toggleFocusClass(this.state.hasFocus),r.mode!="mix"){if(a){if(!r.focusable)return;var g=r.dropdown.enabled===0&&!this.state.dropdown.visible,m=this.DOM.scope.querySelector(this.settings.classNames.tagTextSelector);return this.trigger("focus",f),void(g&&!o&&(this.dropdown.show(this.value.length?"":void 0),r.mode==="select"&&this.setRangeAtStartEnd(!1,m)))}if(l){if(this.trigger("blur",f),this.loading(!1),r.mode=="select"){if(this.value.length){var v=this.getTagElms()[0];u=this.trim(v.textContent)}d===u&&(u="")}u&&!this.state.actions.selectOption&&r.addTagOnBlur&&r.addTagOn.includes("blur")&&this.addTags(u,!0)}i||(this.DOM.input.removeAttribute("style"),this.dropdown.hide())}else a?this.trigger("focus",f):l&&(this.trigger("blur",f),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart:function(e){this.state.composing=!0},onCompositionEnd:function(e){this.state.composing=!1},onWindowKeyDown:function(e){var t,n=this.settings,r=document.activeElement,i=Sc.call(this,r)&&this.DOM.scope.contains(r),o=r===this.DOM.input,s=i&&r.hasAttribute("readonly"),a=this.DOM.scope.querySelector(this.settings.classNames.tagTextSelector),l=this.state.dropdown.visible;if((e.key==="Tab"&&l||this.state.hasFocus||i&&!s)&&!o){t=r.nextElementSibling;var u=e.target.classList.contains(n.classNames.tagX);switch(e.key){case"Backspace":n.readonly||this.state.editing||(this.removeTags(r),(t||this.DOM.input).focus());break;case"Enter":if(u)return void this.removeTags(e.target.parentNode);n.a11y.focusableTags&&Mn.call(this,r)&&setTimeout(this.editTag.bind(this),0,r);break;case"ArrowDown":this.state.dropdown.visible||n.mode=="mix"||this.dropdown.show();break;case"Tab":a?.focus()}}},onKeydown:function(e){var t=this,n=this.settings;if(!this.state.composing&&n.userInput){n.mode=="select"&&n.enforceWhitelist&&this.value.length&&e.key!="Tab"&&e.preventDefault();var r=this.trim(e.target.textContent);this.trigger("keydown",{event:e}),n.hooks.beforeKeyDown(e,{tagify:this}).then(function(i){if(n.mode=="mix"){switch(e.key){case"Left":case"ArrowLeft":t.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(t.state.editing)return;var o=document.getSelection(),s=e.key=="Delete"&&o.anchorOffset==(o.anchorNode.length||0),a=o.anchorNode.previousSibling,l=o.anchorNode.nodeType==1||!o.anchorOffset&&a&&a.nodeType==1&&o.anchorNode.previousSibling;(function(v){var b=document.createElement("div");v.replace(/\&#?[0-9a-z]+;/gi,function(T){return b.innerHTML=T,b.innerText})})(t.DOM.input.innerHTML);var u,d,c,f=t.getTagElms(),h=o.anchorNode.length===1&&o.anchorNode.nodeValue=="\u200B";if(n.backspace=="edit"&&l)return u=o.anchorNode.nodeType==1?null:o.anchorNode.previousElementSibling,setTimeout(t.editTag.bind(t),0,u),void e.preventDefault();if(wc()&&Oc(l,Element))return c=_c(l),l.hasAttribute("readonly")||l.remove(),t.DOM.input.focus(),void setTimeout(function(){un(c),t.DOM.input.click()});if(o.anchorNode.nodeName=="BR")return;if((s||l)&&o.anchorNode.nodeType==1?d=o.anchorOffset==0?s?f[0]:null:f[Math.min(f.length,o.anchorOffset)-1]:s?d=o.anchorNode.nextElementSibling:Oc(l,Element)&&(d=l),o.anchorNode.nodeType==3&&!o.anchorNode.nodeValue&&o.anchorNode.previousElementSibling&&e.preventDefault(),(l||s)&&!n.backspace||o.type!="Range"&&!o.anchorOffset&&o.anchorNode==t.DOM.input&&e.key!="Delete")return void e.preventDefault();if(o.type!="Range"&&d&&d.hasAttribute("readonly"))return void un(_c(d));e.key=="Delete"&&h&&J(o.anchorNode.nextSibling)&&t.removeTags(o.anchorNode.nextSibling)}return!0}var p=n.dropdown.position=="manual";switch(e.key){case"Backspace":n.mode=="select"&&n.enforceWhitelist&&t.value.length?t.removeTags():t.state.dropdown.visible&&n.dropdown.position!="manual"||e.target.textContent!=""&&r.charCodeAt(0)!=8203||(n.backspace===!0?t.removeTags():n.backspace=="edit"&&setTimeout(t.editTag.bind(t),0));break;case"Esc":case"Escape":if(t.state.dropdown.visible)return;e.target.blur();break;case"Down":case"ArrowDown":t.state.dropdown.visible||t.dropdown.show();break;case"ArrowRight":var g=t.state.inputSuggestion||t.state.ddItemData;if(g&&n.autoComplete.rightKey)return void t.addTags([g],!0);break;case"Tab":return!0;case"Enter":if(t.state.dropdown.visible&&!p)return;e.preventDefault();var m=t.state.autoCompleteData||r;setTimeout(function(){t.state.dropdown.visible&&!p||t.state.actions.selectOption||!n.addTagOn.includes(e.key.toLowerCase())||(t.addTags([m],!0),t.state.autoCompleteData=null)})}}).catch(function(i){return i})}},onInput:function(e){this.postUpdate();var t=this.settings;if(t.mode=="mix")return this.events.callbacks.onMixTagsInput.call(this,e);var n=this.input.normalize.call(this,void 0,{trim:!1}),r=n.length>=t.dropdown.enabled,i={value:n,inputElm:this.DOM.input},o=this.validateTag({value:n});t.mode=="select"&&this.toggleScopeValidation(o),i.isValid=o,this.state.inputText!=n&&(this.input.set.call(this,n,!1),n.search(t.delimiters)!=-1?this.addTags(n)&&this.input.set.call(this):t.dropdown.enabled>=0&&this.dropdown[r?"show":"hide"](n),this.trigger("input",i))},onMixTagsInput:function(e){var t,n,r,i,o,s,a,l,u=this,d=this.settings,c=this.value.length,f=this.getTagElms(),h=document.createDocumentFragment(),p=window.getSelection().getRangeAt(0),g=[].map.call(f,function(m){return J(m).value});if(e.inputType=="deleteContentBackward"&&wc()&&this.events.callbacks.onKeydown.call(this,{target:e.target,key:"Backspace"}),Nc(this.getTagElms()),this.value.slice().forEach(function(m){m.readonly&&!g.includes(m.value)&&h.appendChild(u.createTagElem(m))}),h.childNodes.length&&(p.insertNode(h),this.setRangeAtStartEnd(!1,h.lastChild)),f.length!=c)return this.value=[].map.call(this.getTagElms(),function(m){return J(m)}),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(s=window.getSelection()).rangeCount>0&&s.anchorNode.nodeType==3){if((p=s.getRangeAt(0).cloneRange()).collapse(!0),p.setStart(s.focusNode,0),r=(t=p.toString().slice(0,p.endOffset)).split(d.pattern).length-1,(n=t.match(d.pattern))&&(i=t.slice(t.lastIndexOf(n[n.length-1]))),i){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:i.match(d.pattern)[0],value:i.replace(d.pattern,"")},this.state.tag.baseOffset=s.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,""),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide();o=this.state.tag.value.length>=d.dropdown.enabled;try{a=(a=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&a.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(a||r<this.state.mixMode.matchedPatternCount)&&(o=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=r}setTimeout(function(){u.update({withoutChangeEvent:!0}),u.trigger("input",mt({},u.state.tag,{textContent:u.DOM.input.textContent})),u.state.tag&&u.dropdown[o?"show":"hide"](u.state.tag.value)},10)},onInputIE:function(e){var t=this;setTimeout(function(){t.events.callbacks.onInput.call(t,e)})},observeOriginalInputValue:function(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere:function(e){if(e.target!=this.DOM.scope&&!this.DOM.scope.contains(e.target)){this.toggleFocusClass(!1),this.state.hasFocus=!1;var t=e.target.closest(this.settings.classNames.dropdownSelector);t?.__tagify!=this&&this.dropdown.hide()}},onClickScope:function(e){var t=this.settings,n=e.target.closest("."+t.classNames.tag);e.target,this.DOM.scope;var r=+new Date-this.state.hasFocus;if(!e.target.classList.contains(t.classNames.tagX))return n&&!this.state.editing?(this.trigger("click",{tag:n,index:this.getNodeIndex(n),data:J(n),event:e}),void(t.editTags!==1&&t.editTags.clicks!==1&&t.mode!="select"||this.events.callbacks.onDoubleClickScope.call(this,e))):void(e.target==this.DOM.input&&(t.mode=="mix"&&this.fixFirefoxLastTagNoCaret(),r>500||!t.focusable)?this.state.dropdown.visible?this.dropdown.hide():t.dropdown.enabled===0&&t.mode!="mix"&&this.dropdown.show(this.value.length?"":void 0):t.mode!="select"||t.dropdown.enabled!==0||this.state.dropdown.visible||(this.events.callbacks.onDoubleClickScope.call(this,Ey(function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{},a=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable}))),a.forEach(function(l){Nn(i,l,s[l])})}return i}({},e),{target:this.getTagElms()[0]})),!t.userInput&&this.dropdown.show()));this.removeTags(e.target.parentNode)},onPaste:function(e){var t=this;e.preventDefault();var n,r,i,o=this.settings;if(!o.userInput)return!1;o.readonly||(r=e.clipboardData||window.clipboardData,i=r.getData("Text"),o.hooks.beforePaste(e,{tagify:this,pastedText:i,clipboardData:r}).then(function(s){s===void 0&&(s=i),s&&(t.injectAtCaret(s,window.getSelection().getRangeAt(0)),t.settings.mode=="mix"?t.events.callbacks.onMixTagsInput.call(t,e):t.settings.pasteAsTags?n=t.addTags(t.state.inputText+s,!0):(t.state.inputText=s,t.dropdown.show(s))),t.trigger("paste",{event:e,pastedText:i,clipboardData:r,tagsElems:n})}).catch(function(s){return s}))},onDrop:function(e){e.preventDefault()},onEditTagInput:function(e,t){var n,r=e.closest("."+this.settings.classNames.tag),i=this.getNodeIndex(r),o=J(r),s=this.input.normalize.call(this,e),a=(Nn(n={},this.settings.tagTextProp,s),Nn(n,"__tagId",o.__tagId),n),l=this.validateTag(a);this.editTagChangeDetected(mt(o,a))||e.originalIsValid!==!0||(l=!0),r.classList.toggle(this.settings.classNames.tagInvalid,l!==!0),o.__isValid=l,r.title=l===!0?o.title||o.value:l,s.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=s),this.dropdown.show(s)),this.trigger("edit:input",{tag:r,index:i,data:mt({},this.value[i],{newValue:s}),event:t})},onEditTagPaste:function(e,t){var n=(t.clipboardData||window.clipboardData).getData("Text");t.preventDefault();var r=Pc(n);this.setRangeAtStartEnd(!1,r)},onEditTagClick:function(e,t){this.events.callbacks.onClickScope.call(this,t)},onEditTagFocus:function(e){this.state.editing={scope:e,input:e.querySelector("[contenteditable]")}},onEditTagBlur:function(e,t){var n=Mn.call(this,t.relatedTarget);if(this.settings.mode=="select"&&n&&t.relatedTarget.contains(t.target))this.dropdown.hide();else if(this.state.editing&&(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(document.activeElement)||this.trigger("blur",{}),this.DOM.scope.contains(e))){var r,i,o,s=this.settings,a=e.closest("."+s.classNames.tag),l=J(a),u=this.input.normalize.call(this,e),d=(Nn(r={},s.tagTextProp,u),Nn(r,"__tagId",l.__tagId),r),c=l.__originalData,f=this.editTagChangeDetected(mt(l,d)),h=this.validateTag(d);if(u)if(f){var p;if(i=this.hasMaxTags(),o=mt({},c,(Nn(p={},s.tagTextProp,this.trim(u)),Nn(p,"__isValid",h),p)),s.transformTag.call(this,o,c),(h=(!i||c.__isValid===!0)&&this.validateTag(o))!==!0){if(this.trigger("invalid",{data:o,tag:a,message:h}),s.editTags.keepInvalid)return;s.keepInvalidTags?o.__isValid=h:o=c}else s.keepInvalidTags&&(delete o.title,delete o["aria-invalid"],delete o.class);this.onEditTagDone(a,o)}else this.onEditTagDone(a,c);else this.onEditTagDone(a)}},onEditTagkeydown:function(e,t){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:e}),e.key){case"Esc":case"Escape":this.state.editing=!1,t.__tagifyTagData.__originalData.value?t.parentNode.replaceChild(t.__tagifyTagData.__originalHTML,t):t.remove();break;case"Enter":case"Tab":e.preventDefault(),setTimeout(function(){return e.target.blur()},0)}},onDoubleClickScope:function(e){var t=e.target.closest("."+this.settings.classNames.tag);if(t){var n,r,i=J(t),o=this.settings;i?.editable!==!1&&(n=t.classList.contains(this.settings.classNames.tagEditing),r=t.hasAttribute("readonly"),o.readonly||n||r||!this.settings.editTags||!o.userInput||(this.events.callbacks.onEditTagFocus.call(this,t),this.editTag(t)),this.toggleFocusClass(!0),o.mode!="select"&&this.trigger("dblclick",{tag:t,index:this.getNodeIndex(t),data:J(t)}))}},onInputDOMChange:function(e){var t=this;e.forEach(function(r){r.addedNodes.forEach(function(i){if(i.outerHTML=="<div><br></div>")i.replaceWith(document.createElement("br"));else if(i.nodeType==1&&i.querySelector(t.settings.classNames.tagSelector)){var o,s=document.createTextNode("");i.childNodes[0].nodeType==3&&i.previousSibling.nodeName!="BR"&&(s=document.createTextNode(`
`)),(o=i).replaceWith.apply(o,va([s].concat(va(va(i.childNodes).slice(0,-1))))),un(s)}else if(Mn.call(t,i)){var a;if(((a=i.previousSibling)===null||a===void 0?void 0:a.nodeType)!=3||i.previousSibling.textContent||i.previousSibling.remove(),i.previousSibling&&i.previousSibling.nodeName=="BR"){i.previousSibling.replaceWith(`
\u200B`);for(var l=i.nextSibling,u="";l;)u+=l.textContent,l=l.nextSibling;u.trim()&&un(i.previousSibling)}else i.previousSibling&&!J(i.previousSibling)||i.before("\u200B")}}),r.removedNodes.forEach(function(i){i&&i.nodeName=="BR"&&Mn.call(t,n)&&(t.removeTags(n),t.fixFirefoxLastTagNoCaret())})});var n=this.DOM.input.lastChild;n&&n.nodeValue==""&&n.remove(),n&&n.nodeName=="BR"||this.DOM.input.appendChild(document.createElement("br"))}}};function ya(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return t!=null&&typeof Symbol<"u"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){_a(e,i,n[i])})}return e}function No(e){return function(t){if(Array.isArray(t))return ya(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,n){if(t){if(typeof t=="string")return ya(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ya(t,n)}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){if(!e){cn.warn("input element not found",e);var n=new Proxy(this,{get:function(){return function(){return n}}});return n}if(e.__tagify)return cn.warn("input element is already Tagified - Same instance is returned.",e),e.__tagify;var r;mt(this,function(i){var o=document.createTextNode(""),s={};function a(l,u,d){d&&u.split(/\s+/g).forEach(function(c){return o[l+"EventListener"].call(o,c,d)})}return{removeAllCustomListeners:function(){Object.entries(s).forEach(function(l){var u=_y(l,2),d=u[0];u[1].forEach(function(c){return a("remove",d,c)})}),s={}},off:function(l,u){return l&&(u?a("remove",l,u):l.split(/\s+/g).forEach(function(d){var c;(c=s[d])===null||c===void 0||c.forEach(function(f){return a("remove",d,f)}),delete s[d]})),this},on:function(l,u){return u&&typeof u=="function"&&(l.split(/\s+/g).forEach(function(d){Array.isArray(s[d])?s[d].push(u):s[d]=[u]}),a("add",l,u)),this},trigger:function(l,u,d){var c;if(d=d||{cloneData:!0},l)if(i.settings.isJQueryPlugin)l=="remove"&&(l="removeTag"),jQuery(i.DOM.originalInput).triggerHandler(l,[u]);else{try{var f=typeof u=="object"?u:{value:u};if((f=d.cloneData?mt({},f):f).tagify=this,u.event&&(f.event=this.cloneEvent(u.event)),xc(u,Object))for(var h in u)xc(u[h],HTMLElement)&&(f[h]=u[h]);c=new CustomEvent(l,{detail:f})}catch(p){cn.warn(p)}o.dispatchEvent(c)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,t=t||{},this.getPersistedData=(r=t.id,function(i){var o;if(r){var s,a="/"+i;if(((o=localStorage)===null||o===void 0?void 0:o.getItem(ti+r+"/v"))===1)try{s=JSON.parse(localStorage[ti+r+a])}catch{}return s}}),this.setPersistedData=function(i){var o;return i?((o=localStorage)===null||o===void 0||o.setItem(ti+i+"/v",1),function(s,a){var l,u="/"+a,d=JSON.stringify(s);s&&a&&((l=localStorage)===null||l===void 0||l.setItem(ti+i+u,d),dispatchEvent(new Event("storage")))}):function(){}}(t.id),this.clearPersistedData=function(i){return function(o){var s=ti+"/"+i+"/";if(o)localStorage.removeItem(s+o);else for(var a in localStorage)a.includes(s)&&localStorage.removeItem(a)}}(t.id),this.applySettings(e,t),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(e),my.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),e.autofocus&&this.DOM.input.focus(),e.__tagify=this}ni.prototype={_dropdown:vy,placeCaretAfterNode:un,getSetTagData:J,helpers:{sameStr:ei,removeCollectionProp:bc,omit:ba,isObject:be,parseHTML:ha,escapeHTML:In,extend:mt,concatWithoutDups:Ec,getUID:Tc,isNodeTag:Mn},customEventsList:["change","add","remove","invalid","input","paste","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim:function(e){return this.settings.trim&&e&&typeof e=="string"?e.trim():e},parseHTML:ha,templates:by,parseTemplate:function(e,t){return ha((e=this.settings.templates[e]||e).apply(this,t))},set whitelist(e){var t=e&&Array.isArray(e);this.settings.whitelist=t?e:[],this.setPersistedData(t?e:[],"whitelist")},get whitelist(){return this.settings.whitelist},set userInput(e){this.settings.userInput=!!e,this.setContentEditable(!!e)},get userInput(){return this.settings.userInput},generateClassSelectors:function(e){var t=function(r){var i=r;Object.defineProperty(e,i+"Selector",{get:function(){return"."+this[i].split(" ")[0]}})};for(var n in e)t(n)},applySettings:function(e,t){var n,r;pa.templates=this.templates;var i=mt({},pa,t.mode=="mix"?{dropdown:{position:"text"}}:{}),o=this.settings=mt({},i,t);if(o.disabled=e.hasAttribute("disabled"),o.readonly=o.readonly||e.hasAttribute("readonly"),o.placeholder=In(e.getAttribute("placeholder")||o.placeholder||""),o.required=e.hasAttribute("required"),this.generateClassSelectors(o.classNames),this.isIE&&(o.autoComplete=!1),["whitelist","blacklist"].forEach(function(a){var l=e.getAttribute("data-"+a);l&&Ie(l=l.split(o.delimiters),Array)&&(o[a]=l)}),"autoComplete"in t&&!be(t.autoComplete)&&(o.autoComplete=pa.autoComplete,o.autoComplete.enabled=t.autoComplete),o.mode=="mix"&&(o.pattern=o.pattern||/@/,o.autoComplete.rightKey=!0,o.delimiters=t.delimiters||null,o.tagTextProp&&!o.dropdown.searchKeys.includes(o.tagTextProp)&&o.dropdown.searchKeys.push(o.tagTextProp)),e.pattern)try{o.pattern=new RegExp(e.pattern)}catch{}if(o.delimiters){o._delimiters=o.delimiters;try{o.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}(o.disabled||o.readonly)&&(o.userInput=!1),this.TEXTS=Cc({},yy,o.texts||{}),o.mode=="select"&&(o.dropdown.includeSelectedTags=!0),(o.mode!="select"||!((n=t.dropdown)===null||n===void 0)&&n.enabled)&&o.userInput||(o.dropdown.enabled=0),o.disabled&&(o.dropdown.enabled=!1),o.dropdown.appendTarget=((r=t.dropdown)===null||r===void 0?void 0:r.appendTarget)||document.body,o.dropdown.includeSelectedTags===void 0&&(o.dropdown.includeSelectedTags=o.duplicates);var s=this.getPersistedData("whitelist");Array.isArray(s)&&(this.whitelist=Array.isArray(o.whitelist)?Ec(o.whitelist,s):s)},getAttributes:function(e){var t,n=this.getCustomAttributes(e),r="";for(t in n)r+=" "+t+(e[t]!==void 0?'="'.concat(n[t],'"'):"");return r},getCustomAttributes:function(e){if(!be(e))return"";var t,n={};for(t in e)t.slice(0,2)!="__"&&t!="class"&&e.hasOwnProperty(t)&&e[t]!==void 0&&(n[t]=In(e[t]));return n},setStateSelection:function(){var e=window.getSelection(),t={anchorOffset:e.anchorOffset,anchorNode:e.anchorNode,range:e.getRangeAt&&e.rangeCount&&e.getRangeAt(0)};return this.state.selection=t,t},getCSSVars:function(){var e,t,n,r=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(e=function(i){if(!i)return{};var o=(i=i.trim().split(" ")[0]).split(/\d+/g).filter(function(s){return s}).pop().trim();return{value:+i.split(o).filter(function(s){return s})[0].trim(),unit:o}}((n="tag-hide-transition",r.getPropertyValue("--"+n))),t=e.value,e.unit=="s"?1e3*t:t)}},build:function(e){var t=this.DOM,n=e.closest("label");this.settings.mixMode.integrated?(t.originalInput=null,t.scope=e,t.input=e):(t.originalInput=e,t.originalInput_tabIndex=e.tabIndex,t.scope=this.parseTemplate("wrapper",[e,this.settings]),t.input=t.scope.querySelector(this.settings.classNames.inputSelector),e.parentNode.insertBefore(t.scope,e),e.tabIndex=-1),n&&n.setAttribute("for","")},destroy:function(){var e;this.events.unbindGlobal.call(this),(e=this.DOM.scope.parentNode)===null||e===void 0||e.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),this.removeAllCustomListeners(),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues:function(e){var t,n=this.settings;if(this.state.blockChangeEvent=!0,e===void 0){var r=this.getPersistedData("value");e=r&&!this.DOM.originalInput.value?r:n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),e)if(n.mode=="mix")this.parseMixTags(e),(t=this.DOM.input.lastChild)&&t.tagName=="BR"||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{Ie(JSON.parse(e),Array)&&(e=JSON.parse(e))}catch{}this.addTags(e,!0).forEach(function(i){return i&&i.classList.add(n.classNames.tagNoAnimation)})}else this.postUpdate();this.state.lastOriginalValueReported=n.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent:function(e){var t={};for(var n in e)n!="path"&&(t[n]=e[n]);return t},loading:function(e){return this.state.isLoading=e,this.DOM.scope.classList[e?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading:function(e,t){return e&&e.classList[t?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass:function(e,t){typeof e=="string"&&this.DOM.scope.classList.toggle(e,t)},toggleScopeValidation:function(e){var t=e===!0||e===void 0;!this.settings.required&&e&&e===this.TEXTS.empty&&(t=!0),this.toggleClass(this.settings.classNames.tagInvalid,!t),this.DOM.scope.title=t?"":e},toggleFocusClass:function(e){this.toggleClass(this.settings.classNames.focus,!!e)},setPlaceholder:function(e){var t=this;["data","aria"].forEach(function(n){return t.DOM.input.setAttribute("".concat(n,"-placeholder"),e)})},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var e=this.DOM.originalInput,t=this.state.lastOriginalValueReported!==e.value,n=new CustomEvent("change",{bubbles:!0});t&&(this.state.lastOriginalValueReported=e.value,n.simulated=!0,e._valueTracker&&e._valueTracker.setValue(Math.random()),e.dispatchEvent(n),this.trigger("change",this.state.lastOriginalValueReported),e.value=this.state.lastOriginalValueReported)}},events:wy,fixFirefoxLastTagNoCaret:function(){},setRangeAtStartEnd:function(e,t){if(t){e=typeof e=="number"?e:!!e,t=t.lastChild||t;var n=document.getSelection();if(Ie(n.focusNode,Element)&&!this.DOM.input.contains(n.focusNode))return!0;try{n.rangeCount>=1&&["Start","End"].forEach(function(r){return n.getRangeAt(0)["set"+r](t,e||t.length)})}catch(r){console.warn(r)}}},insertAfterTag:function(e,t){if(t=t||this.settings.mixMode.insertAfterTag,e&&e.parentNode&&t)return t=typeof t=="string"?document.createTextNode(t):t,e.parentNode.insertBefore(t,e.nextSibling),t},editTagChangeDetected:function(e){var t=e.__originalData;for(var n in t)if(!this.dataProps.includes(n)&&e[n]!=t[n])return!0;return!1},getTagTextNode:function(e){return e.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode:function(e,t){this.getTagTextNode(e).innerHTML=In(t)},editTag:function(e,t){var n=this;e=e||this.getLastTag(),t=t||{};var r=this.settings,i=this.getTagTextNode(e),o=this.getNodeIndex(e),s=J(e),a=this.events.callbacks,l=!0,u=r.mode=="select";if(!u&&this.dropdown.hide(),i){if(!Ie(s,Object)||!("editable"in s)||s.editable)return s=J(e,{__originalData:mt({},s),__originalHTML:e.cloneNode(!0)}),J(s.__originalHTML,s.__originalData),i.setAttribute("contenteditable",!0),e.classList.add(r.classNames.tagEditing),this.events.callbacks.onEditTagFocus.call(this,e),i.addEventListener("click",a.onEditTagClick.bind(this,e)),i.addEventListener("blur",a.onEditTagBlur.bind(this,this.getTagTextNode(e))),i.addEventListener("input",a.onEditTagInput.bind(this,i)),i.addEventListener("paste",a.onEditTagPaste.bind(this,i)),i.addEventListener("keydown",function(d){return a.onEditTagkeydown.call(n,d,e)}),i.addEventListener("compositionstart",a.onCompositionStart.bind(this)),i.addEventListener("compositionend",a.onCompositionEnd.bind(this)),t.skipValidation||(l=this.editTagToggleValidity(e)),i.originalIsValid=l,this.trigger("edit:start",{tag:e,index:o,data:s,isValid:l}),i.focus(),!u&&this.setRangeAtStartEnd(!1,i),r.dropdown.enabled===0&&!u&&this.dropdown.show(),this.state.hasFocus=!0,this}else cn.warn("Cannot find element in Tag template: .",r.classNames.tagTextSelector)},editTagToggleValidity:function(e,t){var n;if(t=t||J(e))return(n=!("__isValid"in t)||t.__isValid===!0)||this.removeTagsFromValue(e),this.update(),e.classList.toggle(this.settings.classNames.tagNotAllowed,!n),t.__isValid=n,t.__isValid;cn.warn("tag has no data: ",e,t)},onEditTagDone:function(e,t){e=e||this.state.editing.scope,t=t||{};var n,r,i=this.settings,o={tag:e,index:this.getNodeIndex(e),previousData:J(e),data:t};this.trigger("edit:beforeUpdate",o,{cloneData:!1}),this.state.editing=!1,delete t.__originalData,delete t.__originalHTML,e&&e.parentNode&&(((r=t[i.tagTextProp])!==void 0?!((n=(r+="").trim)===null||n===void 0)&&n.call(r):!(i.tagTextProp in t)&&t.value)?(e=this.replaceTag(e,t),this.editTagToggleValidity(e,t),i.a11y.focusableTags?e.focus():i.mode!="select"&&un(e)):this.removeTags(e)),this.trigger("edit:updated",o),i.dropdown.closeOnSelect&&this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag:function(e,t){t&&t.value!==""&&t.value!==void 0||(t=e.__tagifyTagData),t.__isValid&&t.__isValid!=1&&mt(t,this.getInvalidTagAttrs(t,t.__isValid));var n=this.createTagElem(t);return e.parentNode.replaceChild(n,e),this.updateValueByDOMTags(),n},updateValueByDOMTags:function(){var e=this;this.value.length=0;var t=this.settings.classNames,n=[t.tagNotAllowed.split(" ")[0],t.tagHide];[].forEach.call(this.getTagElms(),function(r){No(r.classList).some(function(i){return n.includes(i)})||e.value.push(J(r))}),this.update(),this.dropdown.refilter()},injectAtCaret:function(e,t){var n;if(t=t||((n=this.state.selection)===null||n===void 0?void 0:n.range),typeof e=="string"&&(e=document.createTextNode(e)),!t&&e)return this.appendMixTags(e),this;var r=Pc(e,t);return this.setRangeAtStartEnd(!1,r),this.updateValueByDOMTags(),this.update(),this},input:{set:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.settings,r=n.dropdown.closeOnSelect;this.state.inputText=e,t&&(this.DOM.input.innerHTML=In(""+e),e&&this.toggleClass(n.classNames.empty,!this.DOM.input.innerHTML)),!e&&r&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw:function(){return this.DOM.input.textContent},validate:function(){var e=!this.state.inputText||this.validateTag({value:this.state.inputText})===!0;return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!e),e},normalize:function(e,t){var n=e||this.DOM.input,r=[];n.childNodes.forEach(function(i){return i.nodeType==3&&r.push(i.nodeValue)}),r=r.join(`
`);try{r=r.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return r=r.replace(/\s/g," "),t?.trim?this.trim(r):r},autocomplete:{suggest:function(e){if(this.settings.autoComplete.enabled){typeof(e=e||{value:""})!="object"&&(e={value:e});var t=this.dropdown.getMappedValue(e);if(typeof t!="number"){var n=this.state.inputText.toLowerCase(),r=t.substr(0,this.state.inputText.length).toLowerCase(),i=t.substring(this.state.inputText.length);t&&this.state.inputText&&r==n?(this.DOM.input.setAttribute("data-suggest",i),this.state.inputSuggestion=e):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set:function(e){var t=this.DOM.input.getAttribute("data-suggest"),n=e||(t?this.state.inputText+t:null);return!!n&&(this.settings.mode=="mix"?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+n)):(this.input.set.call(this,n),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx:function(e){return this.value.findIndex(function(t){return t.__tagId==(e||{}).__tagId})},getNodeIndex:function(e){var t=0;if(e)for(;e=e.previousElementSibling;)t++;return t},getTagElms:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="."+No(this.settings.classNames.tag.split(" ")).concat(No(t)).join(".");return[].slice.call(this.DOM.scope.querySelectorAll(r))},getLastTag:function(){var e=this.settings.classNames,t=this.DOM.scope.querySelectorAll("".concat(e.tagSelector,":not(.").concat(e.tagHide,"):not([readonly])"));return t[t.length-1]},isTagDuplicate:function(e,t,n){var r=0,i=!0,o=!1,s=void 0;try{for(var a,l=this.value[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;ei(this.trim(""+e),u.value,t)&&n!=u.__tagId&&r++}}catch(d){o=!0,s=d}finally{try{i||l.return==null||l.return()}finally{if(o)throw s}}return r},getTagIndexByValue:function(e){var t=this,n=[],r=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach(function(i,o){i.__tagifyTagData&&ei(t.trim(i.__tagifyTagData.value),e,r)&&n.push(o)}),n},getTagElmByValue:function(e){var t=this.getTagIndexByValue(e)[0];return this.getTagElms()[t]},flashTag:function(e){var t=this;e&&(e.classList.add(this.settings.classNames.tagFlash),setTimeout(function(){e.classList.remove(t.settings.classNames.tagFlash)},100))},isTagBlacklisted:function(e){return e=this.trim(e.toLowerCase()),this.settings.blacklist.filter(function(t){return(""+t).toLowerCase()==e}).length},isTagWhitelisted:function(e){return!!this.getWhitelistItem(e)},getWhitelistItem:function(e,t,n){t=t||"value";var r,i=this.settings;return(n=n||i.whitelist).some(function(o){var s=typeof o=="object"?o[t]||o.value:o;if(ei(s,e,i.dropdown.caseSensitive,i.trim))return r=typeof o=="object"?o:{value:o},!0}),r||t!="value"||i.tagTextProp=="value"||(r=this.getWhitelistItem(e,i.tagTextProp,n)),r},validateTag:function(e){var t=this.settings,n="value"in e?"value":t.tagTextProp,r=this.trim(e[n]+"");return(e[n]+"").trim()?t.mode!="mix"&&t.pattern&&Ie(t.pattern,RegExp)&&!t.pattern.test(r)?this.TEXTS.pattern:!t.duplicates&&this.isTagDuplicate(r,t.dropdown.caseSensitive,e.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(r)||t.enforceWhitelist&&!this.isTagWhitelisted(r)?this.TEXTS.notAllowed:!t.validate||t.validate(e):this.TEXTS.empty},getInvalidTagAttrs:function(e,t){return{"aria-invalid":!0,class:"".concat(e.class||""," ").concat(this.settings.classNames.tagNotAllowed).trim(),title:t}},hasMaxTags:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly:function(e,t){var n=this.settings;this.DOM.scope.contains(document.activeElement)&&document.activeElement.blur(),n[t||"readonly"]=e,this.DOM.scope[(e?"set":"remove")+"Attribute"](t||"readonly",!0),this.settings.userInput=!0,this.setContentEditable(!e)},setContentEditable:function(e){this.DOM.scope.querySelectorAll("[data-can-editable]").forEach(function(t){t.contentEditable=e,t.tabIndex=e?0:-1})},setDisabled:function(e){this.setReadonly(e,"disabled")},normalizeTags:function(e){var t=this,n=this.settings,r=n.whitelist,i=n.delimiters,o=n.mode,s=n.tagTextProp,a=[],l=!!r&&Ie(r[0],Object),u=Array.isArray(e),d=u&&e[0].value,c=function(f){return(f+"").split(i).reduce(function(h,p){var g,m=t.trim(p);return m&&h.push((_a(g={},s,m),_a(g,"value",m),g)),h},[])};if(typeof e=="number"&&(e=e.toString()),typeof e=="string"){if(!e.trim())return[];e=c(e)}else u&&(e=e.reduce(function(f,h){if(be(h)){var p=mt({},h);s in p||(s="value"),p[s]=t.trim(p[s]),(p[s]||p[s]===0)&&f.push(p)}else if(h!=null&&h!==""&&h!==void 0){var g;(g=f).push.apply(g,No(c(h)))}return f},[]));return l&&!d&&(e.forEach(function(f){var h=a.map(function(m){return m.value}),p=t.dropdown.filterListItems.call(t,f[s],{exact:!0});t.settings.duplicates||(p=p.filter(function(m){return!h.includes(m.value)}));var g=p.length>1?t.getWhitelistItem(f[s],s,p):p[0];g&&Ie(g,Object)?a.push(g):o!="mix"&&(f.value==null&&(f.value=f[s]),a.push(f))}),a.length&&(e=a)),e},parseMixTags:function(e){var t=this,n=this.settings,r=n.mixTagsInterpolator,i=n.duplicates,o=n.transformTag,s=n.enforceWhitelist,a=n.maxTags,l=n.tagTextProp,u=[];e=e.split(r[0]).map(function(c,f){var h,p,g,m=c.split(r[1]),v=m[0],b=u.length==a;try{if(v==+v)throw Error;p=JSON.parse(v)}catch{p=t.normalizeTags(v)[0]||{value:v}}if(o.call(t,p),b||!(m.length>1)||s&&!t.isTagWhitelisted(p.value)||!i&&t.isTagDuplicate(p.value)){if(c)return f?r[0]+c:c}else p[h=p[l]?l:"value"]=t.trim(p[h]),g=t.createTagElem(p),u.push(p),g.classList.add(t.settings.classNames.tagNoAnimation),m[0]=g.outerHTML,t.value.push(p);return m.join("")}).join(""),this.DOM.input.innerHTML=e,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();var d=this.getTagElms();return d.forEach(function(c,f){return J(c,u[f])}),this.update({withoutChangeEvent:!0}),Nc(d,this.state.hasFocus),e},replaceTextWithNode:function(e,t){if(this.state.tag||t){t=t||this.state.tag.prefix+this.state.tag.value;var n,r,i=this.state.selection||window.getSelection(),o=i.anchorNode,s=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return o.splitText(i.anchorOffset-s),(n=o.nodeValue.lastIndexOf(t))==-1||(r=o.splitText(n),e&&o.parentNode.replaceChild(e,r)),!0}},prepareNewTagNode:function(e,t){t=t||{};var n=this.settings,r=[],i={},o=Object.assign({},e,{value:e.value+""});if(e=Object.assign({},o),n.transformTag.call(this,e),e.__isValid=this.hasMaxTags()||this.validateTag(e),e.__isValid!==!0){if(t.skipInvalid)return;if(mt(i,this.getInvalidTagAttrs(e,e.__isValid),{__preInvalidData:o}),e.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(e.value)),!n.createInvalidTags)return void r.push(e.value)}return"readonly"in e&&(e.readonly?i["aria-readonly"]=!0:delete e.readonly),{tagElm:this.createTagElem(e,i),tagData:e,aggregatedInvalidInput:r}},postProcessNewTagNode:function(e,t){var n=this,r=this.settings,i=t.__isValid;i&&i===!0?this.value.push(t):(this.trigger("invalid",{data:t,index:this.value.length,tag:e,message:i}),r.keepInvalidTags||setTimeout(function(){return n.removeTags(e,!0)},1e3)),this.dropdown.position()},selectTag:function(e,t){var n=this;if(!this.settings.enforceWhitelist||this.isTagWhitelisted(t.value)){this.state.actions.selectOption&&setTimeout(function(){return n.setRangeAtStartEnd(!1,n.DOM.input)});var r=this.getLastTag();return r?this.replaceTag(r,t):this.appendTag(e),this.value[0]=t,this.update(),this.trigger("add",{tag:e,data:t}),[e]}},addEmptyTag:function(e){var t=mt({value:""},e||{}),n=this.createTagElem(t);J(n,t),this.appendTag(n),this.editTag(n,{skipValidation:!0}),this.toggleFocusClass(!0)},addTags:function(e,t,n){var r=this,i=[],o=this.settings,s=[],a=document.createDocumentFragment(),l=[];if(!e||e.length==0)return i;switch(e=this.normalizeTags(e),o.mode){case"mix":return this.addMixTags(e);case"select":t=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),e.forEach(function(u){var d=r.prepareNewTagNode(u,{skipInvalid:n||o.skipInvalid});if(d){var c=d.tagElm;if(u=d.tagData,s=d.aggregatedInvalidInput,i.push(c),o.mode=="select")return r.selectTag(c,u);a.appendChild(c),r.postProcessNewTagNode(c,u),l.push({tagElm:c,tagData:u})}}),this.appendTag(a),l.forEach(function(u){var d=u.tagElm,c=u.tagData;return r.trigger("add",{tag:d,index:r.getTagIdx(c),data:c})}),this.update(),e.length&&t&&(this.input.set.call(this,o.createInvalidTags?"":s.join(o._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),this.dropdown.refilter(),i},addMixTags:function(e){var t=this;if((e=this.normalizeTags(e))[0].prefix||this.state.tag)return this.prefixedTextToTag(e[0]);var n=document.createDocumentFragment();return e.forEach(function(r){var i=t.prepareNewTagNode(r);n.appendChild(i.tagElm),t.insertAfterTag(i.tagElm),t.postProcessNewTagNode(i.tagElm,i.tagData)}),this.appendMixTags(n),n.children},appendMixTags:function(e){var t=!!this.state.selection;t?this.injectAtCaret(e):(this.DOM.input.focus(),(t=this.setStateSelection()).range.setStart(this.DOM.input,t.range.endOffset),t.range.setEnd(this.DOM.input,t.range.endOffset),this.DOM.input.appendChild(e),this.updateValueByDOMTags(),this.update())},prefixedTextToTag:function(e){var t,n,r,i=this,o=this.settings,s=(t=this.state.tag)===null||t===void 0?void 0:t.delimiters;if(e.prefix=e.prefix||this.state.tag?this.state.tag.prefix:(o.pattern.source||o.pattern)[0],r=this.prepareNewTagNode(e),n=r.tagElm,this.replaceTextWithNode(n)||this.DOM.input.appendChild(n),setTimeout(function(){return n.classList.add(i.settings.classNames.tagNoAnimation)},300),this.update(),!s){var a=this.insertAfterTag(n)||n;setTimeout(un,0,a)}return this.state.tag=null,this.postProcessNewTagNode(n,r.tagData),n},appendTag:function(e){var t=this.DOM,n=t.input;t.scope.insertBefore(e,n)},createTagElem:function(e,t){e.__tagId=Tc();var n,r=mt({},e,Cc({value:In(e.value+"")},t));return function(i){for(var o,s=document.createNodeIterator(i,NodeFilter.SHOW_TEXT,null,!1);o=s.nextNode();)o.textContent.trim()||o.parentNode.removeChild(o)}(n=this.parseTemplate("tag",[r,this])),J(n,e),n},reCheckInvalidTags:function(){var e=this,t=this.settings;this.getTagElms(t.classNames.tagNotAllowed).forEach(function(n,r){var i=J(n),o=e.hasMaxTags(),s=e.validateTag(i),a=s===!0&&!o;if(t.mode=="select"&&e.toggleScopeValidation(s),a)return i=i.__preInvalidData?i.__preInvalidData:{value:i.value},e.replaceTag(n,i);n.title=o||s})},removeTags:function(e,t,n){var r,i=this,o=this.settings;if(e=e&&Ie(e,HTMLElement)?[e]:Ie(e,Array)?e:e?[e]:[this.getLastTag()].filter(function(s){return s}),r=e.reduce(function(s,a){a&&typeof a=="string"&&(a=i.getTagElmByValue(a));var l=J(a);return a&&l&&!l.readonly&&s.push({node:a,idx:i.getTagIdx(l),data:J(a,{__removed:!0})}),s},[]),n=typeof n=="number"?n:this.CSSVars.tagHideTransition,o.mode=="select"&&(n=0,this.input.set.call(this)),r.length==1&&o.mode!="select"&&r[0].node.classList.contains(o.classNames.tagNotAllowed)&&(t=!0),r.length)return o.hooks.beforeRemoveTag(r,{tagify:this}).then(function(){var s=function(a){a.node.parentNode&&(a.node.parentNode.removeChild(a.node),t?o.keepInvalidTags&&this.trigger("remove",{tag:a.node,index:a.idx}):(this.trigger("remove",{tag:a.node,index:a.idx,data:a.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),o.keepInvalidTags&&this.reCheckInvalidTags()))};n&&n>10&&r.length==1?function(a){a.node.style.width=parseFloat(window.getComputedStyle(a.node).width)+"px",document.body.clientTop,a.node.classList.add(o.classNames.tagHide),setTimeout(s.bind(this),n,a)}.call(i,r[0]):r.forEach(s.bind(i)),t||(i.removeTagsFromValue(r.map(function(a){return a.node})),i.update(),o.mode=="select"&&o.userInput&&i.setContentEditable(!0))}).catch(function(s){})},removeTagsFromDOM:function(){this.getTagElms().forEach(function(e){return e.remove()})},removeTagsFromValue:function(e){var t=this;(e=Array.isArray(e)?e:[e]).forEach(function(n){var r=J(n),i=t.getTagIdx(r);i>-1&&t.value.splice(i,1)})},removeAllTags:function(e){var t=this;e=e||{},this.value=[],this.settings.mode=="mix"?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout(function(){t.DOM.input.focus()}),this.settings.mode=="select"&&(this.input.set.call(this),this.settings.userInput&&this.setContentEditable(!0)),this.update(e)},postUpdate:function(){this.state.blockChangeEvent=!1;var e,t,n=this.settings,r=n.classNames,i=n.mode=="mix"?n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(r.hasMaxTags,this.value.length>=n.maxTags),this.toggleClass(r.hasNoTags,!this.value.length),this.toggleClass(r.empty,!i),n.mode=="select"&&this.toggleScopeValidation((t=this.value)===null||t===void 0||(e=t[0])===null||e===void 0?void 0:e.__isValid)},setOriginalInputValue:function(e){var t=this.DOM.originalInput;this.settings.mixMode.integrated||(t.value=e,t.tagifyValue=t.value,this.setPersistedData(e,"value"))},update:function(e){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var t=this.getInputValue();this.setOriginalInputValue(t),this.settings.onChangeAfterBlur&&(e||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}.bind(this),100),this.events.bindOriginaInputListener.call(this,100)},getInputValue:function(){var e=this.getCleanValue();return this.settings.mode=="mix"?this.getMixedTagsAsString(e):e.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(e):JSON.stringify(e):""},getCleanValue:function(e){return bc(e||this.value,this.dataProps)},getMixedTagsAsString:function(){var e="",t=this,n=this.settings,r=n.originalInputValueFormat||JSON.stringify,i=n.mixTagsInterpolator;return function o(s){s.childNodes.forEach(function(a){if(a.nodeType==1){var l=J(a);if(a.tagName=="BR"&&(e+=`\r
`),l&&Mn.call(t,a)){if(l.__removed)return;e+=i[0]+r(ba(l,t.dataProps))+i[1]}else a.getAttribute("style")||["B","I","U"].includes(a.tagName)?e+=a.textContent:a.tagName!="DIV"&&a.tagName!="P"||(e+=`\r
`,o(a))}else e+=a.textContent})}(this.DOM.input),e}},ni.prototype.removeTag=ni.prototype.removeTags;function Ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ic(Object(n),!0).forEach(function(r){Ty(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fo(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fo=function(t){return typeof t}:Fo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function Ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(this,arguments)}function Sy(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ay(e,t){if(e==null)return{};var n=Sy(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var xy="1.15.6";function Me(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var pn=Me(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ko=Me(/Edge/i),Mc=Me(/firefox/i),Uo=Me(/safari/i)&&!Me(/chrome/i)&&!Me(/android/i),Pa=Me(/iP(ad|od|hone)/i),Bc=Me(/chrome/i)&&Me(/android/i),Vc={capture:!1,passive:!1};function K(e,t,n){e.addEventListener(t,n,!pn&&Vc)}function W(e,t,n){e.removeEventListener(t,n,!pn&&Vc)}function Bo(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function qc(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ee(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Bo(e,t):Bo(e,t))||r&&e===n)return e;if(e===n)break}while(e=qc(e))}return null}var Rc=/\s+/g;function Qt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Rc," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Rc," ")}}function k(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Dr(e,t){var n="";if(typeof e=="string")n=e;else do{var r=k(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Wc(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function Re(){var e=document.scrollingElement;return e||document.documentElement}function ht(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,a,l,u,d,c;if(e!==window&&e.parentNode&&e!==Re()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,u=o.right,d=o.height,c=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!pn))do if(i&&i.getBoundingClientRect&&(k(i,"transform")!=="none"||n&&k(i,"position")!=="static")){var f=i.getBoundingClientRect();s-=f.top+parseInt(k(i,"border-top-width")),a-=f.left+parseInt(k(i,"border-left-width")),l=s+o.height,u=a+o.width;break}while(i=i.parentNode);if(r&&e!==window){var h=Dr(i||e),p=h&&h.a,g=h&&h.d;h&&(s/=g,a/=p,c/=p,d/=g,l=s+d,u=a+c)}return{top:s,left:a,bottom:l,right:u,width:c,height:d}}}function Lc(e,t,n){for(var r=Vo(e,!0),i=ht(e)[t];r;){var o=ht(r)[n],s=void 0;if(n==="top"||n==="left"?s=i>=o:s=i<=o,!s)return r;if(r===Re())break;r=Vo(r,!1)}return!1}function Pr(e,t,n,r){for(var i=0,o=0,s=e.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==U.ghost&&(r||s[o]!==U.dragged)&&Ee(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function Na(e,t){for(var n=e.lastElementChild;n&&(n===U.ghost||k(n,"display")==="none"||t&&!Bo(n,t));)n=n.previousElementSibling;return n||null}function he(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==U.clone&&(!t||Bo(e,t))&&n++;return n}function kc(e){var t=0,n=0,r=Re();if(e)do{var i=Dr(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function Oy(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Vo(e,t){if(!e||!e.getBoundingClientRect)return Re();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=k(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Re();if(r||t)return n;r=!0}}while(n=n.parentNode);return Re()}function Cy(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ea(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var wa;function zc(e,t){return function(){if(!wa){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),wa=setTimeout(function(){wa=void 0},t)}}}function Kc(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Xc(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Yc(e,t,n){var r={};return Array.from(e.children).forEach(function(i){var o,s,a,l;if(!(!Ee(i,t.draggable,e,!1)||i.animated||i===n)){var u=ht(i);r.left=Math.min((o=r.left)!==null&&o!==void 0?o:1/0,u.left),r.top=Math.min((s=r.top)!==null&&s!==void 0?s:1/0,u.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Wt="Sortable"+new Date().getTime();function Dy(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(k(i,"display")==="none"||i===U.ghost)){e.push({target:i,rect:ht(i)});var o=Ae({},e[e.length-1].rect);if(i.thisAnimationDuration){var s=Dr(i,!0);s&&(o.top-=s.f,o.left-=s.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(Oy(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,s=0;e.forEach(function(a){var l=0,u=a.target,d=u.fromRect,c=ht(u),f=u.prevFromRect,h=u.prevToRect,p=a.rect,g=Dr(u,!0);g&&(c.top-=g.f,c.left-=g.e),u.toRect=c,u.thisAnimationDuration&&Ea(f,c)&&!Ea(d,c)&&(p.top-c.top)/(p.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(l=Ny(p,f,h,i.options)),Ea(c,d)||(u.prevFromRect=d,u.prevToRect=c,l||(l=i.options.animation),i.animate(u,p,c,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,s){if(s){k(r,"transition",""),k(r,"transform","");var a=Dr(this.el),l=a&&a.a,u=a&&a.d,d=(i.left-o.left)/(l||1),c=(i.top-o.top)/(u||1);r.animatingX=!!d,r.animatingY=!!c,k(r,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=Py(r),k(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),k(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){k(r,"transition",""),k(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function Py(e){return e.offsetWidth}function Ny(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ar=[],Ta={initializeByDefault:!0},ai={mount:function(t){for(var n in Ta)Ta.hasOwnProperty(n)&&!(n in t)&&(t[n]=Ta[n]);Ar.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ar.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";Ar.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][o]&&n[s.pluginName][o](Ae({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](Ae({sortable:n},r)))})},initializePlugins:function(t,n,r,i){Ar.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var u=new a(t,n,t.options);u.sortable=t,u.options=t.options,t[l]=u,hn(r,u.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,n){var r={};return Ar.forEach(function(i){typeof i.eventProperties=="function"&&hn(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return Ar.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function Iy(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,f=e.originalEvent,h=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Wt],!!t){var g,m=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!pn&&!Ko?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=s||n,g.from=a||n,g.item=i||n,g.clone=o,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=d,g.newDraggableIndex=c,g.originalEvent=f,g.pullMode=h?h.lastPutMode:void 0;var b=Ae(Ae({},p),ai.getEventProperties(r,t));for(var T in b)g[T]=b[T];n&&n.dispatchEvent(g),m[v]&&m[v].call(t,g)}}var My=["evt"],qt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=Ay(r,My);ai.pluginEvent.bind(U)(t,n,Ae({dragEl:A,parentEl:at,ghostEl:j,rootEl:tt,nextEl:kn,lastDownEl:$o,cloneEl:it,cloneHidden:fn,dragStarted:ri,putSortable:xt,activeSortable:U.active,originalEvent:i,oldIndex:Cr,oldDraggableIndex:ii,newIndex:Zt,newDraggableIndex:dn,hideGhostForTarget:Zc,unhideGhostForTarget:td,cloneNowHidden:function(){fn=!0},cloneNowShown:function(){fn=!1},dispatchSortableEvent:function(a){kt({sortable:n,name:a,originalEvent:i})}},o))};function kt(e){Iy(Ae({putSortable:xt,cloneEl:it,targetEl:A,rootEl:tt,oldIndex:Cr,oldDraggableIndex:ii,newIndex:Zt,newDraggableIndex:dn},e))}var A,at,j,tt,kn,$o,it,fn,Cr,Zt,ii,dn,Io,xt,Or=!1,qo=!1,Wo=[],Rn,_e,Sa,Aa,Fc,Uc,ri,xr,oi,si=!1,Mo=!1,Ho,Mt,xa=[],Ca=!1,zo=[],Xo=typeof document<"u",Ro=Pa,$c=Ko||pn?"cssFloat":"float",Ry=Xo&&!Bc&&!Pa&&"draggable"in document.createElement("div"),Gc=function(){if(Xo){if(pn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Jc=function(t,n){var r=k(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=Pr(t,0,n),s=Pr(t,1,n),a=o&&k(o),l=s&&k(s),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ht(o).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ht(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var c=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[$c]==="none"||s&&r[$c]==="none"&&u+d>i)?"vertical":"horizontal"},Ly=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,s=r?t.width:t.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||o===l||i+s/2===a+u/2},ky=function(t,n){var r;return Wo.some(function(i){var o=i[Wt].options.emptyInsertThreshold;if(!(!o||Na(i))){var s=ht(i),a=t>=s.left-o&&t<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(a&&l)return r=i}}),r},Qc=function(t){function n(o,s){return function(a,l,u,d){var c=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||c))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,u,d),s)(a,l,u,d);var f=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===f||o.join&&o.indexOf(f)>-1}}var r={},i=t.group;(!i||Fo(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},Zc=function(){!Gc&&j&&k(j,"display","none")},td=function(){!Gc&&j&&k(j,"display","")};Xo&&!Bc&&document.addEventListener("click",function(e){if(qo)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),qo=!1,!1},!0);var Ln=function(t){if(A){t=t.touches?t.touches[0]:t;var n=ky(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Wt]._onDragOver(r)}}},Fy=function(t){A&&A.parentNode[Wt]._isOutsideThisEl(t.target)};function U(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=hn({},t),e[Wt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Jc(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:U.supportPointer!==!1&&"PointerEvent"in window&&(!Uo||Pa),emptyInsertThreshold:5};ai.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Qc(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Ry,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?K(e,"pointerdown",this._onTapStart):(K(e,"mousedown",this._onTapStart),K(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(K(e,"dragover",this),K(e,"dragenter",this)),Wo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),hn(this,Dy())}U.prototype={constructor:U,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(xr=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,A):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=i.filter;if(Wy(r),!A&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Uo&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ee(l,i.draggable,r,!1),!(l&&l.animated)&&$o!==l)){if(Cr=he(l),ii=he(l,i.draggable),typeof d=="function"){if(d.call(this,t,l,this)){kt({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),qt("filter",n,{evt:t}),o&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=Ee(u,c.trim(),r,!1),c)return kt({sortable:n,rootEl:c,name:"filter",targetEl:l,fromEl:r,toEl:r}),qt("filter",n,{evt:t}),!0}),d)){o&&t.preventDefault();return}i.handle&&!Ee(u,i.handle,r,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,s=i.options,a=o.ownerDocument,l;if(r&&!A&&r.parentNode===o){var u=ht(r);if(tt=o,A=r,at=A.parentNode,kn=A.nextSibling,$o=r,Io=s.group,U.dragged=A,Rn={target:A,clientX:(n||t).clientX,clientY:(n||t).clientY},Fc=Rn.clientX-u.left,Uc=Rn.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,A.style["will-change"]="all",l=function(){if(qt("delayEnded",i,{evt:t}),U.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Mc&&i.nativeDraggable&&(A.draggable=!0),i._triggerDragStart(t,n),kt({sortable:i,name:"choose",originalEvent:t}),Qt(A,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){Wc(A,d.trim(),Oa)}),K(a,"dragover",Ln),K(a,"mousemove",Ln),K(a,"touchmove",Ln),s.supportPointer?(K(a,"pointerup",i._onDrop),!this.nativeDraggable&&K(a,"pointercancel",i._onDrop)):(K(a,"mouseup",i._onDrop),K(a,"touchend",i._onDrop),K(a,"touchcancel",i._onDrop)),Mc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,A.draggable=!0),qt("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ko||pn))){if(U.eventCanceled){this._onDrop();return}s.supportPointer?(K(a,"pointerup",i._disableDelayedDrag),K(a,"pointercancel",i._disableDelayedDrag)):(K(a,"mouseup",i._disableDelayedDrag),K(a,"touchend",i._disableDelayedDrag),K(a,"touchcancel",i._disableDelayedDrag)),K(a,"mousemove",i._delayedDragTouchMoveHandler),K(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&K(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){A&&Oa(A),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;W(t,"mouseup",this._disableDelayedDrag),W(t,"touchend",this._disableDelayedDrag),W(t,"touchcancel",this._disableDelayedDrag),W(t,"pointerup",this._disableDelayedDrag),W(t,"pointercancel",this._disableDelayedDrag),W(t,"mousemove",this._delayedDragTouchMoveHandler),W(t,"touchmove",this._delayedDragTouchMoveHandler),W(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?K(document,"pointermove",this._onTouchMove):n?K(document,"touchmove",this._onTouchMove):K(document,"mousemove",this._onTouchMove):(K(A,"dragend",this),K(tt,"dragstart",this._onDragStart));try{document.selection?jo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Or=!1,tt&&A){qt("dragStarted",this,{evt:n}),this.nativeDraggable&&K(document,"dragover",Fy);var r=this.options;!t&&Qt(A,r.dragClass,!1),Qt(A,r.ghostClass,!0),U.active=this,t&&this._appendGhost(),kt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(_e){this._lastX=_e.clientX,this._lastY=_e.clientY,Zc();for(var t=document.elementFromPoint(_e.clientX,_e.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(_e.clientX,_e.clientY),t!==n);)n=t;if(A.parentNode[Wt]._isOutsideThisEl(t),n)do{if(n[Wt]){var r=void 0;if(r=n[Wt]._onDragOver({clientX:_e.clientX,clientY:_e.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=qc(n));td()}},_onTouchMove:function(t){if(Rn){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,s=j&&Dr(j,!0),a=j&&s&&s.a,l=j&&s&&s.d,u=Ro&&Mt&&kc(Mt),d=(o.clientX-Rn.clientX+i.x)/(a||1)+(u?u[0]-xa[0]:0)/(a||1),c=(o.clientY-Rn.clientY+i.y)/(l||1)+(u?u[1]-xa[1]:0)/(l||1);if(!U.active&&!Or){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(j){s?(s.e+=d-(Sa||0),s.f+=c-(Aa||0)):s={a:1,b:0,c:0,d:1,e:d,f:c};var f="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");k(j,"webkitTransform",f),k(j,"mozTransform",f),k(j,"msTransform",f),k(j,"transform",f),Sa=d,Aa=c,_e=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!j){var t=this.options.fallbackOnBody?document.body:tt,n=ht(A,!0,Ro,!0,t),r=this.options;if(Ro){for(Mt=t;k(Mt,"position")==="static"&&k(Mt,"transform")==="none"&&Mt!==document;)Mt=Mt.parentNode;Mt!==document.body&&Mt!==document.documentElement?(Mt===document&&(Mt=Re()),n.top+=Mt.scrollTop,n.left+=Mt.scrollLeft):Mt=Re(),xa=kc(Mt)}j=A.cloneNode(!0),Qt(j,r.ghostClass,!1),Qt(j,r.fallbackClass,!0),Qt(j,r.dragClass,!0),k(j,"transition",""),k(j,"transform",""),k(j,"box-sizing","border-box"),k(j,"margin",0),k(j,"top",n.top),k(j,"left",n.left),k(j,"width",n.width),k(j,"height",n.height),k(j,"opacity","0.8"),k(j,"position",Ro?"absolute":"fixed"),k(j,"zIndex","100000"),k(j,"pointerEvents","none"),U.ghost=j,t.appendChild(j),k(j,"transform-origin",Fc/parseInt(j.style.width)*100+"% "+Uc/parseInt(j.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(qt("dragStart",this,{evt:t}),U.eventCanceled){this._onDrop();return}qt("setupClone",this),U.eventCanceled||(it=Xc(A),it.removeAttribute("id"),it.draggable=!1,it.style["will-change"]="",this._hideClone(),Qt(it,this.options.chosenClass,!1),U.clone=it),r.cloneId=jo(function(){qt("clone",r),!U.eventCanceled&&(r.options.removeCloneOnHide||tt.insertBefore(it,A),r._hideClone(),kt({sortable:r,name:"clone"}))}),!n&&Qt(A,o.dragClass,!0),n?(qo=!0,r._loopId=setInterval(r._emulateDragOver,50)):(W(document,"mouseup",r._onDrop),W(document,"touchend",r._onDrop),W(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,A)),K(document,"drop",r),k(A,"transform","translateZ(0)")),Or=!0,r._dragStartId=jo(r._dragStarted.bind(r,n,t)),K(document,"selectstart",r),ri=!0,window.getSelection().removeAllRanges(),Uo&&k(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,s,a=this.options,l=a.group,u=U.active,d=Io===l,c=a.sort,f=xt||u,h,p=this,g=!1;if(Ca)return;function m(ut,ct){qt(ut,p,Ae({evt:t,isOwner:d,axis:h?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:c,fromSortable:f,target:r,completed:b,onMove:function(pt,X){return Lo(tt,n,A,i,pt,ht(pt),t,X)},changed:T},ct))}function v(){m("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function b(ut){return m("dragOverCompleted",{insertion:ut}),ut&&(d?u._hideClone():u._showClone(p),p!==f&&(Qt(A,xt?xt.options.ghostClass:u.options.ghostClass,!1),Qt(A,a.ghostClass,!0)),xt!==p&&p!==U.active?xt=p:p===U.active&&xt&&(xt=null),f===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){m("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===A&&!A.animated||r===n&&!r.animated)&&(xr=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(A.parentNode[Wt]._isOutsideThisEl(t.target),!ut&&Ln(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function T(){Zt=he(A),dn=he(A,a.draggable),kt({sortable:p,name:"change",toEl:n,newIndex:Zt,newDraggableIndex:dn,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Ee(r,a.draggable,n,!0),m("dragOver"),U.eventCanceled)return g;if(A.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return b(!1);if(qo=!1,u&&!a.disabled&&(d?c||(s=at!==tt):xt===this||(this.lastPutMode=Io.checkPull(this,u,A,t))&&l.checkPut(this,u,A,t))){if(h=this._getDirection(t,r)==="vertical",i=ht(A),m("dragOverValid"),U.eventCanceled)return g;if(s)return at=tt,v(),this._hideClone(),m("revert"),U.eventCanceled||(kn?tt.insertBefore(A,kn):tt.appendChild(A)),b(!0);var y=Na(n,a.draggable);if(!y||jy(t,h,this)&&!y.animated){if(y===A)return b(!1);if(y&&n===t.target&&(r=y),r&&(o=ht(r)),Lo(tt,n,A,i,r,o,t,!!r)!==!1)return v(),y&&y.nextSibling?n.insertBefore(A,y.nextSibling):n.appendChild(A),at=n,T(),b(!0)}else if(y&&Hy(t,h,this)){var S=Pr(n,0,a,!0);if(S===A)return b(!1);if(r=S,o=ht(r),Lo(tt,n,A,i,r,o,t,!1)!==!1)return v(),n.insertBefore(A,S),at=n,T(),b(!0)}else if(r.parentNode===n){o=ht(r);var _=0,w,C=A.parentNode!==n,O=!Ly(A.animated&&A.toRect||i,r.animated&&r.toRect||o,h),N=h?"top":"left",I=Lc(r,"top","top")||Lc(A,"top","top"),$=I?I.scrollTop:void 0;xr!==r&&(w=o[N],si=!1,Mo=!O&&a.invertSwap||C),_=By(t,r,o,h,O?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Mo,xr===r);var H;if(_!==0){var z=he(A);do z-=_,H=at.children[z];while(H&&(k(H,"display")==="none"||H===j))}if(_===0||H===r)return b(!1);xr=r,oi=_;var lt=r.nextElementSibling,q=!1;q=_===1;var B=Lo(tt,n,A,i,r,o,t,q);if(B!==!1)return(B===1||B===-1)&&(q=B===1),Ca=!0,setTimeout($y,30),v(),q&&!lt?n.appendChild(A):r.parentNode.insertBefore(A,q?lt:r),I&&Kc(I,0,$-I.scrollTop),at=A.parentNode,w!==void 0&&!Mo&&(Ho=Math.abs(w-ht(r)[N])),T(),b(!0)}if(n.contains(A))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){W(document,"mousemove",this._onTouchMove),W(document,"touchmove",this._onTouchMove),W(document,"pointermove",this._onTouchMove),W(document,"dragover",Ln),W(document,"mousemove",Ln),W(document,"touchmove",Ln)},_offUpEvents:function(){var t=this.el.ownerDocument;W(t,"mouseup",this._onDrop),W(t,"touchend",this._onDrop),W(t,"pointerup",this._onDrop),W(t,"pointercancel",this._onDrop),W(t,"touchcancel",this._onDrop),W(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(Zt=he(A),dn=he(A,r.draggable),qt("drop",this,{evt:t}),at=A&&A.parentNode,Zt=he(A),dn=he(A,r.draggable),U.eventCanceled){this._nulling();return}Or=!1,Mo=!1,si=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Da(this.cloneId),Da(this._dragStartId),this.nativeDraggable&&(W(document,"drop",this),W(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Uo&&k(document.body,"user-select",""),k(A,"transform",""),t&&(ri&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),j&&j.parentNode&&j.parentNode.removeChild(j),(tt===at||xt&&xt.lastPutMode!=="clone")&&it&&it.parentNode&&it.parentNode.removeChild(it),A&&(this.nativeDraggable&&W(A,"dragend",this),Oa(A),A.style["will-change"]="",ri&&!Or&&Qt(A,xt?xt.options.ghostClass:this.options.ghostClass,!1),Qt(A,this.options.chosenClass,!1),kt({sortable:this,name:"unchoose",toEl:at,newIndex:null,newDraggableIndex:null,originalEvent:t}),tt!==at?(Zt>=0&&(kt({rootEl:at,name:"add",toEl:at,fromEl:tt,originalEvent:t}),kt({sortable:this,name:"remove",toEl:at,originalEvent:t}),kt({rootEl:at,name:"sort",toEl:at,fromEl:tt,originalEvent:t}),kt({sortable:this,name:"sort",toEl:at,originalEvent:t})),xt&&xt.save()):Zt!==Cr&&Zt>=0&&(kt({sortable:this,name:"update",toEl:at,originalEvent:t}),kt({sortable:this,name:"sort",toEl:at,originalEvent:t})),U.active&&((Zt==null||Zt===-1)&&(Zt=Cr,dn=ii),kt({sortable:this,name:"end",toEl:at,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){qt("nulling",this),tt=A=at=j=kn=it=$o=fn=Rn=_e=ri=Zt=dn=Cr=ii=xr=oi=xt=Io=U.dragged=U.ghost=U.clone=U.active=null,zo.forEach(function(t){t.checked=!0}),zo.length=Sa=Aa=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":A&&(this._onDragOver(t),Uy(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,s=this.options;i<o;i++)n=r[i],Ee(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||qy(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,s){var a=i.children[s];Ee(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Ee(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=ai.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&Qc(r)},destroy:function(){qt("destroy",this);var t=this.el;t[Wt]=null,W(t,"mousedown",this._onTapStart),W(t,"touchstart",this._onTapStart),W(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(W(t,"dragover",this),W(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Wo.splice(Wo.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!fn){if(qt("hideClone",this),U.eventCanceled)return;k(it,"display","none"),this.options.removeCloneOnHide&&it.parentNode&&it.parentNode.removeChild(it),fn=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(fn){if(qt("showClone",this),U.eventCanceled)return;A.parentNode==tt&&!this.options.group.revertClone?tt.insertBefore(it,A):kn?tt.insertBefore(it,kn):tt.appendChild(it),this.options.group.revertClone&&this.animate(A,it),k(it,"display",""),fn=!1}}};function Uy(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Lo(e,t,n,r,i,o,s,a){var l,u=e[Wt],d=u.options.onMove,c;return window.CustomEvent&&!pn&&!Ko?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||ht(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),d&&(c=d.call(u,l,s)),c}function Oa(e){e.draggable=!1}function $y(){Ca=!1}function Hy(e,t,n){var r=ht(Pr(n.el,0,n.options,!0)),i=Yc(n.el,n.options,j),o=10;return t?e.clientX<i.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<i.top-o||e.clientY<r.bottom&&e.clientX<r.left}function jy(e,t,n){var r=ht(Na(n.el,n.options.draggable)),i=Yc(n.el,n.options,j),o=10;return t?e.clientX>i.right+o||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>i.bottom+o||e.clientX>r.right&&e.clientY>r.top}function By(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,d=r?n.top:n.left,c=r?n.bottom:n.right,f=!1;if(!s){if(a&&Ho<u*i){if(!si&&(oi===1?l>d+u*o/2:l<c-u*o/2)&&(si=!0),si)f=!0;else if(oi===1?l<d+Ho:l>c-Ho)return-oi}else if(l>d+u*(1-i)/2&&l<c-u*(1-i)/2)return Vy(t)}return f=f||s,f&&(l<d+u*o/2||l>c-u*o/2)?l>d+u/2?1:-1:0}function Vy(e){return he(A)<he(e)?1:-1}function qy(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Wy(e){zo.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&zo.push(r)}}function jo(e){return setTimeout(e,0)}function Da(e){return clearTimeout(e)}Xo&&K(document,"touchmove",function(e){(U.active||Or)&&e.cancelable&&e.preventDefault()});U.utils={on:K,off:W,css:k,find:Wc,is:function(t,n){return!!Ee(t,n,t,!1)},extend:Cy,throttle:zc,closest:Ee,toggleClass:Qt,clone:Xc,index:he,nextTick:jo,cancelNextTick:Da,detectDirection:Jc,getChild:Pr,expando:Wt};U.get=function(e){return e[Wt]};U.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(U.utils=Ae(Ae({},U.utils),r.utils)),ai.mount(r)})};U.create=function(e,t){return new U(e,t)};U.version=xy;var vt=[],ko,Hc,zy=!1;var jc;function Ky(){vt.forEach(function(e){clearInterval(e.pid)}),vt=[]}var zA=zc(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=Re(),u=!1,d;Hc!==n&&(Hc=n,Ky(),ko=t.scroll,d=t.scrollFn,ko===!0&&(ko=Vo(n,!0)));var c=0,f=ko;do{var h=f,p=ht(h),g=p.top,m=p.bottom,v=p.left,b=p.right,T=p.width,y=p.height,S=void 0,_=void 0,w=h.scrollWidth,C=h.scrollHeight,O=k(h),N=h.scrollLeft,I=h.scrollTop;h===l?(S=T<w&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),_=y<C&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(S=T<w&&(O.overflowX==="auto"||O.overflowX==="scroll"),_=y<C&&(O.overflowY==="auto"||O.overflowY==="scroll"));var $=S&&(Math.abs(b-i)<=s&&N+T<w)-(Math.abs(v-i)<=s&&!!N),H=_&&(Math.abs(m-o)<=s&&I+y<C)-(Math.abs(g-o)<=s&&!!I);if(!vt[c])for(var z=0;z<=c;z++)vt[z]||(vt[z]={});(vt[c].vx!=$||vt[c].vy!=H||vt[c].el!==h)&&(vt[c].el=h,vt[c].vx=$,vt[c].vy=H,clearInterval(vt[c].pid),($!=0||H!=0)&&(u=!0,vt[c].pid=setInterval(function(){r&&this.layer===0&&U.active._onTouchMove(jc);var lt=vt[this.layer].vy?vt[this.layer].vy*a:0,q=vt[this.layer].vx?vt[this.layer].vx*a:0;typeof d=="function"&&d.call(U.dragged.parentNode[Wt],q,lt,e,jc,vt[this.layer].el)!=="continue"||Kc(vt[this.layer].el,q,lt)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&f!==l&&(f=Vo(f,!1)));zy=u}},30),ed=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var u=r||o;a();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(d.clientX,d.clientY);l(),u&&!u.el.contains(c)&&(s("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function nd(){}nd.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Pr(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:ed};hn(nd,{pluginName:"revertOnSpill"});function rd(){}rd.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:ed};hn(rd,{pluginName:"removeOnSpill"});var id=U;function od(e){e.querySelectorAll("[data-tags]").forEach(t=>{let n=t.dataset.tagsInputName,r=new ni(t,{delimiters:",",duplicates:!1,pasteAsTags:!0});r.on("change",function(i){r.DOM.scope.parentElement.querySelectorAll(`input[name="${n}"]`).forEach(o=>{o.remove()}),i.detail.tagify.value.forEach(o=>{let s=document.createElement("input");s.type="hidden",s.name=n,s.value=o.value,r.DOM.scope.parentElement.appendChild(s)})}),id.create(r.DOM.scope,{draggable:"."+r.settings.classNames.tag,onEnd:function(){r.updateValueByDOMTags()}})})}function Yo(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Xy=0;function ad(e){return"__private_"+Xy+++"_"+e}function Yy(e,t,n){let r=[];return e.forEach(i=>typeof i!="string"?r.push(i):t[Symbol.split](i).forEach((o,s,a)=>{o!==""&&r.push(o),s<a.length-1&&r.push(n)})),r}function sd(e,t){let n=/\$/g,r="$$$$",i=[e];if(t==null)return i;for(let o of Object.keys(t))if(o!=="_"){let s=t[o];typeof s=="string"&&(s=n[Symbol.replace](s,r)),i=Yy(i,new RegExp(`%\\{${o}\\}`,"g"),s)}return i}var Gy=e=>{throw new Error(`missing string: ${e}`)},li=ad("onMissingKey"),ui=ad("apply"),Fn=class{constructor(t,n){let{onMissingKey:r=Gy}=n===void 0?{}:n;Object.defineProperty(this,ui,{value:Jy}),Object.defineProperty(this,li,{writable:!0,value:void 0}),this.locale={strings:{},pluralize(i){return i===1?0:1}},Array.isArray(t)?t.forEach(Yo(this,ui)[ui],this):Yo(this,ui)[ui](t),Yo(this,li)[li]=r}translate(t,n){return this.translateArray(t,n).join("")}translateArray(t,n){let r=this.locale.strings[t];if(r==null&&(Yo(this,li)[li](t),r=t),typeof r=="object"){if(n&&typeof n.smart_count<"u"){let o=this.locale.pluralize(n.smart_count);return sd(r[o],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return sd(r,n)}};function Jy(e){if(!(e!=null&&e.strings))return;let t=this.locale;Object.assign(this.locale,{strings:{...t.strings,...e.strings},pluralize:e.pluralize||t.pluralize})}var lf=Qe(ud(),1);var Qy="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var cd=(e=21)=>{let t="",n=e|0;for(;n--;)t+=Qy[Math.random()*64|0];return t};var uf=Qe(qd(),1);function Jo(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Wb=0;function Wd(e){return"__private_"+Wb+++"_"+e}var zb={version:"4.2.0"},Un=Wd("callbacks"),La=Wd("publish"),Qo=class{constructor(){Object.defineProperty(this,La,{value:Kb}),this.state={},Object.defineProperty(this,Un,{writable:!0,value:new Set})}getState(){return this.state}setState(t){let n={...this.state},r={...this.state,...t};this.state=r,Jo(this,La)[La](n,r,t)}subscribe(t){return Jo(this,Un)[Un].add(t),()=>{Jo(this,Un)[Un].delete(t)}}};function Kb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Jo(this,Un)[Un].forEach(r=>{r(...t)})}Qo.VERSION=zb.version;var zd=Qo;function di(e){let t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}var ka={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function fi(e){var t;if(e.type)return e.type;let n=e.name?(t=di(e.name).extension)==null?void 0:t.toLowerCase():null;return n&&n in ka?ka[n]:"application/octet-stream"}function Xb(e){return e.charCodeAt(0).toString(32)}function Kd(e){let t="";return e.replace(/[^A-Z0-9]/gi,n=>(t+=`-${Xb(n)}`,"/"))+t}function Xd(e,t){let n=t||"uppy";return typeof e.name=="string"&&(n+=`-${Kd(e.name.toLowerCase())}`),e.type!==void 0&&(n+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(n+=`-${Kd(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(n+=`-${e.data.size}`),e.data.lastModified!==void 0&&(n+=`-${e.data.lastModified}`),n}function Yb(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function Yd(e,t){if(Yb(e))return e.id;let n=fi(e);return Xd({...e,type:n},t)}function Fa(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;let t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;let r=t[1].split(".",2),i=parseInt(r[0],10),o=parseInt(r[1],10);return i<15||i===15&&o<15063||i>18||i===18&&o>=18218}function Ua(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}function $a(e){return e<10?`0${e}`:e.toString()}function Nr(){let e=new Date,t=$a(e.getHours()),n=$a(e.getMinutes()),r=$a(e.getSeconds());return`${t}:${n}:${r}`}var Gd={debug:()=>{},warn:()=>{},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error(`[Uppy] [${Nr()}]`,...t)}},Jd={debug:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.debug(`[Uppy] [${Nr()}]`,...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.warn(`[Uppy] [${Nr()}]`,...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error(`[Uppy] [${Nr()}]`,...t)}};var hi=Qe(Ha(),1),of=Qe(rf(),1),sf={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},zt=class extends Error{constructor(t,n){var r;super(t),this.isRestriction=!0,this.isUserFacing=(r=n?.isUserFacing)!=null?r:!0,n!=null&&n.file&&(this.file=n.file)}},Zo=class{constructor(t,n){this.getI18n=n,this.getOpts=()=>{var r;let i=t();if(((r=i.restrictions)==null?void 0:r.allowedFileTypes)!=null&&!Array.isArray(i.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return i}}validateAggregateRestrictions(t,n){let{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&t.filter(s=>!s.isGhost).length+n.length>i)throw new zt(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){let o=[...t,...n].reduce((s,a)=>{var l;return s+((l=a.size)!=null?l:0)},0);if(o>r)throw new zt(this.getI18n()("aggregateExceedsSize",{sizeAllowed:(0,hi.default)(r),size:(0,hi.default)(o)}))}}validateSingleFile(t){let{maxFileSize:n,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(a=>a.includes("/")?t.type?(0,of.default)(t.type.replace(/;.*?$/,""),a):!1:a[0]==="."&&t.extension?t.extension.toLowerCase()===a.slice(1).toLowerCase():!1)){let a=i.join(", ");throw new zt(this.getI18n()("youCanOnlyUploadFileTypes",{types:a}),{file:t})}if(n&&t.size!=null&&t.size>n){var o;throw new zt(this.getI18n()("exceedsSize",{size:(0,hi.default)(n),file:(o=t.name)!=null?o:this.getI18n()("unnamed")}),{file:t})}if(r&&t.size!=null&&t.size<r)throw new zt(this.getI18n()("inferiorSize",{size:(0,hi.default)(r)}),{file:t})}validate(t,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(t,n)}validateMinNumberOfFiles(t){let{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(t).length<n)throw new zt(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(t){var n;let r=new zt(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:(n=t.name)!=null?n:this.getI18n()("unnamed")})),{requiredMetaFields:i}=this.getOpts().restrictions,o=[];for(let s of i)(!Object.hasOwn(t.meta,s)||t.meta[s]==="")&&o.push(s);return{missingFields:o,error:r}}};var af={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function x(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Qb=0;function Y(e){return"__private_"+Qb+++"_"+e}var Zb={version:"4.4.4"},ts={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},Ot=Y("plugins"),Ct=Y("restricter"),pi=Y("storeUnsubscribe"),Le=Y("emitter"),$n=Y("preProcessors"),Hn=Y("uploaders"),Ue=Y("postProcessors"),te=Y("informAndEmit"),wi=Y("checkRequiredMetaFieldsOnFile"),ja=Y("checkRequiredMetaFields"),gi=Y("assertNewUploadAllowed"),qa=Y("transformFile"),mi=Y("startIfAutoProceed"),vi=Y("checkAndUpdateFileState"),Ei=Y("getFilesToRetry"),yi=Y("doRetryAll"),Wa=Y("handleUploadProgress"),bi=Y("updateTotalProgress"),$e=Y("updateTotalProgressThrottled"),za=Y("calculateTotalProgress"),Ba=Y("addListeners"),we=Y("updateOnlineStatus"),_i=Y("requestClientById"),ke=Y("createUpload"),Va=Y("getUpload"),jn=Y("removeUpload"),Fe=Y("runUpload"),es=class e{constructor(t){Object.defineProperty(this,Fe,{value:g_}),Object.defineProperty(this,jn,{value:p_}),Object.defineProperty(this,Va,{value:h_}),Object.defineProperty(this,ke,{value:f_}),Object.defineProperty(this,Ba,{value:d_}),Object.defineProperty(this,za,{value:c_}),Object.defineProperty(this,bi,{value:u_}),Object.defineProperty(this,yi,{value:l_}),Object.defineProperty(this,Ei,{value:a_}),Object.defineProperty(this,vi,{value:s_}),Object.defineProperty(this,mi,{value:o_}),Object.defineProperty(this,qa,{value:i_}),Object.defineProperty(this,gi,{value:r_}),Object.defineProperty(this,ja,{value:n_}),Object.defineProperty(this,wi,{value:e_}),Object.defineProperty(this,te,{value:t_}),Object.defineProperty(this,Ot,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Ct,{writable:!0,value:void 0}),Object.defineProperty(this,pi,{writable:!0,value:void 0}),Object.defineProperty(this,Le,{writable:!0,value:(0,lf.default)()}),Object.defineProperty(this,$n,{writable:!0,value:new Set}),Object.defineProperty(this,Hn,{writable:!0,value:new Set}),Object.defineProperty(this,Ue,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,Object.defineProperty(this,Wa,{writable:!0,value:(i,o)=>{let s=i?this.getFile(i.id):void 0;if(i==null||!s){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}if(s.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${i.id}`);return}let a={bytesTotal:o.bytesTotal,percentage:o.bytesTotal!=null&&Number.isFinite(o.bytesTotal)&&o.bytesTotal>0?Math.round(o.bytesUploaded/o.bytesTotal*100):void 0};s.progress.uploadStarted!=null?this.setFileState(i.id,{progress:{...s.progress,...a,bytesUploaded:o.bytesUploaded}}):this.setFileState(i.id,{progress:{...s.progress,...a}}),x(this,$e)[$e]()}}),Object.defineProperty(this,$e,{writable:!0,value:(0,uf.default)(()=>x(this,bi)[bi](),500,{leading:!0,trailing:!0})}),Object.defineProperty(this,we,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,_i,{writable:!0,value:new Map}),this.defaultLocale=af;let n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:sf,meta:{},onBeforeFileAdded:(i,o)=>!Object.hasOwn(o,i.id),onBeforeUpload:i=>i,store:new zd,logger:Gd,infoTimeout:5e3},r={...n,...t};this.opts={...r,restrictions:{...n.restrictions,...t&&t.restrictions}},t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=Jd),this.log(`Using Core v${e.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...ts,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Fa(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),x(this,Ct)[Ct]=new Zo(()=>this.opts,()=>this.i18n),x(this,pi)[pi]=this.store.subscribe((i,o,s)=>{this.emit("state-update",i,o,s),this.updateAll(o)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),x(this,Ba)[Ba]()}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];x(this,Le)[Le].emit(t,...r)}on(t,n){return x(this,Le)[Le].on(t,n),this}once(t,n){return x(this,Le)[Le].once(t,n),this}off(t,n){return x(this,Le)[Le].off(t,n),this}updateAll(t){this.iteratePlugins(n=>{n.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){let n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(t).map(r=>{let[i,o]=r;return[i,{...n[i],...o}]}))}})}setFileState(t,n){if(!this.getState().files[t])throw new Error(`Can\u2019t set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:n})}i18nInit(){let t=r=>this.log(`Missing i18n string: ${r}`,"error"),n=new Fn([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t?.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(n=>{n.setOptions(t)}),this.setState(void 0)}resetProgress(){let t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r=Object.create(null);Object.keys(n).forEach(i=>{r[i]={...n[i],progress:{...n[i].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:r,...ts})}clear(){let{capabilities:t,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...ts,files:{}})}addPreProcessor(t){x(this,$n)[$n].add(t)}removePreProcessor(t){return x(this,$n)[$n].delete(t)}addPostProcessor(t){x(this,Ue)[Ue].add(t)}removePostProcessor(t){return x(this,Ue)[Ue].delete(t)}addUploader(t){x(this,Hn)[Hn].add(t)}removeUploader(t){return x(this,Hn)[Hn].delete(t)}setMeta(t){let n={...this.getState().meta,...t},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:n,files:r})}setFileMeta(t,n){let r={...this.getState().files};if(!r[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}let i={...r[t].meta,...n};r[t]={...r[t],meta:i},this.setState({files:r})}getFile(t){return this.getState().files[t]}getFiles(){let{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(n=>this.getFile(n))}getObjectOfFilesPerState(){let{files:t,totalProgress:n,error:r}=this.getState(),i=Object.values(t),o=[],s=[],a=[],l=[],u=[],d=[],c=[],f=[],h=[];for(let p of i){let{progress:g}=p;!g.uploadComplete&&g.uploadStarted&&(o.push(p),p.isPaused||f.push(p)),g.uploadStarted||s.push(p),(g.uploadStarted||g.preprocess||g.postprocess)&&a.push(p),g.uploadStarted&&l.push(p),p.isPaused&&u.push(p),g.uploadComplete&&d.push(p),p.error&&c.push(p),(g.preprocess||g.postprocess)&&h.push(p)}return{newFiles:s,startedFiles:a,uploadStartedFiles:l,pausedFiles:u,completeFiles:d,erroredFiles:c,inProgressFiles:o,inProgressNotPausedFiles:f,processingFiles:h,isUploadStarted:l.length>0,isAllComplete:n===100&&d.length===i.length&&h.length===0,isAllErrored:!!r&&c.length===i.length,isAllPaused:o.length!==0&&u.length===o.length,isUploadInProgress:o.length>0,isSomeGhost:i.some(p=>p.isGhost)}}validateRestrictions(t,n){n===void 0&&(n=this.getFiles());try{x(this,Ct)[Ct].validate(n,[t])}catch(r){return r}return null}validateSingleFile(t){try{x(this,Ct)[Ct].validateSingleFile(t)}catch(n){return n.message}return null}validateAggregateRestrictions(t){let n=this.getFiles();try{x(this,Ct)[Ct].validateAggregateRestrictions(n,t)}catch(r){return r.message}return null}checkIfFileAlreadyExists(t){let{files:n}=this.getState();return!!(n[t]&&!n[t].isGhost)}addFile(t){x(this,gi)[gi](t);let{nextFilesState:n,validFilesToAdd:r,errors:i}=x(this,vi)[vi]([t]),o=i.filter(a=>a.isRestriction);if(x(this,te)[te](o),i.length>0)throw i[0];this.setState({files:n});let[s]=r;return this.emit("file-added",s),this.emit("files-added",r),this.log(`Added file: ${s.name}, ${s.id}, mime type: ${s.type}`),x(this,mi)[mi](),s.id}addFiles(t){x(this,gi)[gi]();let{nextFilesState:n,validFilesToAdd:r,errors:i}=x(this,vi)[vi](t),o=i.filter(a=>a.isRestriction);x(this,te)[te](o);let s=i.filter(a=>!a.isRestriction);if(s.length>0){let a=`Multiple errors occurred while adding files:
`;if(s.forEach(l=>{a+=`
 * ${l.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:a},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(s,a);{let l=new Error(a);throw l.errors=s,l}}this.setState({files:n}),r.forEach(a=>{this.emit("file-added",a)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(a=>{this.log(`Added file: ${a.name}
 id: ${a.id}
 type: ${a.type}`)}),r.length>0&&x(this,mi)[mi]()}removeFiles(t){let{files:n,currentUploads:r}=this.getState(),i={...n},o={...r},s=Object.create(null);t.forEach(d=>{n[d]&&(s[d]=n[d],delete i[d])});function a(d){return s[d]===void 0}Object.keys(o).forEach(d=>{let c=r[d].fileIDs.filter(a);if(c.length===0){delete o[d];return}let{capabilities:f}=this.getState();if(c.length!==r[d].fileIDs.length&&!f.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");o[d]={...r[d],fileIDs:c}});let l={currentUploads:o,files:i};Object.keys(i).length===0&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),x(this,$e)[$e]();let u=Object.keys(s);u.forEach(d=>{this.emit("file-removed",s[d])}),u.length>5?this.log(`Removed ${u.length} files`):this.log(`Removed files: ${u.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;let n=this.getFile(t),i=!(n.isPaused||!1);return this.setFileState(t,{isPaused:i}),this.emit("upload-pause",n,i),i}pauseAll(){let t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{let i={...t[r],isPaused:!0};t[r]=i}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){let t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{let i={...t[r],isPaused:!1,error:null};t[r]=i}),this.setState({files:t}),this.emit("resume-all")}async retryAll(){let t=await x(this,yi)[yi]();return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");let{files:t}=this.getState(),n=Object.keys(t);n.length&&this.removeFiles(n),this.setState(ts)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));let n=x(this,ke)[ke]([t],{forceAllowNewUpload:!0});return x(this,Fe)[Fe](n)}logout(){this.iteratePlugins(t=>{var n;(n=t.provider)==null||n.logout==null||n.logout()})}[Symbol.for("uppy test: updateTotalProgress")](){return x(this,bi)[bi]()}updateOnlineStatus(){var t;((t=window.navigator.onLine)!=null?t:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t){if(typeof t!="function"){let l=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(l)}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];let o=new t(this,...r),s=o.id;if(!s)throw new Error("Your plugin must have an id");if(!o.type)throw new Error("Your plugin must have a type");let a=this.getPlugin(s);if(a){let l=`Already found a plugin named '${a.id}'. Tried to use: '${s}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(l)}return t.VERSION&&this.log(`Using ${s} v${t.VERSION}`),o.type in x(this,Ot)[Ot]?x(this,Ot)[Ot][o.type].push(o):x(this,Ot)[Ot][o.type]=[o],o.install(),this.emit("plugin-added",o),this}getPlugin(t){for(let n of Object.values(x(this,Ot)[Ot])){let r=n.find(i=>i.id===t);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](t){return x(this,Ot)[Ot][t]}iteratePlugins(t){Object.values(x(this,Ot)[Ot]).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();let n=x(this,Ot)[Ot][t.type],r=n.findIndex(s=>s.id===t.id);r!==-1&&n.splice(r,1);let o={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(o)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),x(this,pi)[pi](),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",x(this,we)[we]),window.removeEventListener("offline",x(this,we)[we]))}hideInfo(){let{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,n,r){n===void 0&&(n="info"),r===void 0&&(r=3e3);let i=typeof t=="object";this.setState({info:[...this.getState().info,{type:n,message:i?t.message:t,details:i?t.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(t,n){let{logger:r}=this.opts;switch(n){case"error":r.error(t);break;case"warning":r.warn(t);break;default:r.debug(t);break}}registerRequestClient(t,n){x(this,_i)[_i].set(t,n)}getRequestClientForFile(t){if(!t.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);let n=x(this,_i)[_i].get(t.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return n}restore(t){return this.log(`Core: attempting to restore upload "${t}"`),this.getState().currentUploads[t]?x(this,Fe)[Fe](t):(x(this,jn)[jn](t),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](){return x(this,ke)[ke](...arguments)}addResultData(t,n){if(!x(this,Va)[Va](t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}let{currentUploads:r}=this.getState(),i={...r[t],result:{...r[t].result,...n}};this.setState({currentUploads:{...r,[t]:i}})}async upload(){var t;(t=x(this,Ot)[Ot].uploader)!=null&&t.length||this.log("No uploader type plugins are used","warning");let{files:n}=this.getState();if(x(this,Ei)[Ei]().length>0){let o=await x(this,yi)[yi]();if(!(this.getFiles().filter(a=>a.progress.uploadStarted==null).length>0))return this.emit("complete",o),o;({files:n}=this.getState())}let i=this.opts.onBeforeUpload(n);return i===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(i&&typeof i=="object"&&(n=i,this.setState({files:n})),Promise.resolve().then(()=>x(this,Ct)[Ct].validateMinNumberOfFiles(n)).catch(o=>{throw x(this,te)[te]([o]),o}).then(()=>{if(!x(this,ja)[ja](n))throw new zt(this.i18n("missingRequiredMetaField"))}).catch(o=>{throw o}).then(async()=>{let{currentUploads:o}=this.getState(),s=Object.values(o).flatMap(d=>d.fileIDs),a=[];Object.keys(n).forEach(d=>{let c=this.getFile(d);!c.progress.uploadStarted&&s.indexOf(d)===-1&&a.push(c.id)});let l=x(this,ke)[ke](a),u=await x(this,Fe)[Fe](l);return this.emit("complete",u),u}).catch(o=>{throw this.emit("error",o),this.log(o,"error"),o}))}};function t_(e){for(let o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");let t=e.filter(o=>o.isUserFacing),n=4,r=t.slice(0,n),i=t.slice(n);r.forEach(o=>{let{message:s,details:a=""}=o;this.info({message:s,details:a},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})}function e_(e){let{missingFields:t,error:n}=x(this,Ct)[Ct].getMissingRequiredMetaFields(e);return t.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:t}),this.log(n.message),this.emit("restriction-failed",e,n),!1):!0}function n_(e){let t=!0;for(let n of Object.values(e))x(this,wi)[wi](n)||(t=!1);return t}function r_(e){let{allowNewUpload:t}=this.getState();if(t===!1){let n=new zt(this.i18n("noMoreFilesAllowed"),{file:e});throw x(this,te)[te]([n]),n}}function i_(e){let t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=fi(t),r=Ua(n,t),i=di(r).extension,o=Yd(t,this.getID()),s=t.meta||{};s.name=r,s.type=n;let a=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:o,name:r,extension:i||"",meta:{...this.getState().meta,...s},type:n,data:t.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:a,uploadComplete:!1,uploadStarted:null},size:a,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote,preview:t.preview}}function o_(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))}function s_(e){let{files:t}=this.getState(),n={...t},r=[],i=[];for(let a of e)try{var o;let l=x(this,qa)[qa](a),u=(o=t[l.id])==null?void 0:o.isGhost;u&&(l={...t[l.id],isGhost:!1,data:a.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`));let d=this.opts.onBeforeFileAdded(l,n);if(!d&&this.checkIfFileAlreadyExists(l.id)){var s;throw new zt(this.i18n("noDuplicates",{fileName:(s=l.name)!=null?s:this.i18n("unnamed")}),{file:a})}if(d===!1&&!u)throw new zt("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:a});typeof d=="object"&&d!==null&&(l=d),x(this,Ct)[Ct].validateSingleFile(l),n[l.id]=l,r.push(l)}catch(l){i.push(l)}try{x(this,Ct)[Ct].validateAggregateRestrictions(Object.values(t),r)}catch(a){return i.push(a),{nextFilesState:t,validFilesToAdd:[],errors:i}}return{nextFilesState:n,validFilesToAdd:r,errors:i}}function a_(){let{files:e}=this.getState();return Object.keys(e).filter(t=>e[t].error)}async function l_(){let e=x(this,Ei)[Ei](),t={...this.getState().files};if(e.forEach(r=>{t[r]={...t[r],isPaused:!1,error:null}}),this.setState({files:t,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};let n=x(this,ke)[ke](e,{forceAllowNewUpload:!0});return x(this,Fe)[Fe](n)}function u_(){var e,t;let n=x(this,za)[za](),r=null;n!=null&&(r=Math.round(n*100),r>100?r=100:r<0&&(r=0)),this.emit("progress",(e=r)!=null?e:0),this.setState({totalProgress:(t=r)!=null?t:0})}function c_(){let t=this.getFiles().filter(a=>a.progress.uploadStarted||a.progress.preprocess||a.progress.postprocess);if(t.length===0)return 0;if(t.every(a=>a.progress.uploadComplete))return 1;let n=a=>a.progress.bytesTotal!=null&&a.progress.bytesTotal!==0,r=t.filter(n),i=t.filter(a=>!n(a));if(r.every(a=>a.progress.uploadComplete)&&i.length>0&&!i.every(a=>a.progress.uploadComplete))return null;let o=r.reduce((a,l)=>{var u;return a+((u=l.progress.bytesTotal)!=null?u:0)},0),s=r.reduce((a,l)=>a+(l.progress.bytesUploaded||0),0);return o===0?0:s/o}function d_(){let e=(r,i,o)=>{let s=r.message||"Unknown error";r.details&&(s+=` ${r.details}`),this.setState({error:s}),i!=null&&i.id in this.getState().files&&this.setFileState(i.id,{error:s,response:o})};this.on("error",e),this.on("upload-error",(r,i,o)=>{if(e(i,r,o),typeof i=="object"&&i.message){var s;this.log(i.message,"error");let a=new Error(this.i18n("failedToUpload",{file:(s=r?.name)!=null?s:""}));a.isUserFacing=!0,a.details=i.message,i.details&&(a.details+=` ${i.details}`),x(this,te)[te]([a])}else x(this,te)[te]([i])});let t=null;this.on("upload-stalled",(r,i)=>{let{message:o}=r,s=i.map(a=>a.meta.name).join(", ");t||(this.info({message:o,details:s},"warning",this.opts.infoTimeout),t=setTimeout(()=>{t=null},this.opts.infoTimeout)),this.log(`${o} ${s}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});let n=r=>{let i=r.filter(s=>{let a=s!=null&&this.getFile(s.id);return a||this.log(`Not setting progress for a file that has been removed: ${s?.id}`),a}),o=Object.fromEntries(i.map(s=>[s.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:s.size}}]));this.patchFilesState(o)};this.on("upload-start",n),this.on("upload-progress",x(this,Wa)[Wa]),this.on("upload-success",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r?.id}`);return}let o=this.getFile(r.id).progress;this.setFileState(r.id,{progress:{...o,postprocess:x(this,Ue)[Ue].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:i,uploadURL:i.uploadURL,isPaused:!1}),r.size==null&&this.setFileState(r.id,{size:i.bytesUploaded||o.bytesTotal}),x(this,$e)[$e]()}),this.on("preprocess-progress",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r?.id}`);return}this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,preprocess:i}})}),this.on("preprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r?.id}`);return}let i={...this.getState().files};i[r.id]={...i[r.id],progress:{...i[r.id].progress}},delete i[r.id].progress.preprocess,this.setState({files:i})}),this.on("postprocess-progress",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r?.id}`);return}this.setFileState(r.id,{progress:{...this.getState().files[r.id].progress,postprocess:i}})}),this.on("postprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r?.id}`);return}let i={...this.getState().files};i[r.id]={...i[r.id],progress:{...i[r.id].progress}},delete i[r.id].progress.postprocess,this.setState({files:i})}),this.on("restored",()=>{x(this,$e)[$e]()}),this.on("dashboard:file-edit-complete",r=>{r&&x(this,wi)[wi](r)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",x(this,we)[we]),window.addEventListener("offline",x(this,we)[we]),setTimeout(x(this,we)[we],3e3))}function f_(e,t){t===void 0&&(t={});let{forceAllowNewUpload:n=!1}=t,{allowNewUpload:r,currentUploads:i}=this.getState();if(!r&&!n)throw new Error("Cannot create a new upload: already uploading.");let o=cd();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[o]:{fileIDs:e,step:0,result:{}}}}),o}function h_(e){let{currentUploads:t}=this.getState();return t[e]}function p_(e){let t={...this.getState().currentUploads};delete t[e],this.setState({currentUploads:t})}async function g_(e){let t=()=>{let{currentUploads:o}=this.getState();return o[e]},n=t(),r=[...x(this,$n)[$n],...x(this,Hn)[Hn],...x(this,Ue)[Ue]];try{for(let o=n.step||0;o<r.length&&n;o++){let s=r[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...n,step:o}}});let{fileIDs:a}=n;await s(a,e),n=t()}}catch(o){throw x(this,jn)[jn](e),o}if(n){n.fileIDs.forEach(l=>{let u=this.getFile(l);u&&u.progress.postprocess&&this.emit("postprocess-complete",u)});let o=n.fileIDs.map(l=>this.getFile(l)),s=o.filter(l=>!l.error),a=o.filter(l=>l.error);this.addResultData(e,{successful:s,failed:a,uploadID:e}),n=t()}let i;return n&&(i=n.result,x(this,jn)[jn](e)),i==null&&this.log(`Not setting result for an upload that has been removed: ${e}`),i}es.VERSION=Zb.version;var ns=es;var as,et,pf,m_,Bn,cf,gf,mf,vf,Ya,Ka,Xa,v_,Ti={},yf=[],y_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ls=Array.isArray;function He(e,t){for(var n in t)e[n]=t[n];return e}function Ga(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function D(e,t,n){var r,i,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?as.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]==null&&(s[o]=e.defaultProps[o]);return is(e,s,r,i,null)}function is(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++pf,__i:-1,__u:0};return i==null&&et.vnode!=null&&et.vnode(o),o}function us(e){return e.children}function os(e,t){this.props=e,this.context=t}function Ir(e,t){if(t==null)return e.__?Ir(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ir(e):null}function bf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return bf(e)}}function df(e){(!e.__d&&(e.__d=!0)&&Bn.push(e)&&!ss.__r++||cf!=et.debounceRendering)&&((cf=et.debounceRendering)||gf)(ss)}function ss(){for(var e,t,n,r,i,o,s,a=1;Bn.length;)Bn.length>a&&Bn.sort(mf),e=Bn.shift(),a=Bn.length,e.__d&&(n=void 0,i=(r=(t=e).__v).__e,o=[],s=[],t.__P&&((n=He({},r)).__v=r.__v+1,et.vnode&&et.vnode(n),Ja(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,o,i??Ir(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,wf(o,n,s),n.__e!=i&&bf(n)));ss.__r=0}function _f(e,t,n,r,i,o,s,a,l,u,d){var c,f,h,p,g,m,v=r&&r.__k||yf,b=t.length;for(l=b_(n,t,v,l,b),c=0;c<b;c++)(h=n.__k[c])!=null&&(f=h.__i==-1?Ti:v[h.__i]||Ti,h.__i=c,m=Ja(e,h,f,i,o,s,a,l,u,d),p=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&Qa(f.ref,null,h),d.push(h.ref,h.__c||p,h)),g==null&&p!=null&&(g=p),4&h.__u||f.__k===h.__k?l=Ef(h,l,e):typeof h.type=="function"&&m!==void 0?l=m:p&&(l=p.nextSibling),h.__u&=-7);return n.__e=g,l}function b_(e,t,n,r,i){var o,s,a,l,u,d=n.length,c=d,f=0;for(e.__k=new Array(i),o=0;o<i;o++)(s=t[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=o+f,(s=e.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?is(null,s,null,null,null):ls(s)?is(us,{children:s},null,null,null):s.constructor==null&&s.__b>0?is(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,a=null,(u=s.__i=__(s,n,l,c))!=-1&&(c--,(a=n[u])&&(a.__u|=2)),a==null||a.__v==null?(u==-1&&(i>d?f--:i<d&&f++),typeof s.type!="function"&&(s.__u|=4)):u!=l&&(u==l-1?f--:u==l+1?f++:(u>l?f--:f++,s.__u|=4))):e.__k[o]=null;if(c)for(o=0;o<d;o++)(a=n[o])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=Ir(a)),Sf(a,a));return r}function Ef(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=Ef(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Ir(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function __(e,t,n,r){var i,o,s=e.key,a=e.type,l=t[n];if(l===null&&e.key==null||l&&s==l.key&&a==l.type&&(2&l.__u)==0)return n;if(r>(l!=null&&(2&l.__u)==0?1:0))for(i=n-1,o=n+1;i>=0||o<t.length;){if(i>=0){if((l=t[i])&&(2&l.__u)==0&&s==l.key&&a==l.type)return i;i--}if(o<t.length){if((l=t[o])&&(2&l.__u)==0&&s==l.key&&a==l.type)return o;o++}}return-1}function ff(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||y_.test(t)?n:n+"px"}function rs(e,t,n,r,i){var o;t:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ff(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||ff(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(vf,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Ya,e.addEventListener(t,o?Xa:Ka,o)):e.removeEventListener(t,o?Xa:Ka,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function hf(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ya++;else if(t.t<n.u)return;return n(et.event?et.event(t):t)}}}function Ja(e,t,n,r,i,o,s,a,l,u){var d,c,f,h,p,g,m,v,b,T,y,S,_,w,C,O,N,I=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=et.__b)&&d(t);t:if(typeof I=="function")try{if(v=t.props,b="prototype"in I&&I.prototype.render,T=(d=I.contextType)&&r[d.__c],y=d?T?T.props.value:d.__:r,n.__c?m=(c=t.__c=n.__c).__=c.__E:(b?t.__c=c=new I(v,y):(t.__c=c=new os(v,y),c.constructor=I,c.render=w_),T&&T.sub(c),c.props=v,c.state||(c.state={}),c.context=y,c.__n=r,f=c.__d=!0,c.__h=[],c._sb=[]),b&&c.__s==null&&(c.__s=c.state),b&&I.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=He({},c.__s)),He(c.__s,I.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,c.__v=t,f)b&&I.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),b&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(b&&I.getDerivedStateFromProps==null&&v!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,y),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,y)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(c.props=v,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function($){$&&($.__=t)}),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[],c.__h.length&&s.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,y),b&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,p,g)})}if(c.context=y,c.props=v,c.__P=e,c.__e=!1,_=et.__r,w=0,b){for(c.state=c.__s,c.__d=!1,_&&_(t),d=c.render(c.props,c.state,c.context),C=0;C<c._sb.length;C++)c.__h.push(c._sb[C]);c._sb=[]}else do c.__d=!1,_&&_(t),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++w<25);c.state=c.__s,c.getChildContext!=null&&(r=He(He({},r),c.getChildContext())),b&&!f&&c.getSnapshotBeforeUpdate!=null&&(g=c.getSnapshotBeforeUpdate(h,p)),O=d,d!=null&&d.type===us&&d.key==null&&(O=Tf(d.props.children)),a=_f(e,ls(O)?O:[O],t,n,r,i,o,s,a,l,u),c.base=t.__e,t.__u&=-161,c.__h.length&&s.push(c),m&&(c.__E=c.__=null)}catch($){if(t.__v=null,l||o!=null)if($.then){for(t.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,t.__e=a}else for(N=o.length;N--;)Ga(o[N]);else t.__e=n.__e,t.__k=n.__k;et.__e($,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=E_(n.__e,t,n,r,i,o,s,l,u);return(d=et.diffed)&&d(t),128&t.__u?void 0:a}function wf(e,t,n){for(var r=0;r<n.length;r++)Qa(n[r],n[++r],n[++r]);et.__c&&et.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){et.__e(o,i.__v)}})}function Tf(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ls(e)?e.map(Tf):He({},e)}function E_(e,t,n,r,i,o,s,a,l){var u,d,c,f,h,p,g,m=n.props,v=t.props,b=t.type;if(b=="svg"?i="http://www.w3.org/2000/svg":b=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((h=o[u])&&"setAttribute"in h==!!b&&(b?h.localName==b:h.nodeType==3)){e=h,o[u]=null;break}}if(e==null){if(b==null)return document.createTextNode(v);e=document.createElementNS(i,b,v.is&&v),a&&(et.__m&&et.__m(t,o),a=!1),o=null}if(b==null)m===v||a&&e.data==v||(e.data=v);else{if(o=o&&as.call(e.childNodes),m=n.props||Ti,!a&&o!=null)for(m={},u=0;u<e.attributes.length;u++)m[(h=e.attributes[u]).name]=h.value;for(u in m)if(h=m[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=h;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;rs(e,u,null,h,i)}}for(u in v)h=v[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?p=h:u=="checked"?g=h:a&&typeof h!="function"||m[u]===h||rs(e,u,h,m[u],i);if(d)a||c&&(d.__html==c.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(c&&(e.innerHTML=""),_f(t.type=="template"?e.content:e,ls(f)?f:[f],t,n,r,b=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,s,o?o[0]:n.__k&&Ir(n,0),a,l),o!=null)for(u=o.length;u--;)Ga(o[u]);a||(u="value",b=="progress"&&p==null?e.removeAttribute("value"):p!=null&&(p!==e[u]||b=="progress"&&!p||b=="option"&&p!=m[u])&&rs(e,u,p,m[u],i),u="checked",g!=null&&g!=e[u]&&rs(e,u,g,m[u],i))}return e}function Qa(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){et.__e(i,n)}}function Sf(e,t,n){var r,i;if(et.unmount&&et.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||Qa(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){et.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Sf(r[i],t,n||typeof e.type!="function");n||Ga(e.__e),e.__c=e.__=e.__e=void 0}function w_(e,t,n){return this.constructor(e,n)}function Za(e,t,n){var r,i,o,s;t==document&&(t=document.documentElement),et.__&&et.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],s=[],Ja(t,e=(!r&&n||t).__k=D(us,null,[e]),i||Ti,Ti,t.namespaceURI,!r&&n?[n]:i?null:t.firstChild?as.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,s),wf(o,e,s)}as=yf.slice,et={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(a){e=a}throw e}},pf=0,m_=function(e){return e!=null&&e.constructor==null},os.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=He({},this.state),typeof e=="function"&&(e=e(He({},n),this.props)),e&&He(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),df(this))},os.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),df(this))},os.prototype.render=us,Bn=[],gf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,mf=function(e,t){return e.__v.__b-t.__v.__b},ss.__r=0,vf=/(PointerCapture)$|Capture$/i,Ya=0,Ka=hf(!1),Xa=hf(!0),v_=0;function tl(e){return typeof e!="object"||e===null||!("nodeType"in e)?!1:e.nodeType===Node.ELEMENT_NODE}function T_(e,t){return t===void 0&&(t=document),typeof e=="string"?t.querySelector(e):tl(e)?e:null}var Af=T_;function S_(e){for(var t;e&&!e.dir;)e=e.parentNode;return(t=e)==null?void 0:t.dir}var cs=S_;var gn=class{constructor(t,n){this.uppy=t,this.opts=n??{}}getPluginState(){let{plugins:t}=this.uppy.getState();return t?.[this.id]||{}}setPluginState(t){let{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(void 0),this.i18nInit()}i18nInit(){let t=new Fn([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(t){}afterUpdate(){}};function xf(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var A_=0;function x_(e){return"__private_"+A_+++"_"+e}function O_(e){let t=null,n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=i,t||(t=Promise.resolve().then(()=>(t=null,e(...n)))),t}}var Si=x_("updateUI"),el=class e extends gn{constructor(){super(...arguments),Object.defineProperty(this,Si,{writable:!0,value:void 0})}getTargetPlugin(t){let n;if(typeof t?.addTarget=="function")n=t,n instanceof e||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:e}}));else if(typeof t=="function"){let r=t;this.uppy.iteratePlugins(i=>{i instanceof r&&(n=i)})}return n}mount(t,n){let r=n.id,i=Af(t);if(i){this.isTargetDOMEl=!0;let a=document.createElement("div");return a.classList.add("uppy-Root"),xf(this,Si)[Si]=O_(l=>{this.uppy.getPlugin(this.id)&&(Za(this.render(l,a),a),this.afterUpdate())}),this.uppy.log(`Installing ${r} to a DOM element '${t}'`),this.opts.replaceTargetContent&&(i.innerHTML=""),Za(this.render(this.uppy.getState(),a),a),this.el=a,i.appendChild(a),a.dir=this.opts.direction||cs(a)||"ltr",this.onMount(),this.el}let o=this.getTargetPlugin(t);if(o)return this.uppy.log(`Installing ${r} to ${o.id}`),this.parent=o,this.el=o.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${r}`);let s=`Invalid target option given to ${r}.`;throw typeof t=="function"?s+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":s+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(s)}render(t,n){throw new Error("Extend the render method to add your plugin to a DOM element")}update(t){if(this.el!=null){var n,r;(n=(r=xf(this,Si))[Si])==null||n.call(r,t)}}unmount(){if(this.isTargetDOMEl){var t;(t=this.el)==null||t.remove()}this.onUnmount()}onMount(){}onUnmount(){}},Ai=el;var ds=Array.from;function nl(){let e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}function fs(e,t,n,r){let{onSuccess:i}=r;e.readEntries(o=>{let s=[...t,...o];o.length?queueMicrotask(()=>{fs(e,s,n,{onSuccess:i})}):i(s)},o=>{n(o),i(t)})}function Of(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((n,r)=>e.file(n,r))},async*values(){let n=e.createReader();yield*await new Promise(i=>{fs(n,[],t,{onSuccess:o=>i(o.map(s=>Of(s,t)))})})},isSameEntry:void 0}}function Cf(e,t,n){try{return n===void 0&&(n=void 0),async function*(){let r=()=>`${t}/${e.name}`;if(e.kind==="file"){let i=await e.getFile();i!=null?(i.relativePath=t?r():null,yield i):n!=null&&(yield n)}else if(e.kind==="directory")for await(let i of e.values())yield*Cf(i,t?r():e.name);else n!=null&&(yield n)}()}catch(r){return Promise.reject(r)}}async function*rl(e,t){let n=await Promise.all(Array.from(e.items,async r=>{var i;let o,s=()=>typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry();return(i=o)!=null||(o=Of(s(),t)),{fileSystemHandle:o,lastResortFile:r.getAsFile()}}));for(let{lastResortFile:r,fileSystemHandle:i}of n)if(i!=null)try{yield*Cf(i,"",r)}catch(o){r!=null?yield r:t(o)}else r!=null&&(yield r)}function il(e){let t=ds(e.files);return Promise.resolve(t)}async function ol(e,t){var n;let r=(n=t?.logDropError)!=null?n:Function.prototype;try{let i=[];for await(let o of rl(e,r))i.push(o);return i}catch{return il(e)}}var Df={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};var C_={version:"4.1.2"},D_={inputName:"files[]",width:"100%",height:"100%"},Vn=class e extends Ai{constructor(t,n){super(t,{...D_,...n}),this.isDragDropSupported=nl(),this.addFiles=r=>{let i=r.map(o=>({source:this.id,name:o.name,type:o.type,data:o,meta:{relativePath:o.relativePath||null}}));try{this.uppy.addFiles(i)}catch(o){this.uppy.log(o)}},this.onInputChange=r=>{let i=ds(r.currentTarget.files||[]);i.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(i)),r.currentTarget.value=""},this.handleDragOver=r=>{var i,o;r.preventDefault(),r.stopPropagation();let{types:s}=r.dataTransfer,a=s.some(u=>u==="Files"),{allowNewUpload:l}=this.uppy.getState();if(!a||!l){r.dataTransfer.dropEffect="none";return}r.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),(i=(o=this.opts).onDragOver)==null||i.call(o,r)},this.handleDragLeave=r=>{var i,o;r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),(i=(o=this.opts).onDragLeave)==null||i.call(o,r)},this.handleDrop=async r=>{var i,o;r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1});let s=l=>{this.uppy.log(l,"error")},a=await ol(r.dataTransfer,{logDropError:s});a.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(a)),(i=(o=this.opts).onDrop)==null||i.call(o,r)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=Df,this.i18nInit()}renderHiddenFileInput(){var t;let{restrictions:n}=this.uppy.opts;return D("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:r=>{this.fileInputRef=r},name:this.opts.inputName,multiple:n.maxNumberOfFiles!==1,accept:(t=n.allowedFileTypes)==null?void 0:t.join(", "),onChange:this.onInputChange})}static renderArrowSvg(){return D("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},D("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return D("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:D("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return D("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){let t=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,n={width:this.opts.width,height:this.opts.height};return D("button",{type:"button",className:t,style:n,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),D("div",{className:"uppy-DragDrop-inner"},e.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){let{target:t}=this.opts;this.setPluginState({isDraggingOver:!1}),t&&this.mount(t,this)}uninstall(){this.unmount()}};Vn.VERSION=C_.version;function hs(e,t,n,r){return n===0||e===t?e:r===0?t:e+(t-e)*2**(-r/n)}var ee={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var hl=Qe(sl(),1);function xi(e){let t=[],n="indeterminate",r;for(let{progress:o}of Object.values(e)){let{preprocess:s,postprocess:a}=o;r==null&&(s||a)&&({mode:n,message:r}=s||a),s?.mode==="determinate"&&t.push(s.value),a?.mode==="determinate"&&t.push(a.value)}let i=t.reduce((o,s)=>o+s/t.length,0);return{mode:n,message:r,value:i}}var cl=Qe(sl(),1),ul=Qe(Ha(),1);function al(e){let t=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,r=Math.floor(e%60);return{hours:t,minutes:n,seconds:r}}function ll(e){let t=al(e),n=t.hours===0?"":`${t.hours}h`,r=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,i=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${r}${i}`}var P_="\xB7",Pf=()=>` ${P_} `;function Nf(e){let{newFiles:t,isUploadStarted:n,recoveredState:r,i18n:i,uploadState:o,isSomeGhost:s,startUpload:a}=e,l=(0,cl.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":o===ee.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":s}),u=t&&n&&!r?i("uploadXNewFiles",{smart_count:t}):i("uploadXFiles",{smart_count:t});return D("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:a,disabled:s,"data-uppy-super-focusable":!0},u)}function If(e){let{i18n:t,uppy:n}=e;return D("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry"},D("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},D("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function Mf(e){let{i18n:t,uppy:n}=e;return D("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},D("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},D("g",{fill:"none",fillRule:"evenodd"},D("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),D("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function Rf(e){let{isAllPaused:t,i18n:n,isAllComplete:r,resumableUploads:i,uppy:o}=e,s=n(t?"resume":"pause");function a(){if(!r){if(!i){o.cancelAll();return}if(t){o.resumeAll();return}o.pauseAll()}}return D("button",{title:s,"aria-label":s,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:a,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},D("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},D("g",{fill:"none",fillRule:"evenodd"},D("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),D("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function Lf(e){let{i18n:t,doneButtonHandler:n}=e;return D("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))}function kf(){return D("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},D("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function Ff(e){let{progress:t}=e,{value:n,mode:r,message:i}=t;return D("div",{className:"uppy-StatusBar-content"},D(kf,null),r==="determinate"?`${Math.round(n*100)}% \xB7 `:"",i)}function N_(e){let{numUploads:t,complete:n,totalUploadedSize:r,totalSize:i,totalETA:o,i18n:s}=e,a=t>1,l=(0,ul.default)(r);return D("div",{className:"uppy-StatusBar-statusSecondary"},a&&s("filesUploadedOfTotal",{complete:n,smart_count:t}),D("span",{className:"uppy-StatusBar-additionalInfo"},a&&Pf(),i!=null?s("dataUploadedOfTotal",{complete:l,total:(0,ul.default)(i)}):s("dataUploadedOfUnknown",{complete:l}),Pf(),o!=null&&s("xTimeLeft",{time:ll(o)})))}function Uf(e){let{i18n:t,complete:n,numUploads:r}=e;return D("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function I_(e){let{i18n:t,newFiles:n,startUpload:r}=e,i=(0,cl.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return D("div",{className:"uppy-StatusBar-statusSecondary"},D("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),D("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}function $f(e){let{i18n:t,supportsUploadProgress:n,totalProgress:r,showProgressDetails:i,isUploadStarted:o,isAllComplete:s,isAllPaused:a,newFiles:l,numUploads:u,complete:d,totalUploadedSize:c,totalSize:f,totalETA:h,startUpload:p}=e,g=l&&o;if(!o||s)return null;let m=t(a?"paused":"uploading");function v(){return!a&&!g&&i?n?D(N_,{numUploads:u,complete:d,totalUploadedSize:c,totalSize:f,totalETA:h,i18n:t}):D(Uf,{i18n:t,complete:d,numUploads:u}):null}return D("div",{className:"uppy-StatusBar-content","aria-label":m,title:m},a?null:D(kf,null),D("div",{className:"uppy-StatusBar-status"},D("div",{className:"uppy-StatusBar-statusPrimary"},n&&r!==0?`${m}: ${r}%`:m),v(),g?D(I_,{i18n:t,newFiles:l,startUpload:p}):null))}function Hf(e){let{i18n:t}=e;return D("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},D("div",{className:"uppy-StatusBar-status"},D("div",{className:"uppy-StatusBar-statusPrimary"},D("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},D("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function jf(e){let{error:t,i18n:n,complete:r,numUploads:i}=e;function o(){let s=`${n("uploadFailed")} 

 ${t}`;alert(s)}return D("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},D("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},D("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),D("div",{className:"uppy-StatusBar-status"},D("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),D("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:o,type:"button"},"?")),D(Uf,{i18n:n,complete:r,numUploads:i})))}var{STATE_ERROR:Bf,STATE_WAITING:M_,STATE_PREPROCESSING:dl,STATE_UPLOADING:gs,STATE_POSTPROCESSING:fl,STATE_COMPLETE:ms}=ee;function pl(e){let{newFiles:t,allowNewUpload:n,isUploadInProgress:r,isAllPaused:i,resumableUploads:o,error:s,hideUploadButton:a=void 0,hidePauseResumeButton:l=!1,hideCancelButton:u=!1,hideRetryButton:d=!1,recoveredState:c,uploadState:f,totalProgress:h,files:p,supportsUploadProgress:g,hideAfterFinish:m=!1,isSomeGhost:v,doneButtonHandler:b=void 0,isUploadStarted:T,i18n:y,startUpload:S,uppy:_,isAllComplete:w,showProgressDetails:C=void 0,numUploads:O,complete:N,totalSize:I,totalETA:$,totalUploadedSize:H}=e;function z(){switch(f){case fl:case dl:{let Je=xi(p);return Je.mode==="determinate"?Je.value*100:h}case Bf:return null;case gs:return g?h:null;default:return h}}function lt(){switch(f){case fl:case dl:{let{mode:Je}=xi(p);return Je==="indeterminate"}case gs:return!g;default:return!1}}let q=z(),B=q??100,ut=!s&&t&&(!r&&!i||c)&&n&&!a,ct=!u&&f!==M_&&f!==ms,St=o&&!l&&f===gs,pt=s&&!w&&!d,X=b&&f===ms,me=(0,hl.default)("uppy-StatusBar-progress",{"is-indeterminate":lt()}),Yt=(0,hl.default)("uppy-StatusBar",`is-${f}`,{"has-ghosts":v}),Gt=(()=>{switch(f){case dl:case fl:return D(Ff,{progress:xi(p)});case ms:return D(Hf,{i18n:y});case Bf:return D(jf,{error:s,i18n:y,numUploads:O,complete:N});case gs:return D($f,{i18n:y,supportsUploadProgress:g,totalProgress:h,showProgressDetails:C,isUploadStarted:T,isAllComplete:w,isAllPaused:i,newFiles:t,numUploads:O,complete:N,totalUploadedSize:H,totalSize:I,totalETA:$,startUpload:S});default:return null}})();return!(ut||pt||St||ct||X)&&!Gt||f===ms&&m?null:D("div",{className:Yt},D("div",{className:me,style:{width:`${B}%`},role:"progressbar","aria-label":`${B}%`,"aria-valuetext":`${B}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":q}),Gt,D("div",{className:"uppy-StatusBar-actions"},ut?D(Nf,{newFiles:t,isUploadStarted:T,recoveredState:c,i18n:y,isSomeGhost:v,startUpload:S,uploadState:f}):null,pt?D(If,{i18n:y,uppy:_}):null,St?D(Rf,{isAllPaused:i,i18n:y,isAllComplete:w,resumableUploads:o,uppy:_}):null,ct?D(Mf,{i18n:y,uppy:_}):null,X?D(Lf,{i18n:y,doneButtonHandler:b}):null))}var Vf={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function ot(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var R_=0;function Mr(e){return"__private_"+R_+++"_"+e}var L_={version:"4.1.3"},k_=2e3,F_=2e3;function U_(e,t,n,r){if(e)return ee.STATE_ERROR;if(t)return ee.STATE_COMPLETE;if(n)return ee.STATE_WAITING;let i=ee.STATE_WAITING,o=Object.keys(r);for(let s=0;s<o.length;s++){let{progress:a}=r[o[s]];if(a.uploadStarted&&!a.uploadComplete)return ee.STATE_UPLOADING;a.preprocess&&(i=ee.STATE_PREPROCESSING),a.postprocess&&i!==ee.STATE_PREPROCESSING&&(i=ee.STATE_POSTPROCESSING)}return i}var $_={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},pe=Mr("lastUpdateTime"),Te=Mr("previousUploadedBytes"),je=Mr("previousSpeed"),ne=Mr("previousETA"),gl=Mr("computeSmoothETA"),Oi=Mr("onUploadStart"),qn=class extends Ai{constructor(t,n){super(t,{...$_,...n}),Object.defineProperty(this,gl,{value:H_}),Object.defineProperty(this,pe,{writable:!0,value:void 0}),Object.defineProperty(this,Te,{writable:!0,value:void 0}),Object.defineProperty(this,je,{writable:!0,value:void 0}),Object.defineProperty(this,ne,{writable:!0,value:void 0}),this.startUpload=()=>this.uppy.upload().catch(()=>{}),Object.defineProperty(this,Oi,{writable:!0,value:()=>{let{recoveredState:r}=this.uppy.getState();if(ot(this,je)[je]=null,ot(this,ne)[ne]=null,r){ot(this,Te)[Te]=Object.values(r.files).reduce((i,o)=>{let{progress:s}=o;return i+s.bytesUploaded},0),this.uppy.emit("restore-confirmed");return}ot(this,pe)[pe]=performance.now(),ot(this,Te)[Te]=0}}),this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Vf,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(t){let{capabilities:n,files:r,allowNewUpload:i,totalProgress:o,error:s,recoveredState:a}=t,{newFiles:l,startedFiles:u,completeFiles:d,isUploadStarted:c,isAllComplete:f,isAllPaused:h,isUploadInProgress:p,isSomeGhost:g}=this.uppy.getObjectOfFilesPerState(),m=a?Object.values(r):l,v=!!n.resumableUploads,b=n.uploadProgress!==!1,T=null,y=0;u.every(_=>_.progress.bytesTotal!=null&&_.progress.bytesTotal!==0)?(T=0,u.forEach(_=>{T+=_.progress.bytesTotal||0,y+=_.progress.bytesUploaded||0})):u.forEach(_=>{y+=_.progress.bytesUploaded||0});let S=ot(this,gl)[gl]({uploaded:y,total:T});return pl({error:s,uploadState:U_(s,f,a,t.files||{}),allowNewUpload:i,totalProgress:o,totalSize:T,totalUploadedSize:y,isAllComplete:!1,isAllPaused:h,isUploadStarted:c,isUploadInProgress:p,isSomeGhost:g,recoveredState:a,complete:d.length,newFiles:m.length,numUploads:u.length,totalETA:S,files:r,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:v,supportsUploadProgress:b,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){let t=this.el;cs(t)||(t.dir="ltr")}install(){let{target:t}=this.opts;t&&this.mount(t,this),this.uppy.on("upload",ot(this,Oi)[Oi]),ot(this,pe)[pe]=performance.now(),ot(this,Te)[Te]=this.uppy.getFiles().reduce((n,r)=>n+r.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",ot(this,Oi)[Oi])}};function H_(e){var t,n;if(e.total==null||e.total===0)return null;let r=e.total-e.uploaded;if(r<=0)return null;(n=(t=ot(this,pe))[pe])!=null||(t[pe]=performance.now());let i=performance.now()-ot(this,pe)[pe];if(i===0){var o;return Math.round(((o=ot(this,ne)[ne])!=null?o:0)/100)/10}let s=e.uploaded-ot(this,Te)[Te];if(ot(this,Te)[Te]=e.uploaded,s<=0){var a;return Math.round(((a=ot(this,ne)[ne])!=null?a:0)/100)/10}let l=s/i,u=ot(this,je)[je]==null?l:hs(l,ot(this,je)[je],k_,i);ot(this,je)[je]=u;let d=r/u,c=Math.max(ot(this,ne)[ne]-i,0),f=ot(this,ne)[ne]==null?d:hs(d,c,F_,i);return ot(this,ne)[ne]=f,ot(this,pe)[pe]=performance.now(),Math.round(f/100)/10}qn.VERSION=L_.version;var ml=class extends Error{constructor(){super(...arguments),this.name="UserFacingApiError"}},qf=ml;var Jf=Qe(Yf(),1);var B_=Object.prototype.toString,V_=e=>B_.call(e)==="[object Error]",q_=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function vl(e){return e&&V_(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:q_.has(e.message):!1}var Rr=class extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}},Gf=(e,t,n)=>{let r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e};async function vs(e,t){return new Promise((n,r)=>{t={...t},t.onFailedAttempt??=()=>{},t.shouldRetry??=()=>!0,t.retries??=10;let i=Jf.default.operation(t),o=()=>{i.stop(),r(t.signal?.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",o,{once:!0});let s=()=>{t.signal?.removeEventListener("abort",o),i.stop()};i.attempt(async a=>{try{let l=await e(a);s(),n(l)}catch(l){try{if(!(l instanceof Error))throw new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`);if(l instanceof Rr)throw l.originalError;if(l instanceof TypeError&&!vl(l))throw l;if(Gf(l,a,t),await t.shouldRetry(l)||(i.stop(),r(l)),await t.onFailedAttempt(l),!i.retry(l))throw i.mainError()}catch(u){Gf(u,a,t),s(),r(u)}}})})}var yl=class extends Error{constructor(t,n){n===void 0&&(n=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=t,this.isNetworkError=!0,this.request=n}},Qf=yl;function bl(){return fetch(...arguments).catch(e=>{throw e.name==="AbortError"?e:new Qf(e)})}function Ci(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _l=class extends Error{constructor(t,n){super(t),this.cause=n?.cause,this.cause&&Ci(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}},Zf=_l;function El(e){var t;let r=(t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(e))==null?void 0:t[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${r}`}var wl=class extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}},th=wl;function Be(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var W_=0;function ys(e){return"__private_"+W_+++"_"+e}var z_={version:"4.4.1"};function K_(e){return e.replace(/\/$/,"")}var eh=10,X_=5*60*1e3,nh=401,Sl=class extends Error{constructor(t){let{statusCode:n,message:r}=t;super(r),this.name="HttpError",this.statusCode=n}};async function Y_(e){if(e.status===nh)throw new th;if(e.ok)return e.json();let t=`Failed request with status: ${e.status}. ${e.statusText}`,n;try{n=await e.json(),n.message&&(t=`${t} message: ${n.message}`),n.requestId&&(t=`${t} request-Id: ${n.requestId}`)}catch(r){throw new Error(t,{cause:r})}throw e.status>=400&&e.status<=499&&n.message?new qf(n.message):new Sl({statusCode:e.status,message:t})}function G_(e,t,n){let{progress:r,bytesUploaded:i,bytesTotal:o}=t;if(r){var s;e.uppy.log(`Upload progress: ${r}`),e.uppy.emit("upload-progress",n,{uploadStarted:(s=n.progress.uploadStarted)!=null?s:0,bytesUploaded:i,bytesTotal:o})}}var Ve=ys("companionHeaders"),Di=ys("getUrl"),Tl=ys("requestSocketToken"),Pi=ys("awaitRemoteFileUpload"),qe=class{constructor(t,n){Object.defineProperty(this,Pi,{value:Q_}),Object.defineProperty(this,Di,{value:J_}),Object.defineProperty(this,Ve,{writable:!0,value:void 0}),Object.defineProperty(this,Tl,{writable:!0,value:async r=>{var i;let{file:o,postBody:s,signal:a}=r;if(((i=o.remote)==null?void 0:i.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(o.remote.url,{...o.remote.body,...s},{signal:a})).token}}),this.uppy=t,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),Be(this,Ve)[Ve]=n.companionHeaders}setCompanionHeaders(t){Be(this,Ve)[Ve]=t}[Symbol.for("uppy test: getCompanionHeaders")](){return Be(this,Ve)[Ve]}get hostname(){let{companion:t}=this.uppy.getState(),n=this.opts.companionUrl;return K_(t&&t[n]?t[n]:n)}async headers(t){return t===void 0&&(t=!1),{...{Accept:"application/json",...t?void 0:{"Content-Type":"application/json"}},...Be(this,Ve)[Ve]}}onReceiveResponse(t){let{headers:n}=t,i=this.uppy.getState().companion||{},o=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==i[o]&&this.uppy.setState({companion:{...i,[o]:n.get("i-am")}})}async request(t){let{path:n,method:r="GET",data:i,skipPostResponse:o,signal:s}=t;try{let a=await this.headers(!i),l=await bl(Be(this,Di)[Di](n),{method:r,signal:s,headers:a,credentials:this.opts.companionCookiesRule||"same-origin",body:i?JSON.stringify(i):null});return o||this.onReceiveResponse(l),await Y_(l)}catch(a){throw a.isAuthError||a.name==="UserFacingApiError"||a.name==="AbortError"?a:new Zf(`Could not ${r} ${Be(this,Di)[Di](n)}`,{cause:a})}}async get(t,n){return this.request({...n,path:t})}async post(t,n,r){return this.request({...r,path:t,method:"POST",data:n})}async delete(t,n,r){return this.request({...r,path:t,method:"DELETE",data:n})}async uploadRemoteFile(t,n,r){var i=this;try{let{signal:o,getQueue:s}=r||{};return await vs(async()=>{var a;let l=(a=this.uppy.getFile(t.id))==null?void 0:a.serverToken;if(l!=null)return this.uppy.log(`Connecting to exiting websocket ${l}`),Be(this,Pi)[Pi]({file:t,queue:s(),signal:o});let d=await s().wrapPromiseFunction(async function(){try{return await Be(i,Tl)[Tl](...arguments)}catch(c){if(c.isAuthError)throw new Rr(c);if(c.cause==null)throw c;let f=c.cause,h=()=>[408,409,429,418,423].includes(f.statusCode)||f.statusCode>=500&&f.statusCode<=599&&![501,505].includes(f.statusCode);throw f.name==="HttpError"&&!h()?new Rr(f):f}},{priority:-1})({file:t,postBody:n,signal:o}).abortOn(o);if(this.uppy.getFile(t.id))return this.uppy.setFileState(t.id,{serverToken:d}),Be(this,Pi)[Pi]({file:this.uppy.getFile(t.id),queue:s(),signal:o})},{retries:eh,signal:o,onFailedAttempt:a=>this.uppy.log(`Retrying upload due to: ${a.message}`,"warning")})}catch(o){if(o.name==="AbortError")return;throw this.uppy.emit("upload-error",t,o),o}}};function J_(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`}async function Q_(e){let{file:t,queue:n,signal:r}=e,i,{capabilities:o}=this.uppy.getState();try{return await new Promise((s,a)=>{let l=t.serverToken,u=El(t.remote.companionUrl),d,c,f,{isPaused:h}=t,p=(w,C)=>{if(d==null||d.readyState!==d.OPEN){var O;this.uppy.log(`Cannot send "${w}" to socket ${t.id} because the socket state was ${String((O=d)==null?void 0:O.readyState)}`,"warning");return}d.send(JSON.stringify({action:w,payload:C??{}}))};function g(){o.resumableUploads&&p(h?"pause":"resume")}let m=async()=>{c&&c.abort(),c=new AbortController;let w=O=>{var N;this.uppy.setFileState(t.id,{serverToken:null}),(N=c)==null||N.abort==null||N.abort(),a(O)};function C(){clearTimeout(f),!h&&(f=setTimeout(()=>w(new Error("Timeout waiting for message from Companion socket")),X_))}try{await n.wrapPromiseFunction(async()=>{await vs(async()=>new Promise((N,I)=>{d=new WebSocket(`${u}/api/${l}`),C(),d.addEventListener("close",()=>{d=void 0,I(new Error("Socket closed unexpectedly"))}),d.addEventListener("error",H=>{var z;this.uppy.log(`Companion socket error ${JSON.stringify(H)}, closing socket`,"warning"),(z=d)==null||z.close()}),d.addEventListener("open",()=>{g()}),d.addEventListener("message",H=>{C();try{let{action:ut,payload:ct}=JSON.parse(H.data);switch(ut){case"progress":{G_(this,ct,this.uppy.getFile(t.id));break}case"success":{var z,lt,q,B;let St=(z=ct.response)==null?void 0:z.responseText;this.uppy.emit("upload-success",this.uppy.getFile(t.id),{uploadURL:ct.url,status:(lt=(q=ct.response)==null?void 0:q.status)!=null?lt:200,body:St?JSON.parse(St):void 0}),(B=c)==null||B.abort==null||B.abort(),s();break}case"error":{let{message:St}=ct.error;throw Object.assign(new Error(St),{cause:ct.error})}default:this.uppy.log(`Companion socket unknown action ${ut}`,"warning")}}catch(ut){w(ut)}});let $=()=>{this.uppy.log(`Closing socket ${t.id}`),clearTimeout(f),d&&d.close(),d=void 0};c.signal.addEventListener("abort",()=>{$()})}),{retries:eh,signal:c.signal,onFailedAttempt:()=>{c.signal.aborted||this.uppy.log(`Retrying websocket ${t.id}`)}})})().abortOn(c.signal)}catch(O){if(c.signal.aborted)return;w(O)}},v=w=>{o.resumableUploads&&(h=w,d&&g())},b=w=>{var C;o.individualCancellation&&w.id===t.id&&(p("cancel"),(C=c)==null||C.abort==null||C.abort(),this.uppy.log(`upload ${t.id} was removed`),s())},T=()=>{var w;p("cancel"),(w=c)==null||w.abort==null||w.abort(),this.uppy.log(`upload ${t.id} was canceled`),s()},y=(w,C)=>{w?.id===t.id&&v(C)},S=()=>v(!0),_=()=>v(!1);this.uppy.on("file-removed",b),this.uppy.on("cancel-all",T),this.uppy.on("upload-pause",y),this.uppy.on("pause-all",S),this.uppy.on("resume-all",_),i=()=>{this.uppy.off("file-removed",b),this.uppy.off("cancel-all",T),this.uppy.off("upload-pause",y),this.uppy.off("pause-all",S),this.uppy.off("resume-all",_)},r.addEventListener("abort",()=>{var w;(w=c)==null||w.abort()}),m()})}finally{i?.()}}qe.VERSION=z_.version;function We(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var tE=0;function rh(e){return"__private_"+tE+++"_"+e}var Ft=rh("uppy"),Ni=rh("events"),Ii=class{constructor(t){Object.defineProperty(this,Ft,{writable:!0,value:void 0}),Object.defineProperty(this,Ni,{writable:!0,value:[]}),We(this,Ft)[Ft]=t}on(t,n){return We(this,Ni)[Ni].push([t,n]),We(this,Ft)[Ft].on(t,n)}remove(){for(let[t,n]of We(this,Ni)[Ni].splice(0))We(this,Ft)[Ft].off(t,n)}onFilePause(t,n){this.on("upload-pause",(r,i)=>{t===r?.id&&n(i)})}onFileRemove(t,n){this.on("file-removed",r=>{t===r.id&&n(r.id)})}onPause(t,n){this.on("upload-pause",(r,i)=>{t===r?.id&&n(i)})}onRetry(t,n){this.on("upload-retry",r=>{t===r?.id&&n()})}onRetryAll(t,n){this.on("retry-all",()=>{We(this,Ft)[Ft].getFile(t)&&n()})}onPauseAll(t,n){this.on("pause-all",()=>{We(this,Ft)[Ft].getFile(t)&&n()})}onCancelAll(t,n){var r=this;this.on("cancel-all",function(){We(r,Ft)[Ft].getFile(t)&&n(...arguments)})}onResumeAll(t,n){this.on("resume-all",()=>{We(this,Ft)[Ft].getFile(t)&&n()})}};function L(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var eE=0;function Kt(e){return"__private_"+eE+++"_"+e}function nE(e){return new Error("Cancelled",{cause:e})}function ih(e){if(e!=null){var t;let n=()=>this.abort(e.reason);e.addEventListener("abort",n,{once:!0});let r=()=>{e.removeEventListener("abort",n)};(t=this.then)==null||t.call(this,r,r)}return this}var ie=Kt("activeRequests"),$t=Kt("queuedHandlers"),re=Kt("paused"),zn=Kt("pauseTimer"),Ut=Kt("downLimit"),Kn=Kt("upperLimit"),ze=Kt("rateLimitingTimer"),Mi=Kt("call"),Ke=Kt("queueNext"),Ol=Kt("next"),Al=Kt("queue"),Cl=Kt("dequeue"),xl=Kt("resume"),Xn=Kt("increaseLimit"),bs=class{constructor(t){Object.defineProperty(this,Cl,{value:aE}),Object.defineProperty(this,Al,{value:sE}),Object.defineProperty(this,Ol,{value:oE}),Object.defineProperty(this,Ke,{value:iE}),Object.defineProperty(this,Mi,{value:rE}),Object.defineProperty(this,ie,{writable:!0,value:0}),Object.defineProperty(this,$t,{writable:!0,value:[]}),Object.defineProperty(this,re,{writable:!0,value:!1}),Object.defineProperty(this,zn,{writable:!0,value:void 0}),Object.defineProperty(this,Ut,{writable:!0,value:1}),Object.defineProperty(this,Kn,{writable:!0,value:void 0}),Object.defineProperty(this,ze,{writable:!0,value:void 0}),Object.defineProperty(this,xl,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,Xn,{writable:!0,value:()=>{if(L(this,re)[re]){L(this,ze)[ze]=setTimeout(L(this,Xn)[Xn],0);return}L(this,Ut)[Ut]=this.limit,this.limit=Math.ceil((L(this,Kn)[Kn]+L(this,Ut)[Ut])/2);for(let n=L(this,Ut)[Ut];n<=this.limit;n++)L(this,Ke)[Ke]();L(this,Kn)[Kn]-L(this,Ut)[Ut]>3?L(this,ze)[ze]=setTimeout(L(this,Xn)[Xn],2e3):L(this,Ut)[Ut]=Math.floor(L(this,Ut)[Ut]/2)}}),typeof t!="number"||t===0?this.limit=1/0:this.limit=t}run(t,n){return!L(this,re)[re]&&L(this,ie)[ie]<this.limit?L(this,Mi)[Mi](t):L(this,Al)[Al](t,n)}wrapSyncFunction(t,n){var r=this;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];let a=r.run(()=>(t(...o),queueMicrotask(()=>a.done()),()=>{}),n);return{abortOn:ih,abort(){a.abort()}}}}wrapPromiseFunction(t,n){var r=this;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];let a,l=new Promise((u,d)=>{a=r.run(()=>{let c,f;try{f=Promise.resolve(t(...o))}catch(h){f=Promise.reject(h)}return f.then(h=>{c?d(c):(a.done(),u(h))},h=>{c?d(c):(a.done(),d(h))}),h=>{c=nE(h)}},n)});return l.abort=u=>{a.abort(u)},l.abortOn=ih,l}}resume(){L(this,re)[re]=!1,clearTimeout(L(this,zn)[zn]);for(let t=0;t<this.limit;t++)L(this,Ke)[Ke]()}pause(t){t===void 0&&(t=null),L(this,re)[re]=!0,clearTimeout(L(this,zn)[zn]),t!=null&&(L(this,zn)[zn]=setTimeout(L(this,xl)[xl],t))}rateLimit(t){clearTimeout(L(this,ze)[ze]),this.pause(t),this.limit>1&&Number.isFinite(this.limit)&&(L(this,Kn)[Kn]=this.limit-1,this.limit=L(this,Ut)[Ut],L(this,ze)[ze]=setTimeout(L(this,Xn)[Xn],t))}get isPaused(){return L(this,re)[re]}};function rE(e){L(this,ie)[ie]+=1;let t=!1,n;try{n=e()}catch(r){throw L(this,ie)[ie]-=1,r}return{abort:r=>{t||(t=!0,L(this,ie)[ie]-=1,n?.(r),L(this,Ke)[Ke]())},done:()=>{t||(t=!0,L(this,ie)[ie]-=1,L(this,Ke)[Ke]())}}}function iE(){queueMicrotask(()=>L(this,Ol)[Ol]())}function oE(){if(L(this,re)[re]||L(this,ie)[ie]>=this.limit||L(this,$t)[$t].length===0)return;let e=L(this,$t)[$t].shift();if(e==null)throw new Error("Invariant violation: next is null");let t=L(this,Mi)[Mi](e.fn);e.abort=t.abort,e.done=t.done}function sE(e,t){let n={fn:e,priority:t?.priority||0,abort:()=>{L(this,Cl)[Cl](n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},r=L(this,$t)[$t].findIndex(i=>n.priority>i.priority);return r===-1?L(this,$t)[$t].push(n):L(this,$t)[$t].splice(r,0,n),n}function aE(e){let t=L(this,$t)[$t].indexOf(e);t!==-1&&L(this,$t)[$t].splice(t,1)}var F0=Symbol("__queue");function oh(e){let t=n=>"error"in n&&!!n.error;return e.filter(n=>!t(n))}function sh(e){return e.filter(t=>{var n;return!((n=t.progress)!=null&&n.uploadStarted)||!t.isRestored})}var{AbortController:_s}=globalThis,{AbortSignal:j0}=globalThis,Es=function(e,t){e===void 0&&(e="Aborted");let n=new DOMException(e,"AbortError");return t!=null&&Ci(t,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),n};function ws(e,t){return e===!0?Object.keys(t):Array.isArray(e)?e:[]}function P(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var lE=0;function bt(e){return"__private_"+lE+++"_"+e}var uE=1024*1024,ah={getChunkSize(e){return Math.ceil(e.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function cE(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}var $i=Symbol("pausing upload, not an actual error"),Dt=bt("abortController"),yt=bt("chunks"),Ht=bt("chunkState"),oe=bt("data"),se=bt("file"),Hi=bt("uploadHasStarted"),Ri=bt("onError"),Jn=bt("onSuccess"),Xe=bt("shouldUseMultipart"),Gn=bt("isRestoring"),ji=bt("onReject"),Yn=bt("maxMultipartParts"),ki=bt("minPartSize"),Dl=bt("initChunks"),Pl=bt("createUpload"),Li=bt("resumeUpload"),Fi=bt("onPartProgress"),Ui=bt("onPartComplete"),Nl=bt("abortUpload"),Il=class{constructor(t,n){var r,i;Object.defineProperty(this,Nl,{value:pE}),Object.defineProperty(this,Li,{value:hE}),Object.defineProperty(this,Pl,{value:fE}),Object.defineProperty(this,Dl,{value:dE}),Object.defineProperty(this,Dt,{writable:!0,value:new _s}),Object.defineProperty(this,yt,{writable:!0,value:[]}),Object.defineProperty(this,Ht,{writable:!0,value:[]}),Object.defineProperty(this,oe,{writable:!0,value:void 0}),Object.defineProperty(this,se,{writable:!0,value:void 0}),Object.defineProperty(this,Hi,{writable:!0,value:!1}),Object.defineProperty(this,Ri,{writable:!0,value:void 0}),Object.defineProperty(this,Jn,{writable:!0,value:void 0}),Object.defineProperty(this,Xe,{writable:!0,value:void 0}),Object.defineProperty(this,Gn,{writable:!0,value:void 0}),Object.defineProperty(this,ji,{writable:!0,value:o=>o?.cause===$i?null:P(this,Ri)[Ri](o)}),Object.defineProperty(this,Yn,{writable:!0,value:1e4}),Object.defineProperty(this,ki,{writable:!0,value:5*uE}),Object.defineProperty(this,Fi,{writable:!0,value:o=>s=>{if(!s.lengthComputable)return;P(this,Ht)[Ht][o].uploaded=cE(s.loaded);let a=P(this,Ht)[Ht].reduce((l,u)=>l+u.uploaded,0);this.options.onProgress(a,P(this,oe)[oe].size)}}),Object.defineProperty(this,Ui,{writable:!0,value:o=>s=>{P(this,yt)[yt][o]=null,P(this,Ht)[Ht][o].etag=s,P(this,Ht)[Ht][o].done=!0;let a={PartNumber:o+1,ETag:s};this.options.onPartComplete(a)}}),this.options={...ah,...n},(i=(r=this.options).getChunkSize)!=null||(r.getChunkSize=ah.getChunkSize),P(this,oe)[oe]=t,P(this,se)[se]=n.file,P(this,Jn)[Jn]=this.options.onSuccess,P(this,Ri)[Ri]=this.options.onError,P(this,Xe)[Xe]=this.options.shouldUseMultipart,P(this,Gn)[Gn]=n.uploadId&&n.key,P(this,Dl)[Dl]()}start(){P(this,Hi)[Hi]?(P(this,Dt)[Dt].signal.aborted||P(this,Dt)[Dt].abort($i),P(this,Dt)[Dt]=new _s,P(this,Li)[Li]()):P(this,Gn)[Gn]?(this.options.companionComm.restoreUploadFile(P(this,se)[se],{uploadId:this.options.uploadId,key:this.options.key}),P(this,Li)[Li]()):P(this,Pl)[Pl]()}pause(){P(this,Dt)[Dt].abort($i),P(this,Dt)[Dt]=new _s}abort(t){t!=null&&t.really?P(this,Nl)[Nl]():this.pause()}[Symbol.for("uppy test: getChunkState")](){return P(this,Ht)[Ht]}};function dE(){let e=P(this,oe)[oe].size,t=typeof P(this,Xe)[Xe]=="function"?P(this,Xe)[Xe](P(this,se)[se]):!!P(this,Xe)[Xe];if(t&&e>P(this,ki)[ki]){let n=Math.max(this.options.getChunkSize(P(this,oe)[oe]),P(this,ki)[ki]),r=Math.floor(e/n);r>P(this,Yn)[Yn]&&(r=P(this,Yn)[Yn],n=e/P(this,Yn)[Yn]),P(this,yt)[yt]=Array(r);for(let i=0,o=0;i<e;i+=n,o++){let s=Math.min(e,i+n),a=()=>{let l=i;return P(this,oe)[oe].slice(l,s)};if(P(this,yt)[yt][o]={getData:a,onProgress:P(this,Fi)[Fi](o),onComplete:P(this,Ui)[Ui](o),shouldUseMultipart:t},P(this,Gn)[Gn]){let l=i+n>e?e-i:n;P(this,yt)[yt][o].setAsUploaded=()=>{P(this,yt)[yt][o]=null,P(this,Ht)[Ht][o].uploaded=l}}}}else P(this,yt)[yt]=[{getData:()=>P(this,oe)[oe],onProgress:P(this,Fi)[Fi](0),onComplete:P(this,Ui)[Ui](0),shouldUseMultipart:t}];P(this,Ht)[Ht]=P(this,yt)[yt].map(()=>({uploaded:0}))}function fE(){this.options.companionComm.uploadFile(P(this,se)[se],P(this,yt)[yt],P(this,Dt)[Dt].signal).then(P(this,Jn)[Jn],P(this,ji)[ji]),P(this,Hi)[Hi]=!0}function hE(){this.options.companionComm.resumeUploadFile(P(this,se)[se],P(this,yt)[yt],P(this,Dt)[Dt].signal).then(P(this,Jn)[Jn],P(this,ji)[ji])}function pE(){P(this,Dt)[Dt].abort(),this.options.companionComm.abortFileUpload(P(this,se)[se]).catch(e=>this.options.log(e))}var lh=Il;function Tt(e){if(e!=null&&e.aborted)throw Es("The operation was aborted",{cause:e.reason})}function gE(e){let{method:t="PUT",CanonicalUri:n="/",CanonicalQueryString:r="",SignedHeaders:i,HashedPayload:o}=e,s=Object.keys(i).map(a=>a.toLowerCase()).sort();return[t,n,r,...s.map(a=>`${a}:${i[a]}`),"",s.join(";"),o].join(`
`)}var Ml=new TextEncoder,Rl={name:"HMAC",hash:"SHA-256"};async function mE(e){let{subtle:t}=globalThis.crypto;return t.digest(Rl.hash,Ml.encode(e))}async function vE(e){let{subtle:t}=globalThis.crypto;return t.importKey("raw",typeof e=="string"?Ml.encode(e):e,Rl,!1,["sign"])}function uh(e){let t=new Uint8Array(e),n="";for(let r=0;r<t.length;r++)n+=t[r].toString(16).padStart(2,"0");return n}async function Bi(e,t){let{subtle:n}=globalThis.crypto;return n.sign(Rl,await vE(e),Ml.encode(t))}async function Ll(e){let{accountKey:t,accountSecret:n,sessionToken:r,bucketName:i,Key:o,Region:s,expires:a,uploadId:l,partNumber:u}=e,d="s3",c=`${d}.${s}.amazonaws.com`,f=`/${i}/${encodeURI(o).replace(/[;?:@&=+$,#!'()*]/g,N=>`%${N.charCodeAt(0).toString(16).toUpperCase()}`)}`,h="UNSIGNED-PAYLOAD",p=new Date().toISOString().replace(/[-:]|\.\d+/g,""),g=p.slice(0,8),m=`${g}/${s}/${d}/aws4_request`,v=new URL(`https://${c}${f}`);v.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),v.searchParams.set("X-Amz-Content-Sha256",h),v.searchParams.set("X-Amz-Credential",`${t}/${m}`),v.searchParams.set("X-Amz-Date",p),v.searchParams.set("X-Amz-Expires",a),v.searchParams.set("X-Amz-Security-Token",r),v.searchParams.set("X-Amz-SignedHeaders","host"),u&&v.searchParams.set("partNumber",u),l&&v.searchParams.set("uploadId",l),v.searchParams.set("x-id",u&&l?"UploadPart":"PutObject");let b=gE({CanonicalUri:f,CanonicalQueryString:v.search.slice(1),SignedHeaders:{host:c},HashedPayload:h}),T=uh(await mE(b)),y=["AWS4-HMAC-SHA256",p,m,T].join(`
`),S=await Bi(`AWS4${n}`,g),_=await Bi(S,s),w=await Bi(_,d),C=await Bi(w,"aws4_request"),O=uh(await Bi(C,y));return v.searchParams.set("X-Amz-Signature",O),v}function F(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var yE=0;function jt(e){return"__private_"+yE+++"_"+e}function bE(e){let t=new URL(e);return t.search="",t.hash="",t.href}var Vi=jt("abortMultipartUpload"),Pt=jt("cache"),qi=jt("createMultipartUpload"),Wi=jt("fetchSignature"),Xi=jt("getUploadParameters"),zi=jt("listParts"),tr=jt("previousRetryDelay"),er=jt("requests"),Qn=jt("retryDelays"),Zn=jt("sendCompletionRequest"),Ye=jt("setS3MultipartState"),nr=jt("uploadPartBytes"),Nt=jt("getFile"),kl=jt("shouldRetry"),Ki=jt("nonMultipartUpload"),Ts=class{constructor(t,n,r,i){Object.defineProperty(this,Ki,{value:EE}),Object.defineProperty(this,kl,{value:_E}),Object.defineProperty(this,Vi,{writable:!0,value:void 0}),Object.defineProperty(this,Pt,{writable:!0,value:new WeakMap}),Object.defineProperty(this,qi,{writable:!0,value:void 0}),Object.defineProperty(this,Wi,{writable:!0,value:void 0}),Object.defineProperty(this,Xi,{writable:!0,value:void 0}),Object.defineProperty(this,zi,{writable:!0,value:void 0}),Object.defineProperty(this,tr,{writable:!0,value:void 0}),Object.defineProperty(this,er,{writable:!0,value:void 0}),Object.defineProperty(this,Qn,{writable:!0,value:void 0}),Object.defineProperty(this,Zn,{writable:!0,value:void 0}),Object.defineProperty(this,Ye,{writable:!0,value:void 0}),Object.defineProperty(this,nr,{writable:!0,value:void 0}),Object.defineProperty(this,Nt,{writable:!0,value:void 0}),F(this,er)[er]=t,F(this,Ye)[Ye]=r,F(this,Nt)[Nt]=i,this.setOptions(n)}setOptions(t){let n=F(this,er)[er];if("abortMultipartUpload"in t&&(F(this,Vi)[Vi]=n.wrapPromiseFunction(t.abortMultipartUpload,{priority:1})),"createMultipartUpload"in t&&(F(this,qi)[qi]=n.wrapPromiseFunction(t.createMultipartUpload,{priority:-1})),"signPart"in t&&(F(this,Wi)[Wi]=n.wrapPromiseFunction(t.signPart)),"listParts"in t&&(F(this,zi)[zi]=n.wrapPromiseFunction(t.listParts)),"completeMultipartUpload"in t&&(F(this,Zn)[Zn]=n.wrapPromiseFunction(t.completeMultipartUpload,{priority:1})),"retryDelays"in t){var r;F(this,Qn)[Qn]=(r=t.retryDelays)!=null?r:[]}"uploadPartBytes"in t&&(F(this,nr)[nr]=n.wrapPromiseFunction(t.uploadPartBytes,{priority:1/0})),"getUploadParameters"in t&&(F(this,Xi)[Xi]=n.wrapPromiseFunction(t.getUploadParameters))}async getUploadId(t,n){let r;for(;(r=F(this,Pt)[Pt].get(t.data))!=null;)try{return await r}catch{}let i=F(this,qi)[qi](F(this,Nt)[Nt](t),n),o=()=>{i.abort(n.reason),F(this,Pt)[Pt].delete(t.data)};return n.addEventListener("abort",o,{once:!0}),F(this,Pt)[Pt].set(t.data,i),i.then(async s=>{n.removeEventListener("abort",o),F(this,Ye)[Ye](t,s),F(this,Pt)[Pt].set(t.data,s)},()=>{n.removeEventListener("abort",o),F(this,Pt)[Pt].delete(t.data)}),i}async abortFileUpload(t){let n=F(this,Pt)[Pt].get(t.data);if(n==null)return;F(this,Pt)[Pt].delete(t.data),F(this,Ye)[Ye](t,Object.create(null));let r;try{r=await n}catch{return}await F(this,Vi)[Vi](F(this,Nt)[Nt](t),r)}async uploadFile(t,n,r){if(Tt(r),n.length===1&&!n[0].shouldUseMultipart)return F(this,Ki)[Ki](t,n[0],r);let{uploadId:i,key:o}=await this.getUploadId(t,r);Tt(r);try{let s=await Promise.all(n.map((a,l)=>this.uploadChunk(t,l+1,a,r)));return Tt(r),await F(this,Zn)[Zn](F(this,Nt)[Nt](t),{key:o,uploadId:i,parts:s,signal:r},r).abortOn(r)}catch(s){throw s?.cause!==$i&&s?.name!=="AbortError"&&this.abortFileUpload(t),s}}restoreUploadFile(t,n){F(this,Pt)[Pt].set(t.data,n)}async resumeUploadFile(t,n,r){if(Tt(r),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return F(this,Ki)[Ki](t,n[0],r);let{uploadId:i,key:o}=await this.getUploadId(t,r);Tt(r);let s=await F(this,zi)[zi](F(this,Nt)[Nt](t),{uploadId:i,key:o,signal:r},r).abortOn(r);Tt(r);let a=await Promise.all(n.map((l,u)=>{let d=u+1,c=s.find(f=>{let{PartNumber:h}=f;return h===d});return c==null?this.uploadChunk(t,d,l,r):(l==null||l.setAsUploaded==null||l.setAsUploaded(),{PartNumber:d,ETag:c.ETag})}));return Tt(r),F(this,Zn)[Zn](F(this,Nt)[Nt](t),{key:o,uploadId:i,parts:a,signal:r},r).abortOn(r)}async uploadChunk(t,n,r,i){Tt(i);let{uploadId:o,key:s}=await this.getUploadId(t,i),a=F(this,Qn)[Qn].values(),l=F(this,Qn)[Qn].values(),u=()=>{let d=a.next();return d==null||d.done?null:d.value};for(;;){Tt(i);let d=r.getData(),{onProgress:c,onComplete:f}=r,h;try{h=await F(this,Wi)[Wi](F(this,Nt)[Nt](t),{uploadId:o,key:s,partNumber:n,body:d,signal:i}).abortOn(i)}catch(p){let g=u();if(g==null||i.aborted)throw p;await new Promise(m=>setTimeout(m,g));continue}Tt(i);try{return{PartNumber:n,...await F(this,nr)[nr]({signature:h,body:d,size:d.size,onProgress:c,onComplete:f,signal:i}).abortOn(i)}}catch(p){if(!await F(this,kl)[kl](p,l))throw p}}}};async function _E(e,t){var n;let r=F(this,er)[er],i=e==null||(n=e.source)==null?void 0:n.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||F(this,tr)[tr]==null){let o=t.next();if(o==null||o.done)return!1;F(this,tr)[tr]=o.value}r.rateLimit(0),await new Promise(o=>setTimeout(o,F(this,tr)[tr]))}}else if(i===429){if(!r.isPaused){let o=t.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{let o=t.next();if(o==null||o.done)return!1;await new Promise(s=>setTimeout(s,o.value))}}return!0}async function EE(e,t,n){var r;let{method:i="POST",url:o,fields:s,headers:a}=await F(this,Xi)[Xi](F(this,Nt)[Nt](e),{signal:n}).abortOn(n),l,u=t.getData();if(i.toUpperCase()==="POST"){let p=new FormData;Object.entries(s).forEach(g=>{let[m,v]=g;return p.set(m,v)}),p.set("file",u),l=p}else l=u;let{onProgress:d,onComplete:c}=t,f=await F(this,nr)[nr]({signature:{url:o,headers:a,method:i},body:l,size:u.size,onProgress:d,onComplete:c,signal:n}).abortOn(n),h=s?.key;return F(this,Ye)[Ye](e,{key:h}),{...f,location:(r=f.location)!=null?r:bE(o),bucket:s?.bucket,key:h}}function R(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var wE=0;function Xt(e){return"__private_"+wE+++"_"+e}var TE={version:"4.2.3"};function Lr(e){if(e!=null&&e.error){let t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function dh(e){let t=e.Expiration;if(t){let n=Math.floor((new Date(t)-Date.now())/1e3);if(n>9)return n}}function ch(e){let{meta:t,allowedMetaFields:n,querify:r=!1}=e,i=n??Object.keys(t);return t?Object.fromEntries(i.filter(o=>t[o]!=null).map(o=>{let s=r?`metadata[${o}]`:o,a=String(t[o]);return[s,a]})):{}}var SE={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:e=>(e.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]},rr=Xt("companionCommunicationQueue"),Q=Xt("client"),Yi=Xt("setClient"),Bt=Xt("assertHost"),It=Xt("cachedTemporaryCredentials"),Fl=Xt("getTemporarySecurityCredentials"),Ul=Xt("setS3MultipartState"),or=Xt("getFile"),$l=Xt("uploadLocalFile"),Hl=Xt("getCompanionClientArgs"),Gi=Xt("upload"),ir=Xt("setCompanionHeaders"),Ge=Xt("setResumableUploadsCapability"),Ji=Xt("resetResumableCapability"),kr=class e extends gn{constructor(t,n){var r;super(t,{...SE,uploadPartBytes:e.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...n}),Object.defineProperty(this,Hl,{value:DE}),Object.defineProperty(this,$l,{value:CE}),Object.defineProperty(this,Fl,{value:OE}),Object.defineProperty(this,Bt,{value:xE}),Object.defineProperty(this,Yi,{value:AE}),Object.defineProperty(this,rr,{writable:!0,value:void 0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,It,{writable:!0,value:void 0}),Object.defineProperty(this,Ul,{writable:!0,value:(o,s)=>{let{key:a,uploadId:l}=s,u=this.uppy.getFile(o.id);u!=null&&this.uppy.setFileState(o.id,{s3Multipart:{...u.s3Multipart,key:a,uploadId:l}})}}),Object.defineProperty(this,or,{writable:!0,value:o=>this.uppy.getFile(o.id)||o}),Object.defineProperty(this,Gi,{writable:!0,value:async o=>{if(o.length===0)return;let s=this.uppy.getFilesByIds(o),a=oh(s),l=sh(a);this.uppy.emit("upload-start",l);let u=a.map(c=>{if(c.isRemote){let f=()=>this.requests;R(this,Ge)[Ge](!1);let h=new AbortController,p=m=>{m.id===c.id&&h.abort()};this.uppy.on("file-removed",p);let g=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,R(this,Hl)[Hl](c),{signal:h.signal,getQueue:f});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",p)},{priority:-1})(),g}return R(this,$l)[$l](c)}),d=await Promise.allSettled(u);return R(this,Ge)[Ge](!0),d}}),Object.defineProperty(this,ir,{writable:!0,value:()=>{var o;(o=R(this,Q)[Q])==null||o.setCompanionHeaders(this.opts.headers)}}),Object.defineProperty(this,Ge,{writable:!0,value:o=>{let{capabilities:s}=this.uppy.getState();this.uppy.setState({capabilities:{...s,resumableUploads:o}})}}),Object.defineProperty(this,Ji,{writable:!0,value:()=>{R(this,Ge)[Ge](!0)}}),this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",R(this,Yi)[Yi](n);let i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(let o of Object.keys(i))this.opts[o]==null&&(this.opts[o]=i[o].bind(this));this.requests=(r=this.opts.rateLimitedQueue)!=null?r:new bs(this.opts.limit),R(this,rr)[rr]=new Ts(this.requests,this.opts,R(this,Ul)[Ul],R(this,or)[or]),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return R(this,Q)[Q]}setOptions(t){R(this,rr)[rr].setOptions(t),super.setOptions(t),R(this,Yi)[Yi](t)}resetUploaderReferences(t,n){this.uploaders[t]&&(this.uploaders[t].abort({really:n?.abort||!1}),this.uploaders[t]=null),this.uploaderEvents[t]&&(this.uploaderEvents[t].remove(),this.uploaderEvents[t]=null)}createMultipartUpload(t,n){R(this,Bt)[Bt]("createMultipartUpload"),Tt(n);let r=ws(this.opts.allowedMetaFields,t.meta),i=ch({meta:t.meta,allowedMetaFields:r});return R(this,Q)[Q].post("s3/multipart",{filename:t.name,type:t.type,metadata:i},{signal:n}).then(Lr)}listParts(t,n,r){var i;let{key:o,uploadId:s,signal:a}=n;(i=a)!=null||(a=r),R(this,Bt)[Bt]("listParts"),Tt(a);let l=encodeURIComponent(o);return R(this,Q)[Q].get(`s3/multipart/${encodeURIComponent(s)}?key=${l}`,{signal:a}).then(Lr)}completeMultipartUpload(t,n,r){var i;let{key:o,uploadId:s,parts:a,signal:l}=n;(i=l)!=null||(l=r),R(this,Bt)[Bt]("completeMultipartUpload"),Tt(l);let u=encodeURIComponent(o),d=encodeURIComponent(s);return R(this,Q)[Q].post(`s3/multipart/${d}/complete?key=${u}`,{parts:a.map(c=>{let{ETag:f,PartNumber:h}=c;return{ETag:f,PartNumber:h}})},{signal:l}).then(Lr)}async createSignedURL(t,n){let r=await R(this,Fl)[Fl](n),i=dh(r.credentials)||604800,{uploadId:o,key:s,partNumber:a}=n;return{method:"PUT",expires:i,fields:{},url:`${await Ll({accountKey:r.credentials.AccessKeyId,accountSecret:r.credentials.SecretAccessKey,sessionToken:r.credentials.SessionToken,expires:i,bucketName:r.bucket,Region:r.region,Key:s??`${crypto.randomUUID()}-${t.name}`,uploadId:o,partNumber:a})}`,headers:{"Content-Type":t.type}}}signPart(t,n){let{uploadId:r,key:i,partNumber:o,signal:s}=n;if(R(this,Bt)[Bt]("signPart"),Tt(s),r==null||i==null||o==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");let a=encodeURIComponent(i);return R(this,Q)[Q].get(`s3/multipart/${encodeURIComponent(r)}/${o}?key=${a}`,{signal:s}).then(Lr)}abortMultipartUpload(t,n){let{key:r,uploadId:i,signal:o}=n;R(this,Bt)[Bt]("abortMultipartUpload");let s=encodeURIComponent(r),a=encodeURIComponent(i);return R(this,Q)[Q].delete(`s3/multipart/${a}?key=${s}`,void 0,{signal:o}).then(Lr)}getUploadParameters(t,n){R(this,Bt)[Bt]("getUploadParameters");let{meta:r}=t,{type:i,name:o}=r,s=ws(this.opts.allowedMetaFields,t.meta),a=ch({meta:r,allowedMetaFields:s,querify:!0}),l=new URLSearchParams({filename:o,type:i,...a});return R(this,Q)[Q].get(`s3/params?${l}`,n)}static async uploadPartBytes(t){let{signature:{url:n,expires:r,headers:i,method:o="PUT"},body:s,size:a=s.size,onProgress:l,onComplete:u,signal:d}=t;if(Tt(d),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((c,f)=>{let h=new XMLHttpRequest;h.open(o,n,!0),i&&Object.keys(i).forEach(m=>{h.setRequestHeader(m,i[m])}),h.responseType="text",typeof r=="number"&&(h.timeout=r*1e3);function p(){h.abort()}function g(){d?.removeEventListener("abort",p)}d?.addEventListener("abort",p),h.upload.addEventListener("progress",m=>{l(m)}),h.addEventListener("abort",()=>{g(),f(Es())}),h.addEventListener("timeout",()=>{g();let m=new Error("Request has expired");m.source={status:403},f(m)}),h.addEventListener("load",()=>{if(g(),h.status===403&&h.responseText.includes("<Message>Request has expired</Message>")){let y=new Error("Request has expired");y.source=h,f(y);return}if(h.status<200||h.status>=300){let y=new Error("Non 2xx");y.source=h,f(y);return}l?.({loaded:a,lengthComputable:!0});let m=h.getAllResponseHeaders().trim().split(/[\r\n]+/),v={__proto__:null};for(let y of m){let S=y.split(": "),_=S.shift(),w=S.join(": ");v[_]=w}let{etag:b,location:T}=v;if(o.toUpperCase()==="POST"&&T==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),b==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}u?.(b),c({...v,ETag:b})}),h.addEventListener("error",m=>{g();let v=new Error("Unknown error");v.source=m.target,f(v)}),h.send(s)})}install(){R(this,Ge)[Ge](!0),this.uppy.addPreProcessor(R(this,ir)[ir]),this.uppy.addUploader(R(this,Gi)[Gi]),this.uppy.on("cancel-all",R(this,Ji)[Ji])}uninstall(){this.uppy.removePreProcessor(R(this,ir)[ir]),this.uppy.removeUploader(R(this,Gi)[Gi]),this.uppy.off("cancel-all",R(this,Ji)[Ji])}};function AE(e){e==null||!("endpoint"in e||"companionUrl"in e||"headers"in e||"companionHeaders"in e||"cookiesRule"in e||"companionCookiesRule"in e)||("companionUrl"in e&&!("endpoint"in e)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in e&&!("headers"in e)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in e&&!("cookiesRule"in e)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in e?R(this,Q)[Q]=new qe(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule}):("headers"in e&&R(this,ir)[ir](),"cookiesRule"in e&&(R(this,Q)[Q].opts.companionCookiesRule=e.cookiesRule)))}function xE(e){if(!R(this,Q)[Q])throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${e}\` implementation.`)}async function OE(e){if(Tt(e?.signal),R(this,It)[It]==null){let{getTemporarySecurityCredentials:t}=this.opts;t===!0?(R(this,Bt)[Bt]("getTemporarySecurityCredentials"),R(this,It)[It]=R(this,Q)[Q].get("s3/sts",e).then(Lr)):R(this,It)[It]=t(e),R(this,It)[It]=await R(this,It)[It],setTimeout(()=>{R(this,It)[It]=null},(dh(R(this,It)[It].credentials)||0)*500)}return R(this,It)[It]}function CE(e){var t=this;return new Promise((n,r)=>{let i=(u,d)=>{var c;let f=this.uppy.getFile(e.id);this.uppy.emit("upload-progress",f,{uploadStarted:(c=f.progress.uploadStarted)!=null?c:0,bytesUploaded:u,bytesTotal:d})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",e,u),this.resetUploaderReferences(e.id),r(u)},s=u=>{let d={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(e.id),this.uppy.emit("upload-success",R(this,or)[or](e),d),u.location&&this.uppy.log(`Download ${e.name} from ${u.location}`),n()},a=new lh(e.data,{companionComm:R(this,rr)[rr],log:function(){return t.uppy.log(...arguments)},getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:i,onError:o,onSuccess:s,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",R(this,or)[or](e),u)},file:e,shouldUseMultipart:this.opts.shouldUseMultipart,...e.s3Multipart});this.uploaders[e.id]=a;let l=new Ii(this.uppy);this.uploaderEvents[e.id]=l,l.onFileRemove(e.id,u=>{a.abort(),this.resetUploaderReferences(e.id,{abort:!0}),n(`upload ${u} was removed`)}),l.onCancelAll(e.id,()=>{a.abort(),this.resetUploaderReferences(e.id,{abort:!0}),n(`upload ${e.id} was canceled`)}),l.onFilePause(e.id,u=>{u?a.pause():a.start()}),l.onPauseAll(e.id,()=>{a.pause()}),l.onResumeAll(e.id,()=>{a.start()}),a.start()})}function DE(e){var t;return{...(t=e.remote)==null?void 0:t.body,protocol:"s3-multipart",size:e.data.size,metadata:e.meta}}kr.VERSION=TE.version;function fh(e){e.querySelectorAll("[data-uppy]").forEach(t=>{let n=t.getAttribute("data-uppy-presign-url"),r=new ns({debug:!0,autoProceed:!0});r.use(Vn,{target:t.querySelector("[data-uppy-drag-drop]")}),r.use(qn,{target:t.querySelector("[data-uppy-status]")}),r.use(kr,{getUploadParameters(i){return fetch(n,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:i.name,content_type:i.type})}).then(o=>o.json()).then(o=>(r.setFileMeta(i.id,{object_id:o.object_id}),{method:"PUT",url:o.url,headers:{"Content-Type":i.type}}))}}),r.on("complete",i=>{i.successful.forEach(o=>{let s=document.createElement("input");s.type="hidden",s.name="files",s.value=JSON.stringify({object_id:o.meta.object_id,name:o.name,content_type:o.type,size:o.size}),t.appendChild(s)}),t.dispatchEvent(new Event("files-added"))})})}sr.logAll();sr.config.defaultFocusScroll=!0;sr.onLoad(mc);sr.onLoad(od);sr.onLoad(fh);})();
/*! For license information please see app-RDW74IBK.js.LEGAL.txt */
//# sourceMappingURL=app-RDW74IBK.js.map
