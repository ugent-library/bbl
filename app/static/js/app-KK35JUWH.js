(()=>{var jc=Object.create;var is=Object.defineProperty;var Bc=Object.getOwnPropertyDescriptor;var qc=Object.getOwnPropertyNames;var Vc=Object.getPrototypeOf,Wc=Object.prototype.hasOwnProperty;var K=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),zc=(t,e)=>{for(var r in e)is(t,r,{get:e[r],enumerable:!0})},Kc=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qc(e))!Wc.call(t,i)&&i!==r&&is(t,i,{get:()=>e[i],enumerable:!(n=Bc(e,i))||n.enumerable});return t};var Tt=(t,e,r)=>(r=t!=null?jc(Vc(t)):{},Kc(e||!t||!t.__esModule?is(r,"default",{value:t,enumerable:!0}):r,t));var Dl=K((Rw,Rl)=>{Rl.exports=function(){var e={},r=e._fns={};e.emit=function(o,a,l,u,d,c,p){var f=n(o);f.length&&i(o,f,[a,l,u,d,c,p])},e.on=function(o,a){r[o]||(r[o]=[]),r[o].push(a)},e.once=function(o,a){function l(){a.apply(this,arguments),e.off(o,l)}this.on(o,l)},e.off=function(o,a){var l=[];if(o&&a){var u=this._fns[o],d=0,c=u?u.length:0;for(d;d<c;d++)u[d]!==a&&l.push(u[d])}l.length?this._fns[o]=l:delete this._fns[o]};function n(s){var o=r[s]?r[s]:[],a=s.indexOf(":"),l=a===-1?[s]:[s.substring(0,a),s.substring(a+1)],u=Object.keys(r),d=0,c=u.length;for(d;d<c;d++){var p=u[d];if(p==="*"&&(o=o.concat(r[p])),l.length===2&&l[0]===p){o=o.concat(r[p]);break}}return o}function i(s,o,a){var l=0,u=o.length;for(l;l<u&&o[l];l++)o[l].event=s,o[l].apply(o[l],a)}return e}});var Oi=K((Lw,Il)=>{function Um(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Il.exports=Um});var kl=K((Iw,Fl)=>{var Hm=typeof global=="object"&&global&&global.Object===Object&&global;Fl.exports=Hm});var Vs=K((Fw,$l)=>{var jm=kl(),Bm=typeof self=="object"&&self&&self.Object===Object&&self,qm=jm||Bm||Function("return this")();$l.exports=qm});var Ul=K((kw,Ml)=>{var Vm=Vs(),Wm=function(){return Vm.Date.now()};Ml.exports=Wm});var jl=K(($w,Hl)=>{var zm=/\s/;function Km(t){for(var e=t.length;e--&&zm.test(t.charAt(e)););return e}Hl.exports=Km});var ql=K((Mw,Bl)=>{var Ym=jl(),Xm=/^\s+/;function Gm(t){return t&&t.slice(0,Ym(t)+1).replace(Xm,"")}Bl.exports=Gm});var Ws=K((Uw,Vl)=>{var Jm=Vs(),Qm=Jm.Symbol;Vl.exports=Qm});var Yl=K((Hw,Kl)=>{var Wl=Ws(),zl=Object.prototype,Zm=zl.hasOwnProperty,eg=zl.toString,ln=Wl?Wl.toStringTag:void 0;function tg(t){var e=Zm.call(t,ln),r=t[ln];try{t[ln]=void 0;var n=!0}catch{}var i=eg.call(t);return n&&(e?t[ln]=r:delete t[ln]),i}Kl.exports=tg});var Gl=K((jw,Xl)=>{var rg=Object.prototype,ng=rg.toString;function ig(t){return ng.call(t)}Xl.exports=ig});var eu=K((Bw,Zl)=>{var Jl=Ws(),sg=Yl(),og=Gl(),ag="[object Null]",lg="[object Undefined]",Ql=Jl?Jl.toStringTag:void 0;function ug(t){return t==null?t===void 0?lg:ag:Ql&&Ql in Object(t)?sg(t):og(t)}Zl.exports=ug});var ru=K((qw,tu)=>{function cg(t){return t!=null&&typeof t=="object"}tu.exports=cg});var iu=K((Vw,nu)=>{var dg=eu(),fg=ru(),pg="[object Symbol]";function hg(t){return typeof t=="symbol"||fg(t)&&dg(t)==pg}nu.exports=hg});var lu=K((Ww,au)=>{var mg=ql(),su=Oi(),gg=iu(),ou=NaN,vg=/^[-+]0x[0-9a-f]+$/i,_g=/^0b[01]+$/i,yg=/^0o[0-7]+$/i,Eg=parseInt;function bg(t){if(typeof t=="number")return t;if(gg(t))return ou;if(su(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=su(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=mg(t);var r=_g.test(t);return r||yg.test(t)?Eg(t.slice(2),r?2:8):vg.test(t)?ou:+t}au.exports=bg});var du=K((zw,cu)=>{var wg=Oi(),zs=Ul(),uu=lu(),Sg="Expected a function",Tg=Math.max,Ag=Math.min;function xg(t,e,r){var n,i,s,o,a,l,u=0,d=!1,c=!1,p=!0;if(typeof t!="function")throw new TypeError(Sg);e=uu(e)||0,wg(r)&&(d=!!r.leading,c="maxWait"in r,s=c?Tg(uu(r.maxWait)||0,e):s,p="trailing"in r?!!r.trailing:p);function f(E){var S=n,C=i;return n=i=void 0,u=E,o=t.apply(C,S),o}function h(E){return u=E,a=setTimeout(m,e),d?f(E):o}function g(E){var S=E-l,C=E-u,L=e-S;return c?Ag(L,s-C):L}function v(E){var S=E-l,C=E-u;return l===void 0||S>=e||S<0||c&&C>=s}function m(){var E=zs();if(v(E))return w(E);a=setTimeout(m,g(E))}function w(E){return a=void 0,p&&n?f(E):(n=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),u=0,n=l=i=a=void 0}function y(){return a===void 0?o:w(zs())}function O(){var E=zs(),S=v(E);if(n=arguments,i=this,l=E,S){if(a===void 0)return h(l);if(c)return clearTimeout(a),a=setTimeout(m,e),f(l)}return a===void 0&&(a=setTimeout(m,e)),o}return O.cancel=x,O.flush=y,O}cu.exports=xg});var pu=K((Kw,fu)=>{var Cg=du(),Og=Oi(),Pg="Expected a function";function Ng(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Pg);return Og(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Cg(t,e,{leading:n,maxWait:e,trailing:i})}fu.exports=Ng});var Qs=K((aS,bu)=>{"use strict";bu.exports=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);let r=e<0,n=Math.abs(e);if(r&&(n=-n),n===0)return"0 B";let i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.min(Math.floor(Math.log(n)/Math.log(1024)),i.length-1),o=Number(n/1024**s),a=i[s];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${a}`}});var Tu=K((lS,Su)=>{"use strict";function wu(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}wu.prototype.match=function(t){var e=!0,r=this.parts,n,i=r.length,s;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(s=(t||"").split(this.separator),n=0;e&&n<i;n++)r[n]!=="*"&&(n<s.length?e=r[n]===s[n]:e=!1);e=e&&s}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};Su.exports=function(t,e,r){var n=new wu(t,r||/[\/\.]/);return typeof e<"u"?n.match(e):n}});var xu=K((uS,Au)=>{var kg=Tu(),$g=/[\/\+\.]/;Au.exports=function(t,e){function r(n){var i=kg(n,t,$g);return i&&i.length>=2}return e?r(e.split(";")[0]):r}});var yo=K((lT,zi)=>{(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var i="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(i=n(i,r(o)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return e.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var o in i)t.call(i,o)&&i[o]&&(s=n(s,o));return s}function n(i,s){return s?i?i+" "+s:i+s:i}typeof zi<"u"&&zi.exports?(e.default=e,zi.exports=e):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var hc=K((LT,pc)=>{function Ye(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}pc.exports=Ye;Ye.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Ye.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Ye.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Ye.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Ye.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Ye.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Ye.prototype.start=Ye.prototype.try;Ye.prototype.errors=function(){return this._errors};Ye.prototype.attempts=function(){return this._attempts};Ye.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=i,r=o)}return e}});var mc=K(ir=>{var Cv=hc();ir.operation=function(t){var e=ir.timeouts(t);return new Cv(e,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})};ir.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<e.retries;i++)n.push(this.createTimeout(i,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(i,e)),n.sort(function(s,o){return s-o}),n};ir.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*Math.max(e.minTimeout,1)*Math.pow(e.factor,t));return n=Math.min(n,e.maxTimeout),n};ir.wrap=function(t,e,r){if(e instanceof Array&&(r=e,e=null),!r){r=[];for(var n in t)typeof t[n]=="function"&&r.push(n)}for(var i=0;i<r.length;i++){var s=r[i],o=t[s];t[s]=function(l){var u=ir.operation(e),d=Array.prototype.slice.call(arguments,1),c=d.pop();d.push(function(p){u.retry(p)||(p&&(arguments[0]=u.mainError()),c.apply(this,arguments))}),u.attempt(function(){l.apply(t,d)})}.bind(t,o),t[s].options=e}}});var vc=K((FT,gc)=>{gc.exports=mc()});var Yc=function(){"use strict";let htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(t,e){return getInputValues(t,e||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0},parseInterval:null,_:null,version:"2.0.4"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;let internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(t){return"[hx-"+t+"], [data-hx-"+t+"]"}).join(", ");function parseInterval(t){if(t==null)return;let e=NaN;return t.slice(-2)=="ms"?e=parseFloat(t.slice(0,-2)):t.slice(-1)=="s"?e=parseFloat(t.slice(0,-1))*1e3:t.slice(-1)=="m"?e=parseFloat(t.slice(0,-1))*1e3*60:e=parseFloat(t),isNaN(e)?void 0:e}function getRawAttribute(t,e){return t instanceof Element&&t.getAttribute(e)}function hasAttribute(t,e){return!!t.hasAttribute&&(t.hasAttribute(e)||t.hasAttribute("data-"+e))}function getAttributeValue(t,e){return getRawAttribute(t,e)||getRawAttribute(t,"data-"+e)}function parentElt(t){let e=t.parentElement;return!e&&t.parentNode instanceof ShadowRoot?t.parentNode:e}function getDocument(){return document}function getRootNode(t,e){return t.getRootNode?t.getRootNode({composed:e}):getDocument()}function getClosestMatch(t,e){for(;t&&!e(t);)t=parentElt(t);return t||null}function getAttributeValueWithDisinheritance(t,e,r){let n=getAttributeValue(e,r),i=getAttributeValue(e,"hx-disinherit");var s=getAttributeValue(e,"hx-inherit");if(t!==e){if(htmx.config.disableInheritance)return s&&(s==="*"||s.split(" ").indexOf(r)>=0)?n:null;if(i&&(i==="*"||i.split(" ").indexOf(r)>=0))return"unset"}return n}function getClosestAttributeValue(t,e){let r=null;if(getClosestMatch(t,function(n){return!!(r=getAttributeValueWithDisinheritance(t,asElement(n),e))}),r!=="unset")return r}function matches(t,e){let r=t instanceof Element&&(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector);return!!r&&r.call(t,e)}function getStartTag(t){let r=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(t);return r?r[1].toLowerCase():""}function parseHTML(t){return new DOMParser().parseFromString(t,"text/html")}function takeChildrenFor(t,e){for(;e.childNodes.length>0;)t.append(e.childNodes[0])}function duplicateScript(t){let e=getDocument().createElement("script");return forEach(t.attributes,function(r){e.setAttribute(r.name,r.value)}),e.textContent=t.textContent,e.async=!1,htmx.config.inlineScriptNonce&&(e.nonce=htmx.config.inlineScriptNonce),e}function isJavaScriptScriptNode(t){return t.matches("script")&&(t.type==="text/javascript"||t.type==="module"||t.type==="")}function normalizeScriptTags(t){Array.from(t.querySelectorAll("script")).forEach(e=>{if(isJavaScriptScriptNode(e)){let r=duplicateScript(e),n=e.parentNode;try{n.insertBefore(r,e)}catch(i){logError(i)}finally{e.remove()}}})}function makeFragment(t){let e=t.replace(/<head(\s[^>]*)?>[\s\S]*?<\/head>/i,""),r=getStartTag(e),n;if(r==="html"){n=new DocumentFragment;let s=parseHTML(t);takeChildrenFor(n,s.body),n.title=s.title}else if(r==="body"){n=new DocumentFragment;let s=parseHTML(e);takeChildrenFor(n,s.body),n.title=s.title}else{let s=parseHTML('<body><template class="internal-htmx-wrapper">'+e+"</template></body>");n=s.querySelector("template").content,n.title=s.title;var i=n.querySelector("title");i&&i.parentNode===n&&(i.remove(),n.title=i.innerText)}return n&&(htmx.config.allowScriptTags?normalizeScriptTags(n):n.querySelectorAll("script").forEach(s=>s.remove())),n}function maybeCall(t){t&&t()}function isType(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function isFunction(t){return typeof t=="function"}function isRawObject(t){return isType(t,"Object")}function getInternalData(t){let e="htmx-internal-data",r=t[e];return r||(r=t[e]={}),r}function toArray(t){let e=[];if(t)for(let r=0;r<t.length;r++)e.push(t[r]);return e}function forEach(t,e){if(t)for(let r=0;r<t.length;r++)e(t[r])}function isScrolledIntoView(t){let e=t.getBoundingClientRect(),r=e.top,n=e.bottom;return r<window.innerHeight&&n>=0}function bodyContains(t){return t.getRootNode({composed:!0})===document}function splitOnWhitespace(t){return t.trim().split(/\s+/)}function mergeObjects(t,e){for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function parseJSON(t){try{return JSON.parse(t)}catch(e){return logError(e),null}}function canAccessLocalStorage(){let t="htmx:localStorageTest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function normalizePath(t){try{let e=new URL(t);return e&&(t=e.pathname+e.search),/^\/$/.test(t)||(t=t.replace(/\/+$/,"")),t}catch{return t}}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(t){return htmx.on("htmx:load",function(r){t(r.detail.elt)})}function logAll(){htmx.logger=function(t,e,r){console&&console.log(e,t,r)}}function logNone(){htmx.logger=null}function find(t,e){return typeof t!="string"?t.querySelector(e):find(getDocument(),t)}function findAll(t,e){return typeof t!="string"?t.querySelectorAll(e):findAll(getDocument(),t)}function getWindow(){return window}function removeElement(t,e){t=resolveTarget(t),e?getWindow().setTimeout(function(){removeElement(t),t=null},e):parentElt(t).removeChild(t)}function asElement(t){return t instanceof Element?t:null}function asHtmlElement(t){return t instanceof HTMLElement?t:null}function asString(t){return typeof t=="string"?t:null}function asParentNode(t){return t instanceof Element||t instanceof Document||t instanceof DocumentFragment?t:null}function addClassToElement(t,e,r){t=asElement(resolveTarget(t)),t&&(r?getWindow().setTimeout(function(){addClassToElement(t,e),t=null},r):t.classList&&t.classList.add(e))}function removeClassFromElement(t,e,r){let n=asElement(resolveTarget(t));n&&(r?getWindow().setTimeout(function(){removeClassFromElement(n,e),n=null},r):n.classList&&(n.classList.remove(e),n.classList.length===0&&n.removeAttribute("class")))}function toggleClassOnElement(t,e){t=resolveTarget(t),t.classList.toggle(e)}function takeClassForElement(t,e){t=resolveTarget(t),forEach(t.parentElement.children,function(r){removeClassFromElement(r,e)}),addClassToElement(asElement(t),e)}function closest(t,e){if(t=asElement(resolveTarget(t)),t&&t.closest)return t.closest(e);do if(t==null||matches(t,e))return t;while(t=t&&asElement(parentElt(t)));return null}function startsWith(t,e){return t.substring(0,e.length)===e}function endsWith(t,e){return t.substring(t.length-e.length)===e}function normalizeSelector(t){let e=t.trim();return startsWith(e,"<")&&endsWith(e,"/>")?e.substring(1,e.length-2):e}function querySelectorAllExt(t,e,r){if(e.indexOf("global ")===0)return querySelectorAllExt(t,e.slice(7),!0);t=resolveTarget(t);let n=[];{let o=0,a=0;for(let l=0;l<e.length;l++){let u=e[l];if(u===","&&o===0){n.push(e.substring(a,l)),a=l+1;continue}u==="<"?o++:u==="/"&&l<e.length-1&&e[l+1]===">"&&o--}a<e.length&&n.push(e.substring(a))}let i=[],s=[];for(;n.length>0;){let o=normalizeSelector(n.shift()),a;o.indexOf("closest ")===0?a=closest(asElement(t),normalizeSelector(o.substr(8))):o.indexOf("find ")===0?a=find(asParentNode(t),normalizeSelector(o.substr(5))):o==="next"||o==="nextElementSibling"?a=asElement(t).nextElementSibling:o.indexOf("next ")===0?a=scanForwardQuery(t,normalizeSelector(o.substr(5)),!!r):o==="previous"||o==="previousElementSibling"?a=asElement(t).previousElementSibling:o.indexOf("previous ")===0?a=scanBackwardsQuery(t,normalizeSelector(o.substr(9)),!!r):o==="document"?a=document:o==="window"?a=window:o==="body"?a=document.body:o==="root"?a=getRootNode(t,!!r):o==="host"?a=t.getRootNode().host:s.push(o),a&&i.push(a)}if(s.length>0){let o=s.join(","),a=asParentNode(getRootNode(t,!!r));i.push(...toArray(a.querySelectorAll(o)))}return i}var scanForwardQuery=function(t,e,r){let n=asParentNode(getRootNode(t,r)).querySelectorAll(e);for(let i=0;i<n.length;i++){let s=n[i];if(s.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_PRECEDING)return s}},scanBackwardsQuery=function(t,e,r){let n=asParentNode(getRootNode(t,r)).querySelectorAll(e);for(let i=n.length-1;i>=0;i--){let s=n[i];if(s.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_FOLLOWING)return s}};function querySelectorExt(t,e){return typeof t!="string"?querySelectorAllExt(t,e)[0]:querySelectorAllExt(getDocument().body,t)[0]}function resolveTarget(t,e){return typeof t=="string"?find(asParentNode(e)||document,t):t}function processEventArgs(t,e,r,n){return isFunction(e)?{target:getDocument().body,event:asString(t),listener:e,options:r}:{target:resolveTarget(t),event:asString(e),listener:r,options:n}}function addEventListenerImpl(t,e,r,n){return ready(function(){let s=processEventArgs(t,e,r,n);s.target.addEventListener(s.event,s.listener,s.options)}),isFunction(e)?e:r}function removeEventListenerImpl(t,e,r){return ready(function(){let n=processEventArgs(t,e,r);n.target.removeEventListener(n.event,n.listener)}),isFunction(e)?e:r}let DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(t,e){let r=getClosestAttributeValue(t,e);if(r){if(r==="this")return[findThisElement(t,e)];{let n=querySelectorAllExt(t,r);return n.length===0?(logError('The selector "'+r+'" on '+e+" returned no matches!"),[DUMMY_ELT]):n}}}function findThisElement(t,e){return asElement(getClosestMatch(t,function(r){return getAttributeValue(asElement(r),e)!=null}))}function getTarget(t){let e=getClosestAttributeValue(t,"hx-target");return e?e==="this"?findThisElement(t,"hx-target"):querySelectorExt(t,e):getInternalData(t).boosted?getDocument().body:t}function shouldSettleAttribute(t){let e=htmx.config.attributesToSettle;for(let r=0;r<e.length;r++)if(t===e[r])return!0;return!1}function cloneAttributes(t,e){forEach(t.attributes,function(r){!e.hasAttribute(r.name)&&shouldSettleAttribute(r.name)&&t.removeAttribute(r.name)}),forEach(e.attributes,function(r){shouldSettleAttribute(r.name)&&t.setAttribute(r.name,r.value)})}function isInlineSwap(t,e){let r=getExtensions(e);for(let n=0;n<r.length;n++){let i=r[n];try{if(i.isInlineSwap(t))return!0}catch(s){logError(s)}}return t==="outerHTML"}function oobSwap(t,e,r,n){n=n||getDocument();let i="#"+getRawAttribute(e,"id"),s="outerHTML";t==="true"||(t.indexOf(":")>0?(s=t.substring(0,t.indexOf(":")),i=t.substring(t.indexOf(":")+1)):s=t),e.removeAttribute("hx-swap-oob"),e.removeAttribute("data-hx-swap-oob");let o=querySelectorAllExt(n,i,!1);return o?(forEach(o,function(a){let l,u=e.cloneNode(!0);l=getDocument().createDocumentFragment(),l.appendChild(u),isInlineSwap(s,a)||(l=asParentNode(u));let d={shouldSwap:!0,target:a,fragment:l};triggerEvent(a,"htmx:oobBeforeSwap",d)&&(a=d.target,d.shouldSwap&&(handlePreservedElements(l),swapWithStyle(s,a,a,l,r),restorePreservedElements()),forEach(r.elts,function(c){triggerEvent(c,"htmx:oobAfterSwap",d)}))}),e.parentNode.removeChild(e)):(e.parentNode.removeChild(e),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:e})),t}function restorePreservedElements(){let t=find("#--htmx-preserve-pantry--");if(t){for(let e of[...t.children]){let r=find("#"+e.id);r.parentNode.moveBefore(e,r),r.remove()}t.remove()}}function handlePreservedElements(t){forEach(findAll(t,"[hx-preserve], [data-hx-preserve]"),function(e){let r=getAttributeValue(e,"id"),n=getDocument().getElementById(r);if(n!=null)if(e.moveBefore){let i=find("#--htmx-preserve-pantry--");i==null&&(getDocument().body.insertAdjacentHTML("afterend","<div id='--htmx-preserve-pantry--'></div>"),i=find("#--htmx-preserve-pantry--")),i.moveBefore(n,null)}else e.parentNode.replaceChild(n,e)})}function handleAttributes(t,e,r){forEach(e.querySelectorAll("[id]"),function(n){let i=getRawAttribute(n,"id");if(i&&i.length>0){let s=i.replace("'","\\'"),o=n.tagName.replace(":","\\:"),a=asParentNode(t),l=a&&a.querySelector(o+"[id='"+s+"']");if(l&&l!==a){let u=n.cloneNode();cloneAttributes(n,l),r.tasks.push(function(){cloneAttributes(n,u)})}}})}function makeAjaxLoadTask(t){return function(){removeClassFromElement(t,htmx.config.addedClass),processNode(asElement(t)),processFocus(asParentNode(t)),triggerEvent(t,"htmx:load")}}function processFocus(t){let e="[autofocus]",r=asHtmlElement(matches(t,e)?t:t.querySelector(e));r?.focus()}function insertNodesBefore(t,e,r,n){for(handleAttributes(t,r,n);r.childNodes.length>0;){let i=r.firstChild;addClassToElement(asElement(i),htmx.config.addedClass),t.insertBefore(i,e),i.nodeType!==Node.TEXT_NODE&&i.nodeType!==Node.COMMENT_NODE&&n.tasks.push(makeAjaxLoadTask(i))}}function stringHash(t,e){let r=0;for(;r<t.length;)e=(e<<5)-e+t.charCodeAt(r++)|0;return e}function attributeHash(t){let e=0;if(t.attributes)for(let r=0;r<t.attributes.length;r++){let n=t.attributes[r];n.value&&(e=stringHash(n.name,e),e=stringHash(n.value,e))}return e}function deInitOnHandlers(t){let e=getInternalData(t);if(e.onHandlers){for(let r=0;r<e.onHandlers.length;r++){let n=e.onHandlers[r];removeEventListenerImpl(t,n.event,n.listener)}delete e.onHandlers}}function deInitNode(t){let e=getInternalData(t);e.timeout&&clearTimeout(e.timeout),e.listenerInfos&&forEach(e.listenerInfos,function(r){r.on&&removeEventListenerImpl(r.on,r.trigger,r.listener)}),deInitOnHandlers(t),forEach(Object.keys(e),function(r){r!=="firstInitCompleted"&&delete e[r]})}function cleanUpElement(t){triggerEvent(t,"htmx:beforeCleanupElement"),deInitNode(t),t.children&&forEach(t.children,function(e){cleanUpElement(e)})}function swapOuterHTML(t,e,r){if(t instanceof Element&&t.tagName==="BODY")return swapInnerHTML(t,e,r);let n,i=t.previousSibling,s=parentElt(t);if(s){for(insertNodesBefore(s,t,e,r),i==null?n=s.firstChild:n=i.nextSibling,r.elts=r.elts.filter(function(o){return o!==t});n&&n!==t;)n instanceof Element&&r.elts.push(n),n=n.nextSibling;cleanUpElement(t),t instanceof Element?t.remove():t.parentNode.removeChild(t)}}function swapAfterBegin(t,e,r){return insertNodesBefore(t,t.firstChild,e,r)}function swapBeforeBegin(t,e,r){return insertNodesBefore(parentElt(t),t,e,r)}function swapBeforeEnd(t,e,r){return insertNodesBefore(t,null,e,r)}function swapAfterEnd(t,e,r){return insertNodesBefore(parentElt(t),t.nextSibling,e,r)}function swapDelete(t){cleanUpElement(t);let e=parentElt(t);if(e)return e.removeChild(t)}function swapInnerHTML(t,e,r){let n=t.firstChild;if(insertNodesBefore(t,n,e,r),n){for(;n.nextSibling;)cleanUpElement(n.nextSibling),t.removeChild(n.nextSibling);cleanUpElement(n),t.removeChild(n)}}function swapWithStyle(t,e,r,n,i){switch(t){case"none":return;case"outerHTML":swapOuterHTML(r,n,i);return;case"afterbegin":swapAfterBegin(r,n,i);return;case"beforebegin":swapBeforeBegin(r,n,i);return;case"beforeend":swapBeforeEnd(r,n,i);return;case"afterend":swapAfterEnd(r,n,i);return;case"delete":swapDelete(r);return;default:var s=getExtensions(e);for(let o=0;o<s.length;o++){let a=s[o];try{let l=a.handleSwap(t,r,n,i);if(l){if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];d.nodeType!==Node.TEXT_NODE&&d.nodeType!==Node.COMMENT_NODE&&i.tasks.push(makeAjaxLoadTask(d))}return}}catch(l){logError(l)}}t==="innerHTML"?swapInnerHTML(r,n,i):swapWithStyle(htmx.config.defaultSwapStyle,e,r,n,i)}}function findAndSwapOobElements(t,e,r){var n=findAll(t,"[hx-swap-oob], [data-hx-swap-oob]");return forEach(n,function(i){if(htmx.config.allowNestedOobSwaps||i.parentElement===null){let s=getAttributeValue(i,"hx-swap-oob");s!=null&&oobSwap(s,i,e,r)}else i.removeAttribute("hx-swap-oob"),i.removeAttribute("data-hx-swap-oob")}),n.length>0}function swap(t,e,r,n){n||(n={}),t=resolveTarget(t);let i=n.contextElement?getRootNode(n.contextElement,!1):getDocument(),s=document.activeElement,o={};try{o={elt:s,start:s?s.selectionStart:null,end:s?s.selectionEnd:null}}catch{}let a=makeSettleInfo(t);if(r.swapStyle==="textContent")t.textContent=e;else{let u=makeFragment(e);if(a.title=u.title,n.selectOOB){let d=n.selectOOB.split(",");for(let c=0;c<d.length;c++){let p=d[c].split(":",2),f=p[0].trim();f.indexOf("#")===0&&(f=f.substring(1));let h=p[1]||"true",g=u.querySelector("#"+f);g&&oobSwap(h,g,a,i)}}if(findAndSwapOobElements(u,a,i),forEach(findAll(u,"template"),function(d){d.content&&findAndSwapOobElements(d.content,a,i)&&d.remove()}),n.select){let d=getDocument().createDocumentFragment();forEach(u.querySelectorAll(n.select),function(c){d.appendChild(c)}),u=d}handlePreservedElements(u),swapWithStyle(r.swapStyle,n.contextElement,t,u,a),restorePreservedElements()}if(o.elt&&!bodyContains(o.elt)&&getRawAttribute(o.elt,"id")){let u=document.getElementById(getRawAttribute(o.elt,"id")),d={preventScroll:r.focusScroll!==void 0?!r.focusScroll:!htmx.config.defaultFocusScroll};if(u){if(o.start&&u.setSelectionRange)try{u.setSelectionRange(o.start,o.end)}catch{}u.focus(d)}}t.classList.remove(htmx.config.swappingClass),forEach(a.elts,function(u){u.classList&&u.classList.add(htmx.config.settlingClass),triggerEvent(u,"htmx:afterSwap",n.eventInfo)}),n.afterSwapCallback&&n.afterSwapCallback(),r.ignoreTitle||handleTitle(a.title);let l=function(){if(forEach(a.tasks,function(u){u.call()}),forEach(a.elts,function(u){u.classList&&u.classList.remove(htmx.config.settlingClass),triggerEvent(u,"htmx:afterSettle",n.eventInfo)}),n.anchor){let u=asElement(resolveTarget("#"+n.anchor));u&&u.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(a.elts,r),n.afterSettleCallback&&n.afterSettleCallback()};r.settleDelay>0?getWindow().setTimeout(l,r.settleDelay):l()}function handleTriggerHeader(t,e,r){let n=t.getResponseHeader(e);if(n.indexOf("{")===0){let i=parseJSON(n);for(let s in i)if(i.hasOwnProperty(s)){let o=i[s];isRawObject(o)?r=o.target!==void 0?o.target:r:o={value:o},triggerEvent(r,s,o)}}else{let i=n.split(",");for(let s=0;s<i.length;s++)triggerEvent(r,i[s].trim(),[])}}let WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(t){let e=[],r=0;for(;r<t.length;){if(SYMBOL_START.exec(t.charAt(r))){for(var n=r;SYMBOL_CONT.exec(t.charAt(r+1));)r++;e.push(t.substring(n,r+1))}else if(STRINGISH_START.indexOf(t.charAt(r))!==-1){let i=t.charAt(r);var n=r;for(r++;r<t.length&&t.charAt(r)!==i;)t.charAt(r)==="\\"&&r++,r++;e.push(t.substring(n,r+1))}else{let i=t.charAt(r);e.push(i)}r++}return e}function isPossibleRelativeReference(t,e,r){return SYMBOL_START.exec(t.charAt(0))&&t!=="true"&&t!=="false"&&t!=="this"&&t!==r&&e!=="."}function maybeGenerateConditional(t,e,r){if(e[0]==="["){e.shift();let n=1,i=" return (function("+r+"){ return (",s=null;for(;e.length>0;){let o=e[0];if(o==="]"){if(n--,n===0){s===null&&(i=i+"true"),e.shift(),i+=")})";try{let a=maybeEval(t,function(){return Function(i)()},function(){return!0});return a.source=i,a}catch(a){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:a,source:i}),null}}}else o==="["&&n++;isPossibleRelativeReference(o,s,r)?i+="(("+r+"."+o+") ? ("+r+"."+o+") : (window."+o+"))":i=i+o,s=e.shift()}}}function consumeUntil(t,e){let r="";for(;t.length>0&&!e.test(t[0]);)r+=t.shift();return r}function consumeCSSSelector(t){let e;return t.length>0&&COMBINED_SELECTOR_START.test(t[0])?(t.shift(),e=consumeUntil(t,COMBINED_SELECTOR_END).trim(),t.shift()):e=consumeUntil(t,WHITESPACE_OR_COMMA),e}let INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(t,e,r){let n=[],i=tokenizeString(e);do{consumeUntil(i,NOT_WHITESPACE);let a=i.length,l=consumeUntil(i,/[,\[\s]/);if(l!=="")if(l==="every"){let u={trigger:"every"};consumeUntil(i,NOT_WHITESPACE),u.pollInterval=parseInterval(consumeUntil(i,/[,\[\s]/)),consumeUntil(i,NOT_WHITESPACE);var s=maybeGenerateConditional(t,i,"event");s&&(u.eventFilter=s),n.push(u)}else{let u={trigger:l};var s=maybeGenerateConditional(t,i,"event");for(s&&(u.eventFilter=s),consumeUntil(i,NOT_WHITESPACE);i.length>0&&i[0]!==",";){let c=i.shift();if(c==="changed")u.changed=!0;else if(c==="once")u.once=!0;else if(c==="consume")u.consume=!0;else if(c==="delay"&&i[0]===":")i.shift(),u.delay=parseInterval(consumeUntil(i,WHITESPACE_OR_COMMA));else if(c==="from"&&i[0]===":"){if(i.shift(),COMBINED_SELECTOR_START.test(i[0]))var o=consumeCSSSelector(i);else{var o=consumeUntil(i,WHITESPACE_OR_COMMA);if(o==="closest"||o==="find"||o==="next"||o==="previous"){i.shift();let f=consumeCSSSelector(i);f.length>0&&(o+=" "+f)}}u.from=o}else c==="target"&&i[0]===":"?(i.shift(),u.target=consumeCSSSelector(i)):c==="throttle"&&i[0]===":"?(i.shift(),u.throttle=parseInterval(consumeUntil(i,WHITESPACE_OR_COMMA))):c==="queue"&&i[0]===":"?(i.shift(),u.queue=consumeUntil(i,WHITESPACE_OR_COMMA)):c==="root"&&i[0]===":"?(i.shift(),u[c]=consumeCSSSelector(i)):c==="threshold"&&i[0]===":"?(i.shift(),u[c]=consumeUntil(i,WHITESPACE_OR_COMMA)):triggerErrorEvent(t,"htmx:syntax:error",{token:i.shift()});consumeUntil(i,NOT_WHITESPACE)}n.push(u)}i.length===a&&triggerErrorEvent(t,"htmx:syntax:error",{token:i.shift()}),consumeUntil(i,NOT_WHITESPACE)}while(i[0]===","&&i.shift());return r&&(r[e]=n),n}function getTriggerSpecs(t){let e=getAttributeValue(t,"hx-trigger"),r=[];if(e){let n=htmx.config.triggerSpecsCache;r=n&&n[e]||parseAndCacheTrigger(t,e,n)}return r.length>0?r:matches(t,"form")?[{trigger:"submit"}]:matches(t,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(t,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(t){getInternalData(t).cancelled=!0}function processPolling(t,e,r){let n=getInternalData(t);n.timeout=getWindow().setTimeout(function(){bodyContains(t)&&n.cancelled!==!0&&(maybeFilterEvent(r,t,makeEvent("hx:poll:trigger",{triggerSpec:r,target:t}))||e(t),processPolling(t,e,r))},r.pollInterval)}function isLocalLink(t){return location.hostname===t.hostname&&getRawAttribute(t,"href")&&getRawAttribute(t,"href").indexOf("#")!==0}function eltIsDisabled(t){return closest(t,htmx.config.disableSelector)}function boostElement(t,e,r){if(t instanceof HTMLAnchorElement&&isLocalLink(t)&&(t.target===""||t.target==="_self")||t.tagName==="FORM"&&String(getRawAttribute(t,"method")).toLowerCase()!=="dialog"){e.boosted=!0;let n,i;if(t.tagName==="A")n="get",i=getRawAttribute(t,"href");else{let s=getRawAttribute(t,"method");n=s?s.toLowerCase():"get",i=getRawAttribute(t,"action"),(i==null||i==="")&&(i=getDocument().location.href),n==="get"&&i.includes("?")&&(i=i.replace(/\?[^#]+/,""))}r.forEach(function(s){addEventListener(t,function(o,a){let l=asElement(o);if(eltIsDisabled(l)){cleanUpElement(l);return}issueAjaxRequest(n,i,l,a)},e,s,!0)})}}function shouldCancel(t,e){let r=asElement(e);return r?!!((t.type==="submit"||t.type==="click")&&(r.tagName==="FORM"||matches(r,'input[type="submit"], button')&&(matches(r,"[form]")||closest(r,"form")!==null)||r instanceof HTMLAnchorElement&&r.href&&(r.getAttribute("href")==="#"||r.getAttribute("href").indexOf("#")!==0))):!1}function ignoreBoostedAnchorCtrlClick(t,e){return getInternalData(t).boosted&&t instanceof HTMLAnchorElement&&e.type==="click"&&(e.ctrlKey||e.metaKey)}function maybeFilterEvent(t,e,r){let n=t.eventFilter;if(n)try{return n.call(e,r)!==!0}catch(i){let s=n.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:i,source:s}),!0}return!1}function addEventListener(t,e,r,n,i){let s=getInternalData(t),o;n.from?o=querySelectorAllExt(t,n.from):o=[t],n.changed&&("lastValue"in s||(s.lastValue=new WeakMap),o.forEach(function(a){s.lastValue.has(n)||s.lastValue.set(n,new WeakMap),s.lastValue.get(n).set(a,a.value)})),forEach(o,function(a){let l=function(u){if(!bodyContains(t)){a.removeEventListener(n.trigger,l);return}if(ignoreBoostedAnchorCtrlClick(t,u)||((i||shouldCancel(u,t))&&u.preventDefault(),maybeFilterEvent(n,t,u)))return;let d=getInternalData(u);if(d.triggerSpec=n,d.handledFor==null&&(d.handledFor=[]),d.handledFor.indexOf(t)<0){if(d.handledFor.push(t),n.consume&&u.stopPropagation(),n.target&&u.target&&!matches(asElement(u.target),n.target))return;if(n.once){if(s.triggeredOnce)return;s.triggeredOnce=!0}if(n.changed){let c=event.target,p=c.value,f=s.lastValue.get(n);if(f.has(c)&&f.get(c)===p)return;f.set(c,p)}if(s.delayed&&clearTimeout(s.delayed),s.throttle)return;n.throttle>0?s.throttle||(triggerEvent(t,"htmx:trigger"),e(t,u),s.throttle=getWindow().setTimeout(function(){s.throttle=null},n.throttle)):n.delay>0?s.delayed=getWindow().setTimeout(function(){triggerEvent(t,"htmx:trigger"),e(t,u)},n.delay):(triggerEvent(t,"htmx:trigger"),e(t,u))}};r.listenerInfos==null&&(r.listenerInfos=[]),r.listenerInfos.push({trigger:n.trigger,listener:l,on:a}),a.addEventListener(n.trigger,l)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),window.addEventListener("resize",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(t){maybeReveal(t)}))},200))}function maybeReveal(t){!hasAttribute(t,"data-hx-revealed")&&isScrolledIntoView(t)&&(t.setAttribute("data-hx-revealed","true"),getInternalData(t).initHash?triggerEvent(t,"revealed"):t.addEventListener("htmx:afterProcessNode",function(){triggerEvent(t,"revealed")},{once:!0}))}function loadImmediately(t,e,r,n){let i=function(){r.loaded||(r.loaded=!0,triggerEvent(t,"htmx:trigger"),e(t))};n>0?getWindow().setTimeout(i,n):i()}function processVerbs(t,e,r){let n=!1;return forEach(VERBS,function(i){if(hasAttribute(t,"hx-"+i)){let s=getAttributeValue(t,"hx-"+i);n=!0,e.path=s,e.verb=i,r.forEach(function(o){addTriggerHandler(t,o,e,function(a,l){let u=asElement(a);if(closest(u,htmx.config.disableSelector)){cleanUpElement(u);return}issueAjaxRequest(i,s,u,l)})})}}),n}function addTriggerHandler(t,e,r,n){if(e.trigger==="revealed")initScrollHandler(),addEventListener(t,n,r,e),maybeReveal(asElement(t));else if(e.trigger==="intersect"){let i={};e.root&&(i.root=querySelectorExt(t,e.root)),e.threshold&&(i.threshold=parseFloat(e.threshold)),new IntersectionObserver(function(o){for(let a=0;a<o.length;a++)if(o[a].isIntersecting){triggerEvent(t,"intersect");break}},i).observe(asElement(t)),addEventListener(asElement(t),n,r,e)}else!r.firstInitCompleted&&e.trigger==="load"?maybeFilterEvent(e,t,makeEvent("load",{elt:t}))||loadImmediately(asElement(t),n,r,e.delay):e.pollInterval>0?(r.polling=!0,processPolling(asElement(t),n,e)):addEventListener(t,n,r,e)}function shouldProcessHxOn(t){let e=asElement(t);if(!e)return!1;let r=e.attributes;for(let n=0;n<r.length;n++){let i=r[n].name;if(startsWith(i,"hx-on:")||startsWith(i,"data-hx-on:")||startsWith(i,"hx-on-")||startsWith(i,"data-hx-on-"))return!0}return!1}let HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(t,e){shouldProcessHxOn(t)&&e.push(asElement(t));let r=HX_ON_QUERY.evaluate(t),n=null;for(;n=r.iterateNext();)e.push(asElement(n))}function findHxOnWildcardElements(t){let e=[];if(t instanceof DocumentFragment)for(let r of t.childNodes)processHXOnRoot(r,e);else processHXOnRoot(t,e);return e}function findElementsToProcess(t){if(t.querySelectorAll){let r=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",n=[];for(let s in extensions){let o=extensions[s];if(o.getSelectors){var e=o.getSelectors();e&&n.push(e)}}return t.querySelectorAll(VERB_SELECTOR+r+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+n.flat().map(s=>", "+s).join(""))}else return[]}function maybeSetLastButtonClicked(t){let e=closest(asElement(t.target),"button, input[type='submit']"),r=getRelatedFormData(t);r&&(r.lastButtonClicked=e)}function maybeUnsetLastButtonClicked(t){let e=getRelatedFormData(t);e&&(e.lastButtonClicked=null)}function getRelatedFormData(t){let e=closest(asElement(t.target),"button, input[type='submit']");if(!e)return;let r=resolveTarget("#"+getRawAttribute(e,"form"),e.getRootNode())||closest(e,"form");if(r)return getInternalData(r)}function initButtonTracking(t){t.addEventListener("click",maybeSetLastButtonClicked),t.addEventListener("focusin",maybeSetLastButtonClicked),t.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(t,e,r){let n=getInternalData(t);Array.isArray(n.onHandlers)||(n.onHandlers=[]);let i,s=function(o){maybeEval(t,function(){eltIsDisabled(t)||(i||(i=new Function("event",r)),i.call(t,o))})};t.addEventListener(e,s),n.onHandlers.push({event:e,listener:s})}function processHxOnWildcard(t){deInitOnHandlers(t);for(let e=0;e<t.attributes.length;e++){let r=t.attributes[e].name,n=t.attributes[e].value;if(startsWith(r,"hx-on")||startsWith(r,"data-hx-on")){let i=r.indexOf("-on")+3,s=r.slice(i,i+1);if(s==="-"||s===":"){let o=r.slice(i+1);startsWith(o,":")?o="htmx"+o:startsWith(o,"-")?o="htmx:"+o.slice(1):startsWith(o,"htmx-")&&(o="htmx:"+o.slice(5)),addHxOnEventHandler(t,o,n)}}}}function initNode(t){if(closest(t,htmx.config.disableSelector)){cleanUpElement(t);return}let e=getInternalData(t),r=attributeHash(t);if(e.initHash!==r){deInitNode(t),e.initHash=r,triggerEvent(t,"htmx:beforeProcessNode");let n=getTriggerSpecs(t);processVerbs(t,e,n)||(getClosestAttributeValue(t,"hx-boost")==="true"?boostElement(t,e,n):hasAttribute(t,"hx-trigger")&&n.forEach(function(s){addTriggerHandler(t,s,e,function(){})})),(t.tagName==="FORM"||getRawAttribute(t,"type")==="submit"&&hasAttribute(t,"form"))&&initButtonTracking(t),e.firstInitCompleted=!0,triggerEvent(t,"htmx:afterProcessNode")}}function processNode(t){if(t=resolveTarget(t),closest(t,htmx.config.disableSelector)){cleanUpElement(t);return}initNode(t),forEach(findElementsToProcess(t),function(e){initNode(e)}),forEach(findHxOnWildcardElements(t),processHxOnWildcard)}function kebabEventName(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(t,e){let r;return window.CustomEvent&&typeof window.CustomEvent=="function"?r=new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:!0,detail:e}):(r=getDocument().createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,e)),r}function triggerErrorEvent(t,e,r){triggerEvent(t,e,mergeObjects({error:e},r))}function ignoreEventForLogging(t){return t==="htmx:afterProcessNode"}function withExtensions(t,e){forEach(getExtensions(t),function(r){try{e(r)}catch(n){logError(n)}})}function logError(t){console.error?console.error(t):console.log&&console.log("ERROR: ",t)}function triggerEvent(t,e,r){t=resolveTarget(t),r==null&&(r={}),r.elt=t;let n=makeEvent(e,r);htmx.logger&&!ignoreEventForLogging(e)&&htmx.logger(t,e,r),r.error&&(logError(r.error),triggerEvent(t,"htmx:error",{errorInfo:r}));let i=t.dispatchEvent(n),s=kebabEventName(e);if(i&&s!==e){let o=makeEvent(s,n.detail);i=i&&t.dispatchEvent(o)}return withExtensions(asElement(t),function(o){i=i&&o.onEvent(e,n)!==!1&&!n.defaultPrevented}),i}let currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(t,e){if(!canAccessLocalStorage())return;let r=cleanInnerHtmlForHistory(e),n=getDocument().title,i=window.scrollY;if(htmx.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}t=normalizePath(t);let s=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let a=0;a<s.length;a++)if(s[a].url===t){s.splice(a,1);break}let o={url:t,content:r,title:n,scroll:i};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:o,cache:s}),s.push(o);s.length>htmx.config.historyCacheSize;)s.shift();for(;s.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(s));break}catch(a){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:a,cache:s}),s.shift()}}function getCachedHistory(t){if(!canAccessLocalStorage())return null;t=normalizePath(t);let e=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let r=0;r<e.length;r++)if(e[r].url===t)return e[r];return null}function cleanInnerHtmlForHistory(t){let e=htmx.config.requestClass,r=t.cloneNode(!0);return forEach(findAll(r,"."+e),function(n){removeClassFromElement(n,e)}),forEach(findAll(r,"[data-disabled-by-htmx]"),function(n){n.removeAttribute("disabled")}),r.innerHTML}function saveCurrentPageToHistory(){let t=getHistoryElement(),e=currentPathForHistory||location.pathname+location.search,r;try{r=getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{r=getDocument().querySelector('[hx-history="false"],[data-hx-history="false"]')}r||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:e,historyElt:t}),saveToHistoryCache(e,t)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(t){htmx.config.getCacheBusterParam&&(t=t.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(t,"&")||endsWith(t,"?"))&&(t=t.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",t),currentPathForHistory=t}function replaceUrlInHistory(t){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",t),currentPathForHistory=t}function settleImmediately(t){forEach(t,function(e){e.call(void 0)})}function loadHistoryFromServer(t){let e=new XMLHttpRequest,r={path:t,xhr:e};triggerEvent(getDocument().body,"htmx:historyCacheMiss",r),e.open("GET",t,!0),e.setRequestHeader("HX-Request","true"),e.setRequestHeader("HX-History-Restore-Request","true"),e.setRequestHeader("HX-Current-URL",getDocument().location.href),e.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",r);let n=makeFragment(this.response),i=n.querySelector("[hx-history-elt],[data-hx-history-elt]")||n,s=getHistoryElement(),o=makeSettleInfo(s);handleTitle(n.title),handlePreservedElements(n),swapInnerHTML(s,i,o),restorePreservedElements(),settleImmediately(o.tasks),currentPathForHistory=t,triggerEvent(getDocument().body,"htmx:historyRestore",{path:t,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",r)},e.send()}function restoreHistory(t){saveCurrentPageToHistory(),t=t||location.pathname+location.search;let e=getCachedHistory(t);if(e){let r=makeFragment(e.content),n=getHistoryElement(),i=makeSettleInfo(n);handleTitle(e.title),handlePreservedElements(r),swapInnerHTML(n,r,i),restorePreservedElements(),settleImmediately(i.tasks),getWindow().setTimeout(function(){window.scrollTo(0,e.scroll)},0),currentPathForHistory=t,triggerEvent(getDocument().body,"htmx:historyRestore",{path:t,item:e})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(t)}function addRequestIndicatorClasses(t){let e=findAttributeTargets(t,"hx-indicator");return e==null&&(e=[t]),forEach(e,function(r){let n=getInternalData(r);n.requestCount=(n.requestCount||0)+1,r.classList.add.call(r.classList,htmx.config.requestClass)}),e}function disableElements(t){let e=findAttributeTargets(t,"hx-disabled-elt");return e==null&&(e=[]),forEach(e,function(r){let n=getInternalData(r);n.requestCount=(n.requestCount||0)+1,r.setAttribute("disabled",""),r.setAttribute("data-disabled-by-htmx","")}),e}function removeRequestIndicators(t,e){forEach(t.concat(e),function(r){let n=getInternalData(r);n.requestCount=(n.requestCount||1)-1}),forEach(t,function(r){getInternalData(r).requestCount===0&&r.classList.remove.call(r.classList,htmx.config.requestClass)}),forEach(e,function(r){getInternalData(r).requestCount===0&&(r.removeAttribute("disabled"),r.removeAttribute("data-disabled-by-htmx"))})}function haveSeenNode(t,e){for(let r=0;r<t.length;r++)if(t[r].isSameNode(e))return!0;return!1}function shouldInclude(t){let e=t;return e.name===""||e.name==null||e.disabled||closest(e,"fieldset[disabled]")||e.type==="button"||e.type==="submit"||e.tagName==="image"||e.tagName==="reset"||e.tagName==="file"?!1:e.type==="checkbox"||e.type==="radio"?e.checked:!0}function addValueToFormData(t,e,r){t!=null&&e!=null&&(Array.isArray(e)?e.forEach(function(n){r.append(t,n)}):r.append(t,e))}function removeValueFromFormData(t,e,r){if(t!=null&&e!=null){let n=r.getAll(t);Array.isArray(e)?n=n.filter(i=>e.indexOf(i)<0):n=n.filter(i=>i!==e),r.delete(t),forEach(n,i=>r.append(t,i))}}function processInputValue(t,e,r,n,i){if(!(n==null||haveSeenNode(t,n))){if(t.push(n),shouldInclude(n)){let s=getRawAttribute(n,"name"),o=n.value;n instanceof HTMLSelectElement&&n.multiple&&(o=toArray(n.querySelectorAll("option:checked")).map(function(a){return a.value})),n instanceof HTMLInputElement&&n.files&&(o=toArray(n.files)),addValueToFormData(s,o,e),i&&validateElement(n,r)}n instanceof HTMLFormElement&&(forEach(n.elements,function(s){t.indexOf(s)>=0?removeValueFromFormData(s.name,s.value,e):t.push(s),i&&validateElement(s,r)}),new FormData(n).forEach(function(s,o){s instanceof File&&s.name===""||addValueToFormData(o,s,e)}))}}function validateElement(t,e){let r=t;r.willValidate&&(triggerEvent(r,"htmx:validation:validate"),r.checkValidity()||(e.push({elt:r,message:r.validationMessage,validity:r.validity}),triggerEvent(r,"htmx:validation:failed",{message:r.validationMessage,validity:r.validity})))}function overrideFormData(t,e){for(let r of e.keys())t.delete(r);return e.forEach(function(r,n){t.append(n,r)}),t}function getInputValues(t,e){let r=[],n=new FormData,i=new FormData,s=[],o=getInternalData(t);o.lastButtonClicked&&!bodyContains(o.lastButtonClicked)&&(o.lastButtonClicked=null);let a=t instanceof HTMLFormElement&&t.noValidate!==!0||getAttributeValue(t,"hx-validate")==="true";if(o.lastButtonClicked&&(a=a&&o.lastButtonClicked.formNoValidate!==!0),e!=="get"&&processInputValue(r,i,s,closest(t,"form"),a),processInputValue(r,n,s,t,a),o.lastButtonClicked||t.tagName==="BUTTON"||t.tagName==="INPUT"&&getRawAttribute(t,"type")==="submit"){let u=o.lastButtonClicked||t,d=getRawAttribute(u,"name");addValueToFormData(d,u.value,i)}let l=findAttributeTargets(t,"hx-include");return forEach(l,function(u){processInputValue(r,n,s,asElement(u),a),matches(u,"form")||forEach(asParentNode(u).querySelectorAll(INPUT_SELECTOR),function(d){processInputValue(r,n,s,d,a)})}),overrideFormData(n,i),{errors:s,formData:n,values:formDataProxy(n)}}function appendParam(t,e,r){t!==""&&(t+="&"),String(r)==="[object Object]"&&(r=JSON.stringify(r));let n=encodeURIComponent(r);return t+=encodeURIComponent(e)+"="+n,t}function urlEncode(t){t=formDataFromObject(t);let e="";return t.forEach(function(r,n){e=appendParam(e,n,r)}),e}function getHeaders(t,e,r){let n={"HX-Request":"true","HX-Trigger":getRawAttribute(t,"id"),"HX-Trigger-Name":getRawAttribute(t,"name"),"HX-Target":getAttributeValue(e,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(t,"hx-headers",!1,n),r!==void 0&&(n["HX-Prompt"]=r),getInternalData(t).boosted&&(n["HX-Boosted"]="true"),n}function filterValues(t,e){let r=getClosestAttributeValue(e,"hx-params");if(r){if(r==="none")return new FormData;if(r==="*")return t;if(r.indexOf("not ")===0)return forEach(r.slice(4).split(","),function(n){n=n.trim(),t.delete(n)}),t;{let n=new FormData;return forEach(r.split(","),function(i){i=i.trim(),t.has(i)&&t.getAll(i).forEach(function(s){n.append(i,s)})}),n}}else return t}function isAnchorLink(t){return!!getRawAttribute(t,"href")&&getRawAttribute(t,"href").indexOf("#")>=0}function getSwapSpecification(t,e){let r=e||getClosestAttributeValue(t,"hx-swap"),n={swapStyle:getInternalData(t).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(t).boosted&&!isAnchorLink(t)&&(n.show="top"),r){let o=splitOnWhitespace(r);if(o.length>0)for(let a=0;a<o.length;a++){let l=o[a];if(l.indexOf("swap:")===0)n.swapDelay=parseInterval(l.slice(5));else if(l.indexOf("settle:")===0)n.settleDelay=parseInterval(l.slice(7));else if(l.indexOf("transition:")===0)n.transition=l.slice(11)==="true";else if(l.indexOf("ignoreTitle:")===0)n.ignoreTitle=l.slice(12)==="true";else if(l.indexOf("scroll:")===0){var i=l.slice(7).split(":");let d=i.pop();var s=i.length>0?i.join(":"):null;n.scroll=d,n.scrollTarget=s}else if(l.indexOf("show:")===0){var i=l.slice(5).split(":");let c=i.pop();var s=i.length>0?i.join(":"):null;n.show=c,n.showTarget=s}else if(l.indexOf("focus-scroll:")===0){let u=l.slice(13);n.focusScroll=u=="true"}else a==0?n.swapStyle=l:logError("Unknown modifier in hx-swap: "+l)}}return n}function usesFormData(t){return getClosestAttributeValue(t,"hx-encoding")==="multipart/form-data"||matches(t,"form")&&getRawAttribute(t,"enctype")==="multipart/form-data"}function encodeParamsForBody(t,e,r){let n=null;return withExtensions(e,function(i){n==null&&(n=i.encodeParameters(t,r,e))}),n??(usesFormData(e)?overrideFormData(new FormData,formDataFromObject(r)):urlEncode(r))}function makeSettleInfo(t){return{tasks:[],elts:[t]}}function updateScrollState(t,e){let r=t[0],n=t[t.length-1];if(e.scroll){var i=null;e.scrollTarget&&(i=asElement(querySelectorExt(r,e.scrollTarget))),e.scroll==="top"&&(r||i)&&(i=i||r,i.scrollTop=0),e.scroll==="bottom"&&(n||i)&&(i=i||n,i.scrollTop=i.scrollHeight)}if(e.show){var i=null;if(e.showTarget){let o=e.showTarget;e.showTarget==="window"&&(o="body"),i=asElement(querySelectorExt(r,o))}e.show==="top"&&(r||i)&&(i=i||r,i.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),e.show==="bottom"&&(n||i)&&(i=i||n,i.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(t,e,r,n){if(n==null&&(n={}),t==null)return n;let i=getAttributeValue(t,e);if(i){let s=i.trim(),o=r;if(s==="unset")return null;s.indexOf("javascript:")===0?(s=s.slice(11),o=!0):s.indexOf("js:")===0&&(s=s.slice(3),o=!0),s.indexOf("{")!==0&&(s="{"+s+"}");let a;o?a=maybeEval(t,function(){return Function("return ("+s+")")()},{}):a=parseJSON(s);for(let l in a)a.hasOwnProperty(l)&&n[l]==null&&(n[l]=a[l])}return getValuesForElement(asElement(parentElt(t)),e,r,n)}function maybeEval(t,e,r){return htmx.config.allowEval?e():(triggerErrorEvent(t,"htmx:evalDisallowedError"),r)}function getHXVarsForElement(t,e){return getValuesForElement(t,"hx-vars",!0,e)}function getHXValsForElement(t,e){return getValuesForElement(t,"hx-vals",!1,e)}function getExpressionVars(t){return mergeObjects(getHXVarsForElement(t),getHXValsForElement(t))}function safelySetHeaderValue(t,e,r){if(r!==null)try{t.setRequestHeader(e,r)}catch{t.setRequestHeader(e,encodeURIComponent(r)),t.setRequestHeader(e+"-URI-AutoEncoded","true")}}function getPathFromResponse(t){if(t.responseURL&&typeof URL<"u")try{let e=new URL(t.responseURL);return e.pathname+e.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:t.responseURL})}}function hasHeader(t,e){return e.test(t.getAllResponseHeaders())}function ajaxHelper(t,e,r){if(t=t.toLowerCase(),r){if(r instanceof Element||typeof r=="string")return issueAjaxRequest(t,e,null,null,{targetOverride:resolveTarget(r)||DUMMY_ELT,returnPromise:!0});{let n=resolveTarget(r.target);return(r.target&&!n||r.source&&!n&&!resolveTarget(r.source))&&(n=DUMMY_ELT),issueAjaxRequest(t,e,resolveTarget(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:n,swapOverride:r.swap,select:r.select,returnPromise:!0})}}else return issueAjaxRequest(t,e,null,null,{returnPromise:!0})}function hierarchyForElt(t){let e=[];for(;t;)e.push(t),t=t.parentElement;return e}function verifyPath(t,e,r){let n,i;return typeof URL=="function"?(i=new URL(e,document.location.href),n=document.location.origin===i.origin):(i=e,n=startsWith(e,document.location.origin)),htmx.config.selfRequestsOnly&&!n?!1:triggerEvent(t,"htmx:validateUrl",mergeObjects({url:i,sameHost:n},r))}function formDataFromObject(t){if(t instanceof FormData)return t;let e=new FormData;for(let r in t)t.hasOwnProperty(r)&&(t[r]&&typeof t[r].forEach=="function"?t[r].forEach(function(n){e.append(r,n)}):typeof t[r]=="object"&&!(t[r]instanceof Blob)?e.append(r,JSON.stringify(t[r])):e.append(r,t[r]));return e}function formDataArrayProxy(t,e,r){return new Proxy(r,{get:function(n,i){return typeof i=="number"?n[i]:i==="length"?n.length:i==="push"?function(s){n.push(s),t.append(e,s)}:typeof n[i]=="function"?function(){n[i].apply(n,arguments),t.delete(e),n.forEach(function(s){t.append(e,s)})}:n[i]&&n[i].length===1?n[i][0]:n[i]},set:function(n,i,s){return n[i]=s,t.delete(e),n.forEach(function(o){t.append(e,o)}),!0}})}function formDataProxy(t){return new Proxy(t,{get:function(e,r){if(typeof r=="symbol"){let i=Reflect.get(e,r);return typeof i=="function"?function(){return i.apply(t,arguments)}:i}if(r==="toJSON")return()=>Object.fromEntries(t);if(r in e)return typeof e[r]=="function"?function(){return t[r].apply(t,arguments)}:e[r];let n=t.getAll(r);if(n.length!==0)return n.length===1?n[0]:formDataArrayProxy(e,r,n)},set:function(e,r,n){return typeof r!="string"?!1:(e.delete(r),n&&typeof n.forEach=="function"?n.forEach(function(i){e.append(r,i)}):typeof n=="object"&&!(n instanceof Blob)?e.append(r,JSON.stringify(n)):e.append(r,n),!0)},deleteProperty:function(e,r){return typeof r=="string"&&e.delete(r),!0},ownKeys:function(e){return Reflect.ownKeys(Object.fromEntries(e))},getOwnPropertyDescriptor:function(e,r){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(e),r)}})}function issueAjaxRequest(t,e,r,n,i,s){let o=null,a=null;if(i=i??{},i.returnPromise&&typeof Promise<"u")var l=new Promise(function(k,q){o=k,a=q});r==null&&(r=getDocument().body);let u=i.handler||handleAjaxResponse,d=i.select||null;if(!bodyContains(r))return maybeCall(o),l;let c=i.targetOverride||asElement(getTarget(r));if(c==null||c==DUMMY_ELT)return triggerErrorEvent(r,"htmx:targetError",{target:getAttributeValue(r,"hx-target")}),maybeCall(a),l;let p=getInternalData(r),f=p.lastButtonClicked;if(f){let k=getRawAttribute(f,"formaction");k!=null&&(e=k);let q=getRawAttribute(f,"formmethod");q!=null&&q.toLowerCase()!=="dialog"&&(t=q)}let h=getClosestAttributeValue(r,"hx-confirm");if(s===void 0&&triggerEvent(r,"htmx:confirm",{target:c,elt:r,path:e,verb:t,triggeringEvent:n,etc:i,issueRequest:function(ie){return issueAjaxRequest(t,e,r,n,i,!!ie)},question:h})===!1)return maybeCall(o),l;let g=r,v=getClosestAttributeValue(r,"hx-sync"),m=null,w=!1;if(v){let k=v.split(":"),q=k[0].trim();if(q==="this"?g=findThisElement(r,"hx-sync"):g=asElement(querySelectorExt(r,q)),v=(k[1]||"drop").trim(),p=getInternalData(g),v==="drop"&&p.xhr&&p.abortable!==!0)return maybeCall(o),l;if(v==="abort"){if(p.xhr)return maybeCall(o),l;w=!0}else v==="replace"?triggerEvent(g,"htmx:abort"):v.indexOf("queue")===0&&(m=(v.split(" ")[1]||"last").trim())}if(p.xhr)if(p.abortable)triggerEvent(g,"htmx:abort");else{if(m==null){if(n){let k=getInternalData(n);k&&k.triggerSpec&&k.triggerSpec.queue&&(m=k.triggerSpec.queue)}m==null&&(m="last")}return p.queuedRequests==null&&(p.queuedRequests=[]),m==="first"&&p.queuedRequests.length===0?p.queuedRequests.push(function(){issueAjaxRequest(t,e,r,n,i)}):m==="all"?p.queuedRequests.push(function(){issueAjaxRequest(t,e,r,n,i)}):m==="last"&&(p.queuedRequests=[],p.queuedRequests.push(function(){issueAjaxRequest(t,e,r,n,i)})),maybeCall(o),l}let x=new XMLHttpRequest;p.xhr=x,p.abortable=w;let y=function(){p.xhr=null,p.abortable=!1,p.queuedRequests!=null&&p.queuedRequests.length>0&&p.queuedRequests.shift()()},O=getClosestAttributeValue(r,"hx-prompt");if(O){var E=prompt(O);if(E===null||!triggerEvent(r,"htmx:prompt",{prompt:E,target:c}))return maybeCall(o),y(),l}if(h&&!s&&!confirm(h))return maybeCall(o),y(),l;let S=getHeaders(r,c,E);t!=="get"&&!usesFormData(r)&&(S["Content-Type"]="application/x-www-form-urlencoded"),i.headers&&(S=mergeObjects(S,i.headers));let C=getInputValues(r,t),L=C.errors,I=C.formData;i.values&&overrideFormData(I,formDataFromObject(i.values));let F=formDataFromObject(getExpressionVars(r)),H=overrideFormData(I,F),M=filterValues(H,r);htmx.config.getCacheBusterParam&&t==="get"&&M.set("org.htmx.cache-buster",getRawAttribute(c,"id")||"true"),(e==null||e==="")&&(e=getDocument().location.href);let Z=getValuesForElement(r,"hx-request"),ve=getInternalData(r).boosted,j=htmx.config.methodsThatUseUrlParams.indexOf(t)>=0,$={boosted:ve,useUrlParams:j,formData:M,parameters:formDataProxy(M),unfilteredFormData:H,unfilteredParameters:formDataProxy(H),headers:S,target:c,verb:t,errors:L,withCredentials:i.credentials||Z.credentials||htmx.config.withCredentials,timeout:i.timeout||Z.timeout||htmx.config.timeout,path:e,triggeringEvent:n};if(!triggerEvent(r,"htmx:configRequest",$))return maybeCall(o),y(),l;if(e=$.path,t=$.verb,S=$.headers,M=formDataFromObject($.parameters),L=$.errors,j=$.useUrlParams,L&&L.length>0)return triggerEvent(r,"htmx:validation:halted",$),maybeCall(o),y(),l;let _e=e.split("#"),ee=_e[0],me=_e[1],ge=e;if(j&&(ge=ee,!M.keys().next().done&&(ge.indexOf("?")<0?ge+="?":ge+="&",ge+=urlEncode(M),me&&(ge+="#"+me))),!verifyPath(r,ge,$))return triggerErrorEvent(r,"htmx:invalidPath",$),maybeCall(a),l;if(x.open(t.toUpperCase(),ge,!0),x.overrideMimeType("text/html"),x.withCredentials=$.withCredentials,x.timeout=$.timeout,!Z.noHeaders){for(let k in S)if(S.hasOwnProperty(k)){let q=S[k];safelySetHeaderValue(x,k,q)}}let B={xhr:x,target:c,requestConfig:$,etc:i,boosted:ve,select:d,pathInfo:{requestPath:e,finalRequestPath:ge,responsePath:null,anchor:me}};if(x.onload=function(){try{let k=hierarchyForElt(r);if(B.pathInfo.responsePath=getPathFromResponse(x),u(r,B),B.keepIndicators!==!0&&removeRequestIndicators(Xe,Re),triggerEvent(r,"htmx:afterRequest",B),triggerEvent(r,"htmx:afterOnLoad",B),!bodyContains(r)){let q=null;for(;k.length>0&&q==null;){let ie=k.shift();bodyContains(ie)&&(q=ie)}q&&(triggerEvent(q,"htmx:afterRequest",B),triggerEvent(q,"htmx:afterOnLoad",B))}maybeCall(o),y()}catch(k){throw triggerErrorEvent(r,"htmx:onLoadError",mergeObjects({error:k},B)),k}},x.onerror=function(){removeRequestIndicators(Xe,Re),triggerErrorEvent(r,"htmx:afterRequest",B),triggerErrorEvent(r,"htmx:sendError",B),maybeCall(a),y()},x.onabort=function(){removeRequestIndicators(Xe,Re),triggerErrorEvent(r,"htmx:afterRequest",B),triggerErrorEvent(r,"htmx:sendAbort",B),maybeCall(a),y()},x.ontimeout=function(){removeRequestIndicators(Xe,Re),triggerErrorEvent(r,"htmx:afterRequest",B),triggerErrorEvent(r,"htmx:timeout",B),maybeCall(a),y()},!triggerEvent(r,"htmx:beforeRequest",B))return maybeCall(o),y(),l;var Xe=addRequestIndicatorClasses(r),Re=disableElements(r);forEach(["loadstart","loadend","progress","abort"],function(k){forEach([x,x.upload],function(q){q.addEventListener(k,function(ie){triggerEvent(r,"htmx:xhr:"+k,{lengthComputable:ie.lengthComputable,loaded:ie.loaded,total:ie.total})})})}),triggerEvent(r,"htmx:beforeSend",B);let De=j?null:encodeParamsForBody(x,r,M);return x.send(De),l}function determineHistoryUpdates(t,e){let r=e.xhr,n=null,i=null;if(hasHeader(r,/HX-Push:/i)?(n=r.getResponseHeader("HX-Push"),i="push"):hasHeader(r,/HX-Push-Url:/i)?(n=r.getResponseHeader("HX-Push-Url"),i="push"):hasHeader(r,/HX-Replace-Url:/i)&&(n=r.getResponseHeader("HX-Replace-Url"),i="replace"),n)return n==="false"?{}:{type:i,path:n};let s=e.pathInfo.finalRequestPath,o=e.pathInfo.responsePath,a=getClosestAttributeValue(t,"hx-push-url"),l=getClosestAttributeValue(t,"hx-replace-url"),u=getInternalData(t).boosted,d=null,c=null;return a?(d="push",c=a):l?(d="replace",c=l):u&&(d="push",c=o||s),c?c==="false"?{}:(c==="true"&&(c=o||s),e.pathInfo.anchor&&c.indexOf("#")===-1&&(c=c+"#"+e.pathInfo.anchor),{type:d,path:c}):{}}function codeMatches(t,e){var r=new RegExp(t.code);return r.test(e.toString(10))}function resolveResponseHandling(t){for(var e=0;e<htmx.config.responseHandling.length;e++){var r=htmx.config.responseHandling[e];if(codeMatches(r,t.status))return r}return{swap:!1}}function handleTitle(t){if(t){let e=find("title");e?e.innerHTML=t:window.document.title=t}}function handleAjaxResponse(t,e){let r=e.xhr,n=e.target,i=e.etc,s=e.select;if(!triggerEvent(t,"htmx:beforeOnLoad",e))return;if(hasHeader(r,/HX-Trigger:/i)&&handleTriggerHeader(r,"HX-Trigger",t),hasHeader(r,/HX-Location:/i)){saveCurrentPageToHistory();let w=r.getResponseHeader("HX-Location");var o;w.indexOf("{")===0&&(o=parseJSON(w),w=o.path,delete o.path),ajaxHelper("get",w,o).then(function(){pushUrlIntoHistory(w)});return}let a=hasHeader(r,/HX-Refresh:/i)&&r.getResponseHeader("HX-Refresh")==="true";if(hasHeader(r,/HX-Redirect:/i)){e.keepIndicators=!0,location.href=r.getResponseHeader("HX-Redirect"),a&&location.reload();return}if(a){e.keepIndicators=!0,location.reload();return}hasHeader(r,/HX-Retarget:/i)&&(r.getResponseHeader("HX-Retarget")==="this"?e.target=t:e.target=asElement(querySelectorExt(t,r.getResponseHeader("HX-Retarget"))));let l=determineHistoryUpdates(t,e),u=resolveResponseHandling(r),d=u.swap,c=!!u.error,p=htmx.config.ignoreTitle||u.ignoreTitle,f=u.select;u.target&&(e.target=asElement(querySelectorExt(t,u.target)));var h=i.swapOverride;h==null&&u.swapOverride&&(h=u.swapOverride),hasHeader(r,/HX-Retarget:/i)&&(r.getResponseHeader("HX-Retarget")==="this"?e.target=t:e.target=asElement(querySelectorExt(t,r.getResponseHeader("HX-Retarget")))),hasHeader(r,/HX-Reswap:/i)&&(h=r.getResponseHeader("HX-Reswap"));var g=r.response,v=mergeObjects({shouldSwap:d,serverResponse:g,isError:c,ignoreTitle:p,selectOverride:f,swapOverride:h},e);if(!(u.event&&!triggerEvent(n,u.event,v))&&triggerEvent(n,"htmx:beforeSwap",v)){if(n=v.target,g=v.serverResponse,c=v.isError,p=v.ignoreTitle,f=v.selectOverride,h=v.swapOverride,e.target=n,e.failed=c,e.successful=!c,v.shouldSwap){r.status===286&&cancelPolling(t),withExtensions(t,function(C){g=C.transformResponse(g,r,t)}),l.type&&saveCurrentPageToHistory();var m=getSwapSpecification(t,h);m.hasOwnProperty("ignoreTitle")||(m.ignoreTitle=p),n.classList.add(htmx.config.swappingClass);let w=null,x=null;s&&(f=s),hasHeader(r,/HX-Reselect:/i)&&(f=r.getResponseHeader("HX-Reselect"));let y=getClosestAttributeValue(t,"hx-select-oob"),O=getClosestAttributeValue(t,"hx-select"),E=function(){try{l.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:l},e)),l.type==="push"?(pushUrlIntoHistory(l.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:l.path})):(replaceUrlInHistory(l.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:l.path}))),swap(n,g,m,{select:f||O,selectOOB:y,eventInfo:e,anchor:e.pathInfo.anchor,contextElement:t,afterSwapCallback:function(){if(hasHeader(r,/HX-Trigger-After-Swap:/i)){let C=t;bodyContains(t)||(C=getDocument().body),handleTriggerHeader(r,"HX-Trigger-After-Swap",C)}},afterSettleCallback:function(){if(hasHeader(r,/HX-Trigger-After-Settle:/i)){let C=t;bodyContains(t)||(C=getDocument().body),handleTriggerHeader(r,"HX-Trigger-After-Settle",C)}maybeCall(w)}})}catch(C){throw triggerErrorEvent(t,"htmx:swapError",e),maybeCall(x),C}},S=htmx.config.globalViewTransitions;if(m.hasOwnProperty("transition")&&(S=m.transition),S&&triggerEvent(t,"htmx:beforeTransition",e)&&typeof Promise<"u"&&document.startViewTransition){let C=new Promise(function(I,F){w=I,x=F}),L=E;E=function(){document.startViewTransition(function(){return L(),C})}}m.swapDelay>0?getWindow().setTimeout(E,m.swapDelay):E()}c&&triggerErrorEvent(t,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+r.status+" from "+e.pathInfo.requestPath},e))}}let extensions={};function extensionBase(){return{init:function(t){return null},getSelectors:function(){return null},onEvent:function(t,e){return!0},transformResponse:function(t,e,r){return t},isInlineSwap:function(t){return!1},handleSwap:function(t,e,r,n){return!1},encodeParameters:function(t,e,r){return null}}}function defineExtension(t,e){e.init&&e.init(internalAPI),extensions[t]=mergeObjects(extensionBase(),e)}function removeExtension(t){delete extensions[t]}function getExtensions(t,e,r){if(e==null&&(e=[]),t==null)return e;r==null&&(r=[]);let n=getAttributeValue(t,"hx-ext");return n&&forEach(n.split(","),function(i){if(i=i.replace(/ /g,""),i.slice(0,7)=="ignore:"){r.push(i.slice(7));return}if(r.indexOf(i)<0){let s=extensions[i];s&&e.indexOf(s)<0&&e.push(s)}}),getExtensions(asElement(parentElt(t)),e,r)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(t){isReady||getDocument().readyState==="complete"?t():getDocument().addEventListener("DOMContentLoaded",t)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){let t=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+t+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){let t=getDocument().querySelector('meta[name="htmx-config"]');return t?parseJSON(t.content):null}function mergeMetaConfig(){let t=getMetaConfig();t&&(htmx.config=mergeObjects(htmx.config,t))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let t=getDocument().body;processNode(t);let e=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");t.addEventListener("htmx:abort",function(n){let i=n.target,s=getInternalData(i);s&&s.xhr&&s.xhr.abort()});let r=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(n){n.state&&n.state.htmx?(restoreHistory(),forEach(e,function(i){triggerEvent(i,"htmx:restored",{document:getDocument(),triggerEvent})})):r&&r(n)},getWindow().setTimeout(function(){triggerEvent(t,"htmx:load",{}),t=null},0)}),htmx}(),Jn=Yc;var ai={};zc(ai,{afterMain:()=>ha,afterRead:()=>da,afterWrite:()=>va,applyStyles:()=>Er,arrow:()=>Zn,auto:()=>Br,basePlacements:()=>tt,beforeMain:()=>fa,beforeRead:()=>ua,beforeWrite:()=>ma,bottom:()=>Q,clippingParents:()=>ss,computeStyles:()=>wr,createPopper:()=>Jr,createPopperBase:()=>xa,createPopperLite:()=>Ca,detectOverflow:()=>Ee,end:()=>At,eventListeners:()=>Sr,flip:()=>ni,hide:()=>ii,left:()=>G,main:()=>pa,modifierPhases:()=>as,offset:()=>si,placements:()=>Vr,popper:()=>kt,popperGenerator:()=>Vt,popperOffsets:()=>xr,preventOverflow:()=>oi,read:()=>ca,reference:()=>os,right:()=>J,start:()=>et,top:()=>Y,variationPlacements:()=>Qn,viewport:()=>qr,write:()=>ga});var Y="top",Q="bottom",J="right",G="left",Br="auto",tt=[Y,Q,J,G],et="start",At="end",ss="clippingParents",qr="viewport",kt="popper",os="reference",Qn=tt.reduce(function(t,e){return t.concat([e+"-"+et,e+"-"+At])},[]),Vr=[].concat(tt,[Br]).reduce(function(t,e){return t.concat([e,e+"-"+et,e+"-"+At])},[]),ua="beforeRead",ca="read",da="afterRead",fa="beforeMain",pa="main",ha="afterMain",ma="beforeWrite",ga="write",va="afterWrite",as=[ua,ca,da,fa,pa,ha,ma,ga,va];function se(t){return t?(t.nodeName||"").toLowerCase():null}function W(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function je(t){var e=W(t).Element;return t instanceof e||t instanceof Element}function te(t){var e=W(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function yr(t){if(typeof ShadowRoot>"u")return!1;var e=W(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Xc(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!te(s)||!se(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Gc(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(l,u){return l[u]="",l},{});!te(i)||!se(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Er={name:"applyStyles",enabled:!0,phase:"write",fn:Xc,effect:Gc,requires:["computeStyles"]};function oe(t){return t.split("-")[0]}var Ge=Math.max,$t=Math.min,rt=Math.round;function br(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Wr(){return!/^((?!chrome|android).)*safari/i.test(br())}function Be(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&te(t)&&(i=t.offsetWidth>0&&rt(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&rt(n.height)/t.offsetHeight||1);var o=je(t)?W(t):window,a=o.visualViewport,l=!Wr()&&r,u=(n.left+(l&&a?a.offsetLeft:0))/i,d=(n.top+(l&&a?a.offsetTop:0))/s,c=n.width/i,p=n.height/s;return{width:c,height:p,top:d,right:u+c,bottom:d+p,left:u,x:u,y:d}}function Mt(t){var e=Be(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function zr(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&yr(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ye(t){return W(t).getComputedStyle(t)}function ls(t){return["table","td","th"].indexOf(se(t))>=0}function le(t){return((je(t)?t.ownerDocument:t.document)||window.document).documentElement}function nt(t){return se(t)==="html"?t:t.assignedSlot||t.parentNode||(yr(t)?t.host:null)||le(t)}function _a(t){return!te(t)||ye(t).position==="fixed"?null:t.offsetParent}function Jc(t){var e=/firefox/i.test(br()),r=/Trident/i.test(br());if(r&&te(t)){var n=ye(t);if(n.position==="fixed")return null}var i=nt(t);for(yr(i)&&(i=i.host);te(i)&&["html","body"].indexOf(se(i))<0;){var s=ye(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Je(t){for(var e=W(t),r=_a(t);r&&ls(r)&&ye(r).position==="static";)r=_a(r);return r&&(se(r)==="html"||se(r)==="body"&&ye(r).position==="static")?e:r||Jc(t)||e}function Ut(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ht(t,e,r){return Ge(t,$t(e,r))}function ya(t,e,r){var n=Ht(t,e,r);return n>r?r:n}function Kr(){return{top:0,right:0,bottom:0,left:0}}function Yr(t){return Object.assign({},Kr(),t)}function Xr(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Qc=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Yr(typeof e!="number"?e:Xr(e,tt))};function Zc(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=oe(r.placement),l=Ut(a),u=[G,J].indexOf(a)>=0,d=u?"height":"width";if(!(!s||!o)){var c=Qc(i.padding,r),p=Mt(s),f=l==="y"?Y:G,h=l==="y"?Q:J,g=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],v=o[l]-r.rects.reference[l],m=Je(s),w=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,x=g/2-v/2,y=c[f],O=w-p[d]-c[h],E=w/2-p[d]/2+x,S=Ht(y,E,O),C=l;r.modifiersData[n]=(e={},e[C]=S,e.centerOffset=S-E,e)}}function ed(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||zr(e.elements.popper,i)&&(e.elements.arrow=i))}var Zn={name:"arrow",enabled:!0,phase:"main",fn:Zc,effect:ed,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qe(t){return t.split("-")[1]}var td={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rd(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:rt(r*i)/i||0,y:rt(n*i)/i||0}}function Ea(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,c=t.isFixed,p=o.x,f=p===void 0?0:p,h=o.y,g=h===void 0?0:h,v=typeof d=="function"?d({x:f,y:g}):{x:f,y:g};f=v.x,g=v.y;var m=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),x=G,y=Y,O=window;if(u){var E=Je(r),S="clientHeight",C="clientWidth";if(E===W(r)&&(E=le(r),ye(E).position!=="static"&&a==="absolute"&&(S="scrollHeight",C="scrollWidth")),E=E,i===Y||(i===G||i===J)&&s===At){y=Q;var L=c&&E===O&&O.visualViewport?O.visualViewport.height:E[S];g-=L-n.height,g*=l?1:-1}if(i===G||(i===Y||i===Q)&&s===At){x=J;var I=c&&E===O&&O.visualViewport?O.visualViewport.width:E[C];f-=I-n.width,f*=l?1:-1}}var F=Object.assign({position:a},u&&td),H=d===!0?rd({x:f,y:g},W(r)):{x:f,y:g};if(f=H.x,g=H.y,l){var M;return Object.assign({},F,(M={},M[y]=w?"0":"",M[x]=m?"0":"",M.transform=(O.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",M))}return Object.assign({},F,(e={},e[y]=w?g+"px":"",e[x]=m?f+"px":"",e.transform="",e))}function nd(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,u={placement:oe(e.placement),variation:qe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ea(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ea(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var wr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nd,data:{}};var ei={passive:!0};function id(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,l=W(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",r.update,ei)}),a&&l.addEventListener("resize",r.update,ei),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",r.update,ei)}),a&&l.removeEventListener("resize",r.update,ei)}}var Sr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:id,data:{}};var sd={left:"right",right:"left",bottom:"top",top:"bottom"};function Tr(t){return t.replace(/left|right|bottom|top/g,function(e){return sd[e]})}var od={start:"end",end:"start"};function ti(t){return t.replace(/start|end/g,function(e){return od[e]})}function jt(t){var e=W(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Bt(t){return Be(le(t)).left+jt(t).scrollLeft}function us(t,e){var r=W(t),n=le(t),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=Wr();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Bt(t),y:l}}function cs(t){var e,r=le(t),n=jt(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ge(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ge(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+Bt(t),l=-n.scrollTop;return ye(i||r).direction==="rtl"&&(a+=Ge(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function qt(t){var e=ye(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function ri(t){return["html","body","#document"].indexOf(se(t))>=0?t.ownerDocument.body:te(t)&&qt(t)?t:ri(nt(t))}function xt(t,e){var r;e===void 0&&(e=[]);var n=ri(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=W(n),o=i?[s].concat(s.visualViewport||[],qt(n)?n:[]):n,a=e.concat(o);return i?a:a.concat(xt(nt(o)))}function Ar(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ad(t,e){var r=Be(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function ba(t,e,r){return e===qr?Ar(us(t,r)):je(e)?ad(e,r):Ar(cs(le(t)))}function ld(t){var e=xt(nt(t)),r=["absolute","fixed"].indexOf(ye(t).position)>=0,n=r&&te(t)?Je(t):t;return je(n)?e.filter(function(i){return je(i)&&zr(i,n)&&se(i)!=="body"}):[]}function ds(t,e,r,n){var i=e==="clippingParents"?ld(t):[].concat(e),s=[].concat(i,[r]),o=s[0],a=s.reduce(function(l,u){var d=ba(t,u,n);return l.top=Ge(d.top,l.top),l.right=$t(d.right,l.right),l.bottom=$t(d.bottom,l.bottom),l.left=Ge(d.left,l.left),l},ba(t,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Gr(t){var e=t.reference,r=t.element,n=t.placement,i=n?oe(n):null,s=n?qe(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case Y:l={x:o,y:e.y-r.height};break;case Q:l={x:o,y:e.y+e.height};break;case J:l={x:e.x+e.width,y:a};break;case G:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Ut(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case et:l[u]=l[u]-(e[d]/2-r[d]/2);break;case At:l[u]=l[u]+(e[d]/2-r[d]/2);break;default:}}return l}function Ee(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,s=r.strategy,o=s===void 0?t.strategy:s,a=r.boundary,l=a===void 0?ss:a,u=r.rootBoundary,d=u===void 0?qr:u,c=r.elementContext,p=c===void 0?kt:c,f=r.altBoundary,h=f===void 0?!1:f,g=r.padding,v=g===void 0?0:g,m=Yr(typeof v!="number"?v:Xr(v,tt)),w=p===kt?os:kt,x=t.rects.popper,y=t.elements[h?w:p],O=ds(je(y)?y:y.contextElement||le(t.elements.popper),l,d,o),E=Be(t.elements.reference),S=Gr({reference:E,element:x,strategy:"absolute",placement:i}),C=Ar(Object.assign({},x,S)),L=p===kt?C:E,I={top:O.top-L.top+m.top,bottom:L.bottom-O.bottom+m.bottom,left:O.left-L.left+m.left,right:L.right-O.right+m.right},F=t.modifiersData.offset;if(p===kt&&F){var H=F[i];Object.keys(I).forEach(function(M){var Z=[J,Q].indexOf(M)>=0?1:-1,ve=[Y,Q].indexOf(M)>=0?"y":"x";I[M]+=H[ve]*Z})}return I}function fs(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?Vr:l,d=qe(n),c=d?a?Qn:Qn.filter(function(h){return qe(h)===d}):tt,p=c.filter(function(h){return u.indexOf(h)>=0});p.length===0&&(p=c);var f=p.reduce(function(h,g){return h[g]=Ee(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[oe(g)],h},{});return Object.keys(f).sort(function(h,g){return f[h]-f[g]})}function ud(t){if(oe(t)===Br)return[];var e=Tr(t);return[ti(t),e,ti(e)]}function cd(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,d=r.boundary,c=r.rootBoundary,p=r.altBoundary,f=r.flipVariations,h=f===void 0?!0:f,g=r.allowedAutoPlacements,v=e.options.placement,m=oe(v),w=m===v,x=l||(w||!h?[Tr(v)]:ud(v)),y=[v].concat(x).reduce(function(Re,De){return Re.concat(oe(De)===Br?fs(e,{placement:De,boundary:d,rootBoundary:c,padding:u,flipVariations:h,allowedAutoPlacements:g}):De)},[]),O=e.rects.reference,E=e.rects.popper,S=new Map,C=!0,L=y[0],I=0;I<y.length;I++){var F=y[I],H=oe(F),M=qe(F)===et,Z=[Y,Q].indexOf(H)>=0,ve=Z?"width":"height",j=Ee(e,{placement:F,boundary:d,rootBoundary:c,altBoundary:p,padding:u}),$=Z?M?J:G:M?Q:Y;O[ve]>E[ve]&&($=Tr($));var _e=Tr($),ee=[];if(s&&ee.push(j[H]<=0),a&&ee.push(j[$]<=0,j[_e]<=0),ee.every(function(Re){return Re})){L=F,C=!1;break}S.set(F,ee)}if(C)for(var me=h?3:1,ge=function(De){var k=y.find(function(q){var ie=S.get(q);if(ie)return ie.slice(0,De).every(function(St){return St})});if(k)return L=k,"break"},B=me;B>0;B--){var Xe=ge(B);if(Xe==="break")break}e.placement!==L&&(e.modifiersData[n]._skip=!0,e.placement=L,e.reset=!0)}}var ni={name:"flip",enabled:!0,phase:"main",fn:cd,requiresIfExists:["offset"],data:{_skip:!1}};function wa(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Sa(t){return[Y,J,Q,G].some(function(e){return t[e]>=0})}function dd(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ee(e,{elementContext:"reference"}),a=Ee(e,{altBoundary:!0}),l=wa(o,n),u=wa(a,i,s),d=Sa(l),c=Sa(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":c})}var ii={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dd};function fd(t,e,r){var n=oe(t),i=[G,Y].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[G,J].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function pd(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=Vr.reduce(function(d,c){return d[c]=fd(c,e.rects,s),d},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}var si={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pd};function hd(t){var e=t.state,r=t.name;e.modifiersData[r]=Gr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var xr={name:"popperOffsets",enabled:!0,phase:"read",fn:hd,data:{}};function ps(t){return t==="x"?"y":"x"}function md(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,c=r.padding,p=r.tether,f=p===void 0?!0:p,h=r.tetherOffset,g=h===void 0?0:h,v=Ee(e,{boundary:l,rootBoundary:u,padding:c,altBoundary:d}),m=oe(e.placement),w=qe(e.placement),x=!w,y=Ut(m),O=ps(y),E=e.modifiersData.popperOffsets,S=e.rects.reference,C=e.rects.popper,L=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,I=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(E){if(s){var M,Z=y==="y"?Y:G,ve=y==="y"?Q:J,j=y==="y"?"height":"width",$=E[y],_e=$+v[Z],ee=$-v[ve],me=f?-C[j]/2:0,ge=w===et?S[j]:C[j],B=w===et?-C[j]:-S[j],Xe=e.elements.arrow,Re=f&&Xe?Mt(Xe):{width:0,height:0},De=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Kr(),k=De[Z],q=De[ve],ie=Ht(0,S[j],Re[j]),St=x?S[j]/2-me-ie-k-I.mainAxis:ge-ie-k-I.mainAxis,Fc=x?-S[j]/2+me+ie+q+I.mainAxis:B+ie+q+I.mainAxis,rs=e.elements.arrow&&Je(e.elements.arrow),kc=rs?y==="y"?rs.clientTop||0:rs.clientLeft||0:0,ea=(M=F?.[y])!=null?M:0,$c=$+St-ea-kc,Mc=$+Fc-ea,ta=Ht(f?$t(_e,$c):_e,$,f?Ge(ee,Mc):ee);E[y]=ta,H[y]=ta-$}if(a){var ra,Uc=y==="x"?Y:G,Hc=y==="x"?Q:J,Ft=E[O],Gn=O==="y"?"height":"width",na=Ft+v[Uc],ia=Ft-v[Hc],ns=[Y,G].indexOf(m)!==-1,sa=(ra=F?.[O])!=null?ra:0,oa=ns?na:Ft-S[Gn]-C[Gn]-sa+I.altAxis,aa=ns?Ft+S[Gn]+C[Gn]-sa-I.altAxis:ia,la=f&&ns?ya(oa,Ft,aa):Ht(f?oa:na,Ft,f?aa:ia);E[O]=la,H[O]=la-Ft}e.modifiersData[n]=H}}var oi={name:"preventOverflow",enabled:!0,phase:"main",fn:md,requiresIfExists:["offset"]};function hs(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ms(t){return t===W(t)||!te(t)?jt(t):hs(t)}function gd(t){var e=t.getBoundingClientRect(),r=rt(e.width)/t.offsetWidth||1,n=rt(e.height)/t.offsetHeight||1;return r!==1||n!==1}function gs(t,e,r){r===void 0&&(r=!1);var n=te(e),i=te(e)&&gd(e),s=le(e),o=Be(t,i,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((se(e)!=="body"||qt(s))&&(a=ms(e)),te(e)?(l=Be(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Bt(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function vd(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function vs(t){var e=vd(t);return as.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function _s(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function ys(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var Ta={placement:"bottom",modifiers:[],strategy:"absolute"};function Aa(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Vt(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?Ta:i;return function(a,l,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ta,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},c=[],p=!1,f={state:d,setOptions:function(m){var w=typeof m=="function"?m(d.options):m;g(),d.options=Object.assign({},s,d.options,w),d.scrollParents={reference:je(a)?xt(a):a.contextElement?xt(a.contextElement):[],popper:xt(l)};var x=vs(ys([].concat(n,d.options.modifiers)));return d.orderedModifiers=x.filter(function(y){return y.enabled}),h(),f.update()},forceUpdate:function(){if(!p){var m=d.elements,w=m.reference,x=m.popper;if(Aa(w,x)){d.rects={reference:gs(w,Je(x),d.options.strategy==="fixed"),popper:Mt(x)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var y=0;y<d.orderedModifiers.length;y++){if(d.reset===!0){d.reset=!1,y=-1;continue}var O=d.orderedModifiers[y],E=O.fn,S=O.options,C=S===void 0?{}:S,L=O.name;typeof E=="function"&&(d=E({state:d,options:C,name:L,instance:f})||d)}}}},update:_s(function(){return new Promise(function(v){f.forceUpdate(),v(d)})}),destroy:function(){g(),p=!0}};if(!Aa(a,l))return f;f.setOptions(u).then(function(v){!p&&u.onFirstUpdate&&u.onFirstUpdate(v)});function h(){d.orderedModifiers.forEach(function(v){var m=v.name,w=v.options,x=w===void 0?{}:w,y=v.effect;if(typeof y=="function"){var O=y({state:d,name:m,instance:f,options:x}),E=function(){};c.push(O||E)}})}function g(){c.forEach(function(v){return v()}),c=[]}return f}}var xa=Vt();var _d=[Sr,xr,wr,Er],Ca=Vt({defaultModifiers:_d});var yd=[Sr,xr,wr,Er,si,ni,oi,Zn,ii],Jr=Vt({defaultModifiers:yd});var Ct=new Map,Es={set(t,e,r){Ct.has(t)||Ct.set(t,new Map);let n=Ct.get(t);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,r)},get(t,e){return Ct.has(t)&&Ct.get(t).get(e)||null},remove(t,e){if(!Ct.has(t))return;let r=Ct.get(t);r.delete(e),r.size===0&&Ct.delete(t)}},Ed=1e6,bd=1e3,Fs="transitionend",rl=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,r)=>`#${CSS.escape(r)}`)),t),wd=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Sd=t=>{do t+=Math.floor(Math.random()*Ed);while(document.getElementById(t));return t},Td=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(t),n=Number.parseFloat(e),i=Number.parseFloat(r);return!n&&!i?0:(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*bd)},nl=t=>{t.dispatchEvent(new Event(Fs))},it=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Ot=t=>it(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(rl(t)):null,Ir=t=>{if(!it(t)||t.getClientRects().length===0)return!1;let e=getComputedStyle(t).getPropertyValue("visibility")==="visible",r=t.closest("details:not([open])");if(!r)return e;if(r!==t){let n=t.closest("summary");if(n&&n.parentNode!==r||n===null)return!1}return e},Pt=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",il=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){let e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?il(t.parentNode):null},gi=()=>{},nn=t=>{t.offsetHeight},sl=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,bs=[],Ad=t=>{document.readyState==="loading"?(bs.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of bs)e()}),bs.push(t)):t()},Ve=()=>document.documentElement.dir==="rtl",ze=t=>{Ad(()=>{let e=sl();if(e){let r=t.NAME,n=e.fn[r];e.fn[r]=t.jQueryInterface,e.fn[r].Constructor=t,e.fn[r].noConflict=()=>(e.fn[r]=n,t.jQueryInterface)}})},Ce=(t,e=[],r=t)=>typeof t=="function"?t.call(...e):r,ol=(t,e,r=!0)=>{if(!r){Ce(t);return}let i=Td(e)+5,s=!1,o=({target:a})=>{a===e&&(s=!0,e.removeEventListener(Fs,o),Ce(t))};e.addEventListener(Fs,o),setTimeout(()=>{s||nl(e)},i)},Hs=(t,e,r,n)=>{let i=t.length,s=t.indexOf(e);return s===-1?!r&&n?t[i-1]:t[0]:(s+=r?1:-1,n&&(s=(s+i)%i),t[Math.max(0,Math.min(s,i-1))])},xd=/[^.]*(?=\..*)\.|.*/,Cd=/\..*/,Od=/::\d+$/,ws={},Oa=1,al={mouseenter:"mouseover",mouseleave:"mouseout"},Pd=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ll(t,e){return e&&`${e}::${Oa++}`||t.uidEvent||Oa++}function ul(t){let e=ll(t);return t.uidEvent=e,ws[e]=ws[e]||{},ws[e]}function Nd(t,e){return function r(n){return js(n,{delegateTarget:t}),r.oneOff&&_.off(t,n.type,e),e.apply(t,[n])}}function Rd(t,e,r){return function n(i){let s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(let a of s)if(a===o)return js(i,{delegateTarget:o}),n.oneOff&&_.off(t,i.type,e,r),r.apply(o,[i])}}function cl(t,e,r=null){return Object.values(t).find(n=>n.callable===e&&n.delegationSelector===r)}function dl(t,e,r){let n=typeof e=="string",i=n?r:e||r,s=fl(t);return Pd.has(s)||(s=t),[n,i,s]}function Pa(t,e,r,n,i){if(typeof e!="string"||!t)return;let[s,o,a]=dl(e,r,n);e in al&&(o=(h=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return h.call(this,g)})(o));let l=ul(t),u=l[a]||(l[a]={}),d=cl(u,o,s?r:null);if(d){d.oneOff=d.oneOff&&i;return}let c=ll(o,e.replace(xd,"")),p=s?Rd(t,r,o):Nd(t,o);p.delegationSelector=s?r:null,p.callable=o,p.oneOff=i,p.uidEvent=c,u[c]=p,t.addEventListener(a,p,s)}function ks(t,e,r,n,i){let s=cl(e[r],n,i);s&&(t.removeEventListener(r,s,!!i),delete e[r][s.uidEvent])}function Dd(t,e,r,n){let i=e[r]||{};for(let[s,o]of Object.entries(i))s.includes(n)&&ks(t,e,r,o.callable,o.delegationSelector)}function fl(t){return t=t.replace(Cd,""),al[t]||t}var _={on(t,e,r,n){Pa(t,e,r,n,!1)},one(t,e,r,n){Pa(t,e,r,n,!0)},off(t,e,r,n){if(typeof e!="string"||!t)return;let[i,s,o]=dl(e,r,n),a=o!==e,l=ul(t),u=l[o]||{},d=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(u).length)return;ks(t,l,o,s,i?r:null);return}if(d)for(let c of Object.keys(l))Dd(t,l,c,e.slice(1));for(let[c,p]of Object.entries(u)){let f=c.replace(Od,"");(!a||e.includes(f))&&ks(t,l,o,p.callable,p.delegationSelector)}},trigger(t,e,r){if(typeof e!="string"||!t)return null;let n=sl(),i=fl(e),s=e!==i,o=null,a=!0,l=!0,u=!1;s&&n&&(o=n.Event(e,r),n(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),u=o.isDefaultPrevented());let d=js(new Event(e,{bubbles:a,cancelable:!0}),r);return u&&d.preventDefault(),l&&t.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function js(t,e={}){for(let[r,n]of Object.entries(e))try{t[r]=n}catch{Object.defineProperty(t,r,{configurable:!0,get(){return n}})}return t}function Na(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Ss(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var st={setDataAttribute(t,e,r){t.setAttribute(`data-bs-${Ss(e)}`,r)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Ss(e)}`)},getDataAttributes(t){if(!t)return{};let e={},r=Object.keys(t.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(let n of r){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=Na(t.dataset[n])}return e},getDataAttribute(t,e){return Na(t.getAttribute(`data-bs-${Ss(e)}`))}},Kt=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,r){let n=it(r)?st.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...it(r)?st.getDataAttributes(r):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,r=this.constructor.DefaultType){for(let[n,i]of Object.entries(r)){let s=e[n],o=it(s)?"element":wd(s);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${i}".`)}}},Ld="5.3.5",Le=class extends Kt{constructor(e,r){super(),e=Ot(e),e&&(this._element=e,this._config=this._getConfig(r),Es.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Es.remove(this._element,this.constructor.DATA_KEY),_.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,r,n=!0){ol(e,r,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Es.get(Ot(e),this.DATA_KEY)}static getOrCreateInstance(e,r={}){return this.getInstance(e)||new this(e,typeof r=="object"?r:null)}static get VERSION(){return Ld}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},Ts=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let r=t.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&r!=="#"?r.trim():null}return e?e.split(",").map(r=>rl(r)).join(","):null},P={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(r=>r.matches(e))},parents(t,e){let r=[],n=t.parentNode.closest(e);for(;n;)r.push(n),n=n.parentNode.closest(e);return r},prev(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(t){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(r=>!Pt(r)&&Ir(r))},getSelectorFromElement(t){let e=Ts(t);return e&&P.findOne(e)?e:null},getElementFromSelector(t){let e=Ts(t);return e?P.findOne(e):null},getMultipleElementsFromSelector(t){let e=Ts(t);return e?P.find(e):[]}},xi=(t,e="hide")=>{let r=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;_.on(document,r,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Pt(this))return;let s=P.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()})},Id="alert",Fd="bs.alert",pl=`.${Fd}`,kd=`close${pl}`,$d=`closed${pl}`,Md="fade",Ud="show",vi=class t extends Le{static get NAME(){return Id}close(){if(_.trigger(this._element,kd).defaultPrevented)return;this._element.classList.remove(Ud);let r=this._element.classList.contains(Md);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),_.trigger(this._element,$d),this.dispose()}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}};xi(vi,"close");ze(vi);var Hd="button",jd="bs.button",Bd=`.${jd}`,qd=".data-api",Vd="active",Ra='[data-bs-toggle="button"]',Wd=`click${Bd}${qd}`,_i=class t extends Le{static get NAME(){return Hd}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Vd))}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this);e==="toggle"&&r[e]()})}};_.on(document,Wd,Ra,t=>{t.preventDefault();let e=t.target.closest(Ra);_i.getOrCreateInstance(e).toggle()});ze(_i);var zd="swipe",Fr=".bs.swipe",Kd=`touchstart${Fr}`,Yd=`touchmove${Fr}`,Xd=`touchend${Fr}`,Gd=`pointerdown${Fr}`,Jd=`pointerup${Fr}`,Qd="touch",Zd="pen",ef="pointer-event",tf=40,rf={endCallback:null,leftCallback:null,rightCallback:null},nf={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},yi=class t extends Kt{constructor(e,r){super(),this._element=e,!(!e||!t.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return rf}static get DefaultType(){return nf}static get NAME(){return zd}dispose(){_.off(this._element,Fr)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ce(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=tf)return;let r=e/this._deltaX;this._deltaX=0,r&&Ce(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(_.on(this._element,Gd,e=>this._start(e)),_.on(this._element,Jd,e=>this._end(e)),this._element.classList.add(ef)):(_.on(this._element,Kd,e=>this._start(e)),_.on(this._element,Yd,e=>this._move(e)),_.on(this._element,Xd,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Zd||e.pointerType===Qd)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},sf="carousel",of="bs.carousel",Dt=`.${of}`,hl=".data-api",af="ArrowLeft",lf="ArrowRight",uf=500,Qr="next",Cr="prev",Pr="left",hi="right",cf=`slide${Dt}`,As=`slid${Dt}`,df=`keydown${Dt}`,ff=`mouseenter${Dt}`,pf=`mouseleave${Dt}`,hf=`dragstart${Dt}`,mf=`load${Dt}${hl}`,gf=`click${Dt}${hl}`,ml="carousel",li="active",vf="slide",_f="carousel-item-end",yf="carousel-item-start",Ef="carousel-item-next",bf="carousel-item-prev",gl=".active",vl=".carousel-item",wf=gl+vl,Sf=".carousel-item img",Tf=".carousel-indicators",Af="[data-bs-slide], [data-bs-slide-to]",xf='[data-bs-ride="carousel"]',Cf={[af]:hi,[lf]:Pr},Of={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Pf={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},en=class t extends Le{constructor(e,r){super(e,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=P.findOne(Tf,this._element),this._addEventListeners(),this._config.ride===ml&&this.cycle()}static get Default(){return Of}static get DefaultType(){return Pf}static get NAME(){return sf}next(){this._slide(Qr)}nextWhenVisible(){!document.hidden&&Ir(this._element)&&this.next()}prev(){this._slide(Cr)}pause(){this._isSliding&&nl(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){_.one(this._element,As,()=>this.cycle());return}this.cycle()}}to(e){let r=this._getItems();if(e>r.length-1||e<0)return;if(this._isSliding){_.one(this._element,As,()=>this.to(e));return}let n=this._getItemIndex(this._getActive());if(n===e)return;let i=e>n?Qr:Cr;this._slide(i,r[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&_.on(this._element,df,e=>this._keydown(e)),this._config.pause==="hover"&&(_.on(this._element,ff,()=>this.pause()),_.on(this._element,pf,()=>this._maybeEnableCycle())),this._config.touch&&yi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let n of P.find(Sf,this._element))_.on(n,hf,i=>i.preventDefault());let r={leftCallback:()=>this._slide(this._directionToOrder(Pr)),rightCallback:()=>this._slide(this._directionToOrder(hi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),uf+this._config.interval))}};this._swipeHelper=new yi(this._element,r)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let r=Cf[e.key];r&&(e.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let r=P.findOne(gl,this._indicatorsElement);r.classList.remove(li),r.removeAttribute("aria-current");let n=P.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(li),n.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let r=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(e,r=null){if(this._isSliding)return;let n=this._getActive(),i=e===Qr,s=r||Hs(this._getItems(),n,i,this._config.wrap);if(s===n)return;let o=this._getItemIndex(s),a=f=>_.trigger(this._element,f,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(a(cf).defaultPrevented||!n||!s)return;let u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;let d=i?yf:_f,c=i?Ef:bf;s.classList.add(c),nn(s),n.classList.add(d),s.classList.add(d);let p=()=>{s.classList.remove(d,c),s.classList.add(li),n.classList.remove(li,c,d),this._isSliding=!1,a(As)};this._queueCallback(p,n,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(vf)}_getActive(){return P.findOne(wf,this._element)}_getItems(){return P.find(vl,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ve()?e===Pr?Cr:Qr:e===Pr?Qr:Cr}_orderToDirection(e){return Ve()?e===Cr?Pr:hi:e===Cr?hi:Pr}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="number"){r.to(e);return}if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}};_.on(document,gf,Af,function(t){let e=P.getElementFromSelector(this);if(!e||!e.classList.contains(ml))return;t.preventDefault();let r=en.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){r.to(n),r._maybeEnableCycle();return}if(st.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});_.on(window,mf,()=>{let t=P.find(xf);for(let e of t)en.getOrCreateInstance(e)});ze(en);var Nf="collapse",Rf="bs.collapse",sn=`.${Rf}`,Df=".data-api",Lf=`show${sn}`,If=`shown${sn}`,Ff=`hide${sn}`,kf=`hidden${sn}`,$f=`click${sn}${Df}`,xs="show",Rr="collapse",ui="collapsing",Mf="collapsed",Uf=`:scope .${Rr} .${Rr}`,Hf="collapse-horizontal",jf="width",Bf="height",qf=".collapse.show, .collapse.collapsing",$s='[data-bs-toggle="collapse"]',Vf={parent:null,toggle:!0},Wf={parent:"(null|element)",toggle:"boolean"},Ei=class t extends Le{constructor(e,r){super(e,r),this._isTransitioning=!1,this._triggerArray=[];let n=P.find($s);for(let i of n){let s=P.getSelectorFromElement(i),o=P.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Vf}static get DefaultType(){return Wf}static get NAME(){return Nf}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(qf).filter(a=>a!==this._element).map(a=>t.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||_.trigger(this._element,Lf).defaultPrevented)return;for(let a of e)a.hide();let n=this._getDimension();this._element.classList.remove(Rr),this._element.classList.add(ui),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(ui),this._element.classList.add(Rr,xs),this._element.style[n]="",_.trigger(this._element,If)},o=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||_.trigger(this._element,Ff).defaultPrevented)return;let r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,nn(this._element),this._element.classList.add(ui),this._element.classList.remove(Rr,xs);for(let i of this._triggerArray){let s=P.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;let n=()=>{this._isTransitioning=!1,this._element.classList.remove(ui),this._element.classList.add(Rr),_.trigger(this._element,kf)};this._element.style[r]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(xs)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ot(e.parent),e}_getDimension(){return this._element.classList.contains(Hf)?jf:Bf}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren($s);for(let r of e){let n=P.getElementFromSelector(r);n&&this._addAriaAndCollapsedClass([r],this._isShown(n))}}_getFirstLevelChildren(e){let r=P.find(Uf,this._config.parent);return P.find(e,this._config.parent).filter(n=>!r.includes(n))}_addAriaAndCollapsedClass(e,r){if(e.length)for(let n of e)n.classList.toggle(Mf,!r),n.setAttribute("aria-expanded",r)}static jQueryInterface(e){let r={};return typeof e=="string"&&/show|hide/.test(e)&&(r.toggle=!1),this.each(function(){let n=t.getOrCreateInstance(this,r);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}};_.on(document,$f,$s,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(let e of P.getMultipleElementsFromSelector(this))Ei.getOrCreateInstance(e,{toggle:!1}).toggle()});ze(Ei);var Da="dropdown",zf="bs.dropdown",Yt=`.${zf}`,Bs=".data-api",Kf="Escape",La="Tab",Yf="ArrowUp",Ia="ArrowDown",Xf=2,Gf=`hide${Yt}`,Jf=`hidden${Yt}`,Qf=`show${Yt}`,Zf=`shown${Yt}`,_l=`click${Yt}${Bs}`,yl=`keydown${Yt}${Bs}`,ep=`keyup${Yt}${Bs}`,Nr="show",tp="dropup",rp="dropend",np="dropstart",ip="dropup-center",sp="dropdown-center",Wt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',op=`${Wt}.${Nr}`,mi=".dropdown-menu",ap=".navbar",lp=".navbar-nav",up=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",cp=Ve()?"top-end":"top-start",dp=Ve()?"top-start":"top-end",fp=Ve()?"bottom-end":"bottom-start",pp=Ve()?"bottom-start":"bottom-end",hp=Ve()?"left-start":"right-start",mp=Ve()?"right-start":"left-start",gp="top",vp="bottom",_p={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},yp={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Nt=class t extends Le{constructor(e,r){super(e,r),this._popper=null,this._parent=this._element.parentNode,this._menu=P.next(this._element,mi)[0]||P.prev(this._element,mi)[0]||P.findOne(mi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _p}static get DefaultType(){return yp}static get NAME(){return Da}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Pt(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!_.trigger(this._element,Qf,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(lp))for(let n of[].concat(...document.body.children))_.on(n,"mouseover",gi);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Nr),this._element.classList.add(Nr),_.trigger(this._element,Zf,e)}}hide(){if(Pt(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!_.trigger(this._element,Gf,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let n of[].concat(...document.body.children))_.off(n,"mouseover",gi);this._popper&&this._popper.destroy(),this._menu.classList.remove(Nr),this._element.classList.remove(Nr),this._element.setAttribute("aria-expanded","false"),st.removeDataAttribute(this._menu,"popper"),_.trigger(this._element,Jf,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!it(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Da.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof ai>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:it(this._config.reference)?e=Ot(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let r=this._getPopperConfig();this._popper=Jr(e,this._menu,r)}_isShown(){return this._menu.classList.contains(Nr)}_getPlacement(){let e=this._parent;if(e.classList.contains(rp))return hp;if(e.classList.contains(np))return mp;if(e.classList.contains(ip))return gp;if(e.classList.contains(sp))return vp;let r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(tp)?r?dp:cp:r?pp:fp}_detectNavbar(){return this._element.closest(ap)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(st.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ce(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:r}){let n=P.find(up,this._menu).filter(i=>Ir(i));n.length&&Hs(n,r,e===Ia,!n.includes(r)).focus()}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}static clearMenus(e){if(e.button===Xf||e.type==="keyup"&&e.key!==La)return;let r=P.find(op);for(let n of r){let i=t.getInstance(n);if(!i||i._config.autoClose===!1)continue;let s=e.composedPath(),o=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===La||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){let r=/input|textarea/i.test(e.target.tagName),n=e.key===Kf,i=[Yf,Ia].includes(e.key);if(!i&&!n||r&&!n)return;e.preventDefault();let s=this.matches(Wt)?this:P.prev(this,Wt)[0]||P.next(this,Wt)[0]||P.findOne(Wt,e.delegateTarget.parentNode),o=t.getOrCreateInstance(s);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}};_.on(document,yl,Wt,Nt.dataApiKeydownHandler);_.on(document,yl,mi,Nt.dataApiKeydownHandler);_.on(document,_l,Nt.clearMenus);_.on(document,ep,Nt.clearMenus);_.on(document,_l,Wt,function(t){t.preventDefault(),Nt.getOrCreateInstance(this).toggle()});ze(Nt);var El="backdrop",Ep="fade",Fa="show",ka=`mousedown.bs.${El}`,bp={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},wp={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},bi=class extends Kt{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return bp}static get DefaultType(){return wp}static get NAME(){return El}show(e){if(!this._config.isVisible){Ce(e);return}this._append();let r=this._getElement();this._config.isAnimated&&nn(r),r.classList.add(Fa),this._emulateAnimation(()=>{Ce(e)})}hide(e){if(!this._config.isVisible){Ce(e);return}this._getElement().classList.remove(Fa),this._emulateAnimation(()=>{this.dispose(),Ce(e)})}dispose(){this._isAppended&&(_.off(this._element,ka),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ep),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ot(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),_.on(e,ka,()=>{Ce(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){ol(e,this._getElement(),this._config.isAnimated)}},Sp="focustrap",Tp="bs.focustrap",wi=`.${Tp}`,Ap=`focusin${wi}`,xp=`keydown.tab${wi}`,Cp="Tab",Op="forward",$a="backward",Pp={autofocus:!0,trapElement:null},Np={autofocus:"boolean",trapElement:"element"},Si=class extends Kt{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Pp}static get DefaultType(){return Np}static get NAME(){return Sp}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),_.off(document,wi),_.on(document,Ap,e=>this._handleFocusin(e)),_.on(document,xp,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,_.off(document,wi))}_handleFocusin(e){let{trapElement:r}=this._config;if(e.target===document||e.target===r||r.contains(e.target))return;let n=P.focusableChildren(r);n.length===0?r.focus():this._lastTabNavDirection===$a?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Cp&&(this._lastTabNavDirection=e.shiftKey?$a:Op)}},Ma=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ua=".sticky-top",ci="padding-right",Ha="margin-right",tn=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ci,r=>r+e),this._setElementAttributes(Ma,ci,r=>r+e),this._setElementAttributes(Ua,Ha,r=>r-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ci),this._resetElementAttributes(Ma,ci),this._resetElementAttributes(Ua,Ha)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,r,n){let i=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,r);let a=window.getComputedStyle(o).getPropertyValue(r);o.style.setProperty(r,`${n(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,r){let n=e.style.getPropertyValue(r);n&&st.setDataAttribute(e,r,n)}_resetElementAttributes(e,r){let n=i=>{let s=st.getDataAttribute(i,r);if(s===null){i.style.removeProperty(r);return}st.removeDataAttribute(i,r),i.style.setProperty(r,s)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,r){if(it(e)){r(e);return}for(let n of P.find(e,this._element))r(n)}},Rp="modal",Dp="bs.modal",We=`.${Dp}`,Lp=".data-api",Ip="Escape",Fp=`hide${We}`,kp=`hidePrevented${We}`,bl=`hidden${We}`,wl=`show${We}`,$p=`shown${We}`,Mp=`resize${We}`,Up=`click.dismiss${We}`,Hp=`mousedown.dismiss${We}`,jp=`keydown.dismiss${We}`,Bp=`click${We}${Lp}`,ja="modal-open",qp="fade",Ba="show",Cs="modal-static",Vp=".modal.show",Wp=".modal-dialog",zp=".modal-body",Kp='[data-bs-toggle="modal"]',Yp={backdrop:!0,focus:!0,keyboard:!0},Xp={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Dr=class t extends Le{constructor(e,r){super(e,r),this._dialog=P.findOne(Wp,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new tn,this._addEventListeners()}static get Default(){return Yp}static get DefaultType(){return Xp}static get NAME(){return Rp}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||_.trigger(this._element,wl,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ja),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||_.trigger(this._element,Fp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ba),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){_.off(window,We),_.off(this._dialog,We),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new bi({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Si({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let r=P.findOne(zp,this._dialog);r&&(r.scrollTop=0),nn(this._element),this._element.classList.add(Ba);let n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,_.trigger(this._element,$p,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){_.on(this._element,jp,e=>{if(e.key===Ip){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),_.on(window,Mp,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),_.on(this._element,Hp,e=>{_.one(this._element,Up,r=>{if(!(this._element!==e.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ja),this._resetAdjustments(),this._scrollBar.reset(),_.trigger(this._element,bl)})}_isAnimated(){return this._element.classList.contains(qp)}_triggerBackdropTransition(){if(_.trigger(this._element,kp).defaultPrevented)return;let r=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(Cs)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(Cs),this._queueCallback(()=>{this._element.classList.remove(Cs),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),n=r>0;if(n&&!e){let i=Ve()?"paddingLeft":"paddingRight";this._element.style[i]=`${r}px`}if(!n&&e){let i=Ve()?"paddingRight":"paddingLeft";this._element.style[i]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,r){return this.each(function(){let n=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](r)}})}};_.on(document,Bp,Kp,function(t){let e=P.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),_.one(e,wl,i=>{i.defaultPrevented||_.one(e,bl,()=>{Ir(this)&&this.focus()})});let r=P.findOne(Vp);r&&Dr.getInstance(r).hide(),Dr.getOrCreateInstance(e).toggle(this)});xi(Dr);ze(Dr);var Gp="offcanvas",Jp="bs.offcanvas",ot=`.${Jp}`,Sl=".data-api",Qp=`load${ot}${Sl}`,Zp="Escape",qa="show",Va="showing",Wa="hiding",eh="offcanvas-backdrop",Tl=".offcanvas.show",th=`show${ot}`,rh=`shown${ot}`,nh=`hide${ot}`,za=`hidePrevented${ot}`,Al=`hidden${ot}`,ih=`resize${ot}`,sh=`click${ot}${Sl}`,oh=`keydown.dismiss${ot}`,ah='[data-bs-toggle="offcanvas"]',lh={backdrop:!0,keyboard:!0,scroll:!1},uh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},Rt=class t extends Le{constructor(e,r){super(e,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lh}static get DefaultType(){return uh}static get NAME(){return Gp}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||_.trigger(this._element,th,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new tn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Va);let n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(qa),this._element.classList.remove(Va),_.trigger(this._element,rh,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||_.trigger(this._element,nh).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Wa),this._backdrop.hide();let r=()=>{this._element.classList.remove(qa,Wa),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new tn().reset(),_.trigger(this._element,Al)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){_.trigger(this._element,za);return}this.hide()},r=!!this._config.backdrop;return new bi({className:eh,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?e:null})}_initializeFocusTrap(){return new Si({trapElement:this._element})}_addEventListeners(){_.on(this._element,oh,e=>{if(e.key===Zp){if(this._config.keyboard){this.hide();return}_.trigger(this._element,za)}})}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}};_.on(document,sh,ah,function(t){let e=P.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Pt(this))return;_.one(e,Al,()=>{Ir(this)&&this.focus()});let r=P.findOne(Tl);r&&r!==e&&Rt.getInstance(r).hide(),Rt.getOrCreateInstance(e).toggle(this)});_.on(window,Qp,()=>{for(let t of P.find(Tl))Rt.getOrCreateInstance(t).show()});_.on(window,ih,()=>{for(let t of P.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&Rt.getOrCreateInstance(t).hide()});xi(Rt);ze(Rt);var ch=/^aria-[\w-]*$/i,xl={"*":["class","dir","id","lang","role",ch],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},dh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ph=(t,e)=>{let r=t.nodeName.toLowerCase();return e.includes(r)?dh.has(r)?!!fh.test(t.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(r))};function hh(t,e,r){if(!t.length)return t;if(r&&typeof r=="function")return r(t);let i=new window.DOMParser().parseFromString(t,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(let o of s){let a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}let l=[].concat(...o.attributes),u=[].concat(e["*"]||[],e[a]||[]);for(let d of l)ph(d,u)||o.removeAttribute(d.nodeName)}return i.body.innerHTML}var mh="TemplateFactory",gh={allowList:xl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},_h={entry:"(string|element|function|null)",selector:"(string|element)"},Ms=class extends Kt{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return gh}static get DefaultType(){return vh}static get NAME(){return mh}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);let r=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&r.classList.add(...n.split(" ")),r}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[r,n]of Object.entries(e))super._typeCheckConfig({selector:r,entry:n},_h)}_setContent(e,r,n){let i=P.findOne(n,e);if(i){if(r=this._resolvePossibleFunction(r),!r){i.remove();return}if(it(r)){this._putElementInTemplate(Ot(r),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(r);return}i.textContent=r}}_maybeSanitize(e){return this._config.sanitize?hh(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ce(e,[void 0,this])}_putElementInTemplate(e,r){if(this._config.html){r.innerHTML="",r.append(e);return}r.textContent=e.textContent}},yh="tooltip",Eh=new Set(["sanitize","allowList","sanitizeFn"]),Os="fade",bh="modal",di="show",wh=".tooltip-inner",Ka=`.${bh}`,Ya="hide.bs.modal",Zr="hover",Ps="focus",Sh="click",Th="manual",Ah="hide",xh="hidden",Ch="show",Oh="shown",Ph="inserted",Nh="click",Rh="focusin",Dh="focusout",Lh="mouseenter",Ih="mouseleave",Fh={AUTO:"auto",TOP:"top",RIGHT:Ve()?"left":"right",BOTTOM:"bottom",LEFT:Ve()?"right":"left"},kh={allowList:xl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},$h={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Lr=class t extends Le{constructor(e,r){if(typeof ai>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return kh}static get DefaultType(){return $h}static get NAME(){return yh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),_.off(this._element.closest(Ka),Ya,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=_.trigger(this._element,this.constructor.eventName(Ch)),n=(il(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),_.trigger(this._element,this.constructor.eventName(Ph))),this._popper=this._createPopper(i),i.classList.add(di),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))_.on(a,"mouseover",gi);let o=()=>{_.trigger(this._element,this.constructor.eventName(Oh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||_.trigger(this._element,this.constructor.eventName(Ah)).defaultPrevented)return;if(this._getTipElement().classList.remove(di),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))_.off(i,"mouseover",gi);this._activeTrigger[Sh]=!1,this._activeTrigger[Ps]=!1,this._activeTrigger[Zr]=!1,this._isHovered=null;let n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),_.trigger(this._element,this.constructor.eventName(xh)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let r=this._getTemplateFactory(e).toHtml();if(!r)return null;r.classList.remove(Os,di),r.classList.add(`bs-${this.constructor.NAME}-auto`);let n=Sd(this.constructor.NAME).toString();return r.setAttribute("id",n),this._isAnimated()&&r.classList.add(Os),r}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Ms({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[wh]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Os)}_isShown(){return this.tip&&this.tip.classList.contains(di)}_createPopper(e){let r=Ce(this._config.placement,[this,e,this._element]),n=Fh[r.toUpperCase()];return Jr(this._element,e,this._getPopperConfig(n))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_resolvePossibleFunction(e){return Ce(e,[this._element,this._element])}_getPopperConfig(e){let r={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...r,...Ce(this._config.popperConfig,[void 0,r])}}_setListeners(){let e=this._config.trigger.split(" ");for(let r of e)if(r==="click")_.on(this._element,this.constructor.eventName(Nh),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(r!==Th){let n=r===Zr?this.constructor.eventName(Lh):this.constructor.eventName(Rh),i=r===Zr?this.constructor.eventName(Ih):this.constructor.eventName(Dh);_.on(this._element,n,this._config.selector,s=>{let o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?Ps:Zr]=!0,o._enter()}),_.on(this._element,i,this._config.selector,s=>{let o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?Ps:Zr]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},_.on(this._element.closest(Ka),Ya,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,r){clearTimeout(this._timeout),this._timeout=setTimeout(e,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let r=st.getDataAttributes(this._element);for(let n of Object.keys(r))Eh.has(n)&&delete r[n];return e={...r,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ot(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[r,n]of Object.entries(this._config))this.constructor.Default[r]!==n&&(e[r]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};ze(Lr);var Mh="popover",Uh=".popover-header",Hh=".popover-body",jh={...Lr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Bh={...Lr.DefaultType,content:"(null|string|element|function)"},Us=class t extends Lr{static get Default(){return jh}static get DefaultType(){return Bh}static get NAME(){return Mh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Uh]:this._getTitle(),[Hh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};ze(Us);var qh="scrollspy",Vh="bs.scrollspy",qs=`.${Vh}`,Wh=".data-api",zh=`activate${qs}`,Xa=`click${qs}`,Kh=`load${qs}${Wh}`,Yh="dropdown-item",Or="active",Xh='[data-bs-spy="scroll"]',Ns="[href]",Gh=".nav, .list-group",Ga=".nav-link",Jh=".nav-item",Qh=".list-group-item",Zh=`${Ga}, ${Jh} > ${Ga}, ${Qh}`,em=".dropdown",tm=".dropdown-toggle",rm={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},nm={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Ti=class t extends Le{constructor(e,r){super(e,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return rm}static get DefaultType(){return nm}static get NAME(){return qh}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ot(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(r=>Number.parseFloat(r))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(_.off(this._config.target,Xa),_.on(this._config.target,Xa,Ns,e=>{let r=this._observableSections.get(e.target.hash);if(r){e.preventDefault();let n=this._rootElement||window,i=r.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:i,behavior:"smooth"});return}n.scrollTop=i}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),e)}_observerCallback(e){let r=o=>this._targetLinks.get(`#${o.target.id}`),n=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(r(o))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(let o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(o));continue}let a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(n(o),!i)return;continue}!s&&!a&&n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=P.find(Ns,this._config.target);for(let r of e){if(!r.hash||Pt(r))continue;let n=P.findOne(decodeURI(r.hash),this._element);Ir(n)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Or),this._activateParents(e),_.trigger(this._element,zh,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Yh)){P.findOne(tm,e.closest(em)).classList.add(Or);return}for(let r of P.parents(e,Gh))for(let n of P.prev(r,Zh))n.classList.add(Or)}_clearActiveClass(e){e.classList.remove(Or);let r=P.find(`${Ns}.${Or}`,e);for(let n of r)n.classList.remove(Or)}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}};_.on(window,Kh,()=>{for(let t of P.find(Xh))Ti.getOrCreateInstance(t)});ze(Ti);var im="tab",sm="bs.tab",Xt=`.${sm}`,om=`hide${Xt}`,am=`hidden${Xt}`,lm=`show${Xt}`,um=`shown${Xt}`,cm=`click${Xt}`,dm=`keydown${Xt}`,fm=`load${Xt}`,pm="ArrowLeft",Ja="ArrowRight",hm="ArrowUp",Qa="ArrowDown",Rs="Home",Za="End",zt="active",el="fade",Ds="show",mm="dropdown",Cl=".dropdown-toggle",gm=".dropdown-menu",Ls=`:not(${Cl})`,vm='.list-group, .nav, [role="tablist"]',_m=".nav-item, .list-group-item",ym=`.nav-link${Ls}, .list-group-item${Ls}, [role="tab"]${Ls}`,Ol='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Is=`${ym}, ${Ol}`,Em=`.${zt}[data-bs-toggle="tab"], .${zt}[data-bs-toggle="pill"], .${zt}[data-bs-toggle="list"]`,rn=class t extends Le{constructor(e){super(e),this._parent=this._element.closest(vm),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),_.on(this._element,dm,r=>this._keydown(r)))}static get NAME(){return im}show(){let e=this._element;if(this._elemIsActive(e))return;let r=this._getActiveElem(),n=r?_.trigger(r,om,{relatedTarget:e}):null;_.trigger(e,lm,{relatedTarget:r}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(r,e),this._activate(e,r))}_activate(e,r){if(!e)return;e.classList.add(zt),this._activate(P.getElementFromSelector(e));let n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Ds);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),_.trigger(e,um,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(el))}_deactivate(e,r){if(!e)return;e.classList.remove(zt),e.blur(),this._deactivate(P.getElementFromSelector(e));let n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Ds);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),_.trigger(e,am,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(el))}_keydown(e){if(![pm,Ja,hm,Qa,Rs,Za].includes(e.key))return;e.stopPropagation(),e.preventDefault();let r=this._getChildren().filter(i=>!Pt(i)),n;if([Rs,Za].includes(e.key))n=r[e.key===Rs?0:r.length-1];else{let i=[Ja,Qa].includes(e.key);n=Hs(r,e.target,i,!0)}n&&(n.focus({preventScroll:!0}),t.getOrCreateInstance(n).show())}_getChildren(){return P.find(Is,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,r){this._setAttributeIfNotExists(e,"role","tablist");for(let n of r)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let r=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",r),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),r||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let r=P.getElementFromSelector(e);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,r){let n=this._getOuterElement(e);if(!n.classList.contains(mm))return;let i=(s,o)=>{let a=P.findOne(s,n);a&&a.classList.toggle(o,r)};i(Cl,zt),i(gm,Ds),n.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(e,r,n){e.hasAttribute(r)||e.setAttribute(r,n)}_elemIsActive(e){return e.classList.contains(zt)}_getInnerElement(e){return e.matches(Is)?e:P.findOne(Is,e)}_getOuterElement(e){return e.closest(_m)||e}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}};_.on(document,cm,Ol,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Pt(this)&&rn.getOrCreateInstance(this).show()});_.on(window,fm,()=>{for(let t of P.find(Em))rn.getOrCreateInstance(t)});ze(rn);var bm="toast",wm="bs.toast",Lt=`.${wm}`,Sm=`mouseover${Lt}`,Tm=`mouseout${Lt}`,Am=`focusin${Lt}`,xm=`focusout${Lt}`,Cm=`hide${Lt}`,Om=`hidden${Lt}`,Pm=`show${Lt}`,Nm=`shown${Lt}`,Rm="fade",tl="hide",fi="show",pi="showing",Dm={animation:"boolean",autohide:"boolean",delay:"number"},Lm={animation:!0,autohide:!0,delay:5e3},Ai=class t extends Le{constructor(e,r){super(e,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Lm}static get DefaultType(){return Dm}static get NAME(){return bm}show(){if(_.trigger(this._element,Pm).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Rm);let r=()=>{this._element.classList.remove(pi),_.trigger(this._element,Nm),this._maybeScheduleHide()};this._element.classList.remove(tl),nn(this._element),this._element.classList.add(fi,pi),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||_.trigger(this._element,Cm).defaultPrevented)return;let r=()=>{this._element.classList.add(tl),this._element.classList.remove(pi,fi),_.trigger(this._element,Om)};this._element.classList.add(pi),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(fi),super.dispose()}isShown(){return this._element.classList.contains(fi)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,r){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}let n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){_.on(this._element,Sm,e=>this._onInteraction(e,!0)),_.on(this._element,Tm,e=>this._onInteraction(e,!1)),_.on(this._element,Am,e=>this._onInteraction(e,!0)),_.on(this._element,xm,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let r=t.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](this)}})}};xi(Ai);ze(Ai);function Ci(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Im=0;function Nl(t){return"__private_"+Im+++"_"+t}function Fm(t,e,r){let n=[];return t.forEach(i=>typeof i!="string"?n.push(i):e[Symbol.split](i).forEach((s,o,a)=>{s!==""&&n.push(s),o<a.length-1&&n.push(r)})),n}function Pl(t,e){let r=/\$/g,n="$$$$",i=[t];if(e==null)return i;for(let s of Object.keys(e))if(s!=="_"){let o=e[s];typeof o=="string"&&(o=r[Symbol.replace](o,n)),i=Fm(i,new RegExp(`%\\{${s}\\}`,"g"),o)}return i}var km=t=>{throw new Error(`missing string: ${t}`)},on=Nl("onMissingKey"),an=Nl("apply"),Gt=class{constructor(e,r){let{onMissingKey:n=km}=r===void 0?{}:r;Object.defineProperty(this,an,{value:$m}),Object.defineProperty(this,on,{writable:!0,value:void 0}),this.locale={strings:{},pluralize(i){return i===1?0:1}},Array.isArray(e)?e.forEach(Ci(this,an)[an],this):Ci(this,an)[an](e),Ci(this,on)[on]=n}translate(e,r){return this.translateArray(e,r).join("")}translateArray(e,r){let n=this.locale.strings[e];if(n==null&&(Ci(this,on)[on](e),n=e),typeof n=="object"){if(r&&typeof r.smart_count<"u"){let s=this.locale.pluralize(r.smart_count);return Pl(n[s],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return Pl(n,r)}};function $m(t){if(!(t!=null&&t.strings))return;let e=this.locale;Object.assign(this.locale,{strings:{...e.strings,...t.strings},pluralize:t.pluralize||e.pluralize})}var Nu=Tt(Dl(),1);var Mm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Ll=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Mm[Math.random()*64|0];return e};var Ru=Tt(pu(),1);function Pi(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Rg=0;function hu(t){return"__private_"+Rg+++"_"+t}var Dg={version:"4.2.0"},Jt=hu("callbacks"),Ks=hu("publish"),Ni=class{constructor(){Object.defineProperty(this,Ks,{value:Lg}),this.state={},Object.defineProperty(this,Jt,{writable:!0,value:new Set})}getState(){return this.state}setState(e){let r={...this.state},n={...this.state,...e};this.state=n,Pi(this,Ks)[Ks](r,n,e)}subscribe(e){return Pi(this,Jt)[Jt].add(e),()=>{Pi(this,Jt)[Jt].delete(e)}}};function Lg(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Pi(this,Jt)[Jt].forEach(n=>{n(...e)})}Ni.VERSION=Dg.version;var mu=Ni;function un(t){let e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}var Ys={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function cn(t){var e;if(t.type)return t.type;let r=t.name?(e=un(t.name).extension)==null?void 0:e.toLowerCase():null;return r&&r in Ys?Ys[r]:"application/octet-stream"}function Ig(t){return t.charCodeAt(0).toString(32)}function gu(t){let e="";return t.replace(/[^A-Z0-9]/gi,r=>(e+=`-${Ig(r)}`,"/"))+e}function vu(t,e){let r=e||"uppy";return typeof t.name=="string"&&(r+=`-${gu(t.name.toLowerCase())}`),t.type!==void 0&&(r+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(r+=`-${gu(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(r+=`-${t.data.size}`),t.data.lastModified!==void 0&&(r+=`-${t.data.lastModified}`),r}function Fg(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function _u(t,e){if(Fg(t))return t.id;let r=cn(t);return vu({...t,type:r},e)}function Xs(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;let e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;let n=e[1].split(".",2),i=parseInt(n[0],10),s=parseInt(n[1],10);return i<15||i===15&&s<15063||i>18||i===18&&s>=18218}function Gs(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}function Js(t){return t<10?`0${t}`:t.toString()}function kr(){let t=new Date,e=Js(t.getHours()),r=Js(t.getMinutes()),n=Js(t.getSeconds());return`${e}:${r}:${n}`}var yu={debug:()=>{},warn:()=>{},error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.error(`[Uppy] [${kr()}]`,...e)}},Eu={debug:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.debug(`[Uppy] [${kr()}]`,...e)},warn:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.warn(`[Uppy] [${kr()}]`,...e)},error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.error(`[Uppy] [${kr()}]`,...e)}};var dn=Tt(Qs(),1),Cu=Tt(xu(),1),Ou={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},Oe=class extends Error{constructor(e,r){var n;super(e),this.isRestriction=!0,this.isUserFacing=(n=r?.isUserFacing)!=null?n:!0,r!=null&&r.file&&(this.file=r.file)}},Ri=class{constructor(e,r){this.getI18n=r,this.getOpts=()=>{var n;let i=e();if(((n=i.restrictions)==null?void 0:n.allowedFileTypes)!=null&&!Array.isArray(i.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return i}}validateAggregateRestrictions(e,r){let{maxTotalFileSize:n,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+r.length>i)throw new Oe(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(n){let s=[...e,...r].reduce((o,a)=>{var l;return o+((l=a.size)!=null?l:0)},0);if(s>n)throw new Oe(this.getI18n()("aggregateExceedsSize",{sizeAllowed:(0,dn.default)(n),size:(0,dn.default)(s)}))}}validateSingleFile(e){let{maxFileSize:r,minFileSize:n,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(a=>a.includes("/")?e.type?(0,Cu.default)(e.type.replace(/;.*?$/,""),a):!1:a[0]==="."&&e.extension?e.extension.toLowerCase()===a.slice(1).toLowerCase():!1)){let a=i.join(", ");throw new Oe(this.getI18n()("youCanOnlyUploadFileTypes",{types:a}),{file:e})}if(r&&e.size!=null&&e.size>r){var s;throw new Oe(this.getI18n()("exceedsSize",{size:(0,dn.default)(r),file:(s=e.name)!=null?s:this.getI18n()("unnamed")}),{file:e})}if(n&&e.size!=null&&e.size<n)throw new Oe(this.getI18n()("inferiorSize",{size:(0,dn.default)(n)}),{file:e})}validate(e,r){r.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(e,r)}validateMinNumberOfFiles(e){let{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(e).length<r)throw new Oe(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(e){var r;let n=new Oe(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:(r=e.name)!=null?r:this.getI18n()("unnamed")})),{requiredMetaFields:i}=this.getOpts().restrictions,s=[];for(let o of i)(!Object.hasOwn(e.meta,o)||e.meta[o]==="")&&s.push(o);return{missingFields:s,error:n}}};var Pu={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function b(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Mg=0;function U(t){return"__private_"+Mg+++"_"+t}var Ug={version:"4.4.4"},Di={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},ue=U("plugins"),ce=U("restricter"),fn=U("storeUnsubscribe"),at=U("emitter"),Qt=U("preProcessors"),Zt=U("uploaders"),ct=U("postProcessors"),Ie=U("informAndEmit"),En=U("checkRequiredMetaFieldsOnFile"),Zs=U("checkRequiredMetaFields"),pn=U("assertNewUploadAllowed"),ro=U("transformFile"),hn=U("startIfAutoProceed"),mn=U("checkAndUpdateFileState"),yn=U("getFilesToRetry"),gn=U("doRetryAll"),no=U("handleUploadProgress"),vn=U("updateTotalProgress"),dt=U("updateTotalProgressThrottled"),io=U("calculateTotalProgress"),eo=U("addListeners"),Qe=U("updateOnlineStatus"),_n=U("requestClientById"),lt=U("createUpload"),to=U("getUpload"),er=U("removeUpload"),ut=U("runUpload"),Li=class t{constructor(e){Object.defineProperty(this,ut,{value:tv}),Object.defineProperty(this,er,{value:ev}),Object.defineProperty(this,to,{value:Zg}),Object.defineProperty(this,lt,{value:Qg}),Object.defineProperty(this,eo,{value:Jg}),Object.defineProperty(this,io,{value:Gg}),Object.defineProperty(this,vn,{value:Xg}),Object.defineProperty(this,gn,{value:Yg}),Object.defineProperty(this,yn,{value:Kg}),Object.defineProperty(this,mn,{value:zg}),Object.defineProperty(this,hn,{value:Wg}),Object.defineProperty(this,ro,{value:Vg}),Object.defineProperty(this,pn,{value:qg}),Object.defineProperty(this,Zs,{value:Bg}),Object.defineProperty(this,En,{value:jg}),Object.defineProperty(this,Ie,{value:Hg}),Object.defineProperty(this,ue,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,ce,{writable:!0,value:void 0}),Object.defineProperty(this,fn,{writable:!0,value:void 0}),Object.defineProperty(this,at,{writable:!0,value:(0,Nu.default)()}),Object.defineProperty(this,Qt,{writable:!0,value:new Set}),Object.defineProperty(this,Zt,{writable:!0,value:new Set}),Object.defineProperty(this,ct,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,Object.defineProperty(this,no,{writable:!0,value:(i,s)=>{let o=i?this.getFile(i.id):void 0;if(i==null||!o){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}if(o.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${i.id}`);return}let a={bytesTotal:s.bytesTotal,percentage:s.bytesTotal!=null&&Number.isFinite(s.bytesTotal)&&s.bytesTotal>0?Math.round(s.bytesUploaded/s.bytesTotal*100):void 0};o.progress.uploadStarted!=null?this.setFileState(i.id,{progress:{...o.progress,...a,bytesUploaded:s.bytesUploaded}}):this.setFileState(i.id,{progress:{...o.progress,...a}}),b(this,dt)[dt]()}}),Object.defineProperty(this,dt,{writable:!0,value:(0,Ru.default)(()=>b(this,vn)[vn](),500,{leading:!0,trailing:!0})}),Object.defineProperty(this,Qe,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,_n,{writable:!0,value:new Map}),this.defaultLocale=Pu;let r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Ou,meta:{},onBeforeFileAdded:(i,s)=>!Object.hasOwn(s,i.id),onBeforeUpload:i=>i,store:new mu,logger:yu,infoTimeout:5e3},n={...r,...e};this.opts={...n,restrictions:{...r.restrictions,...e&&e.restrictions}},e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=Eu),this.log(`Using Core v${t.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Di,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Xs(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),b(this,ce)[ce]=new Ri(()=>this.opts,()=>this.i18n),b(this,fn)[fn]=this.store.subscribe((i,s,o)=>{this.emit("state-update",i,s,o),this.updateAll(s)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),b(this,eo)[eo]()}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];b(this,at)[at].emit(e,...n)}on(e,r){return b(this,at)[at].on(e,r),this}once(e,r){return b(this,at)[at].once(e,r),this}off(e,r){return b(this,at)[at].off(e,r),this}updateAll(e){this.iteratePlugins(r=>{r.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){let r=this.getState().files;this.setState({files:{...r,...Object.fromEntries(Object.entries(e).map(n=>{let[i,s]=n;return[i,{...r[i],...s}]}))}})}setFileState(e,r){if(!this.getState().files[e])throw new Error(`Can\u2019t set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:r})}i18nInit(){let e=n=>this.log(`Missing i18n string: ${n}`,"error"),r=new Gt([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e?.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(r=>{r.setOptions(e)}),this.setState(void 0)}resetProgress(){let e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},n=Object.create(null);Object.keys(r).forEach(i=>{n[i]={...r[i],progress:{...r[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:n,...Di})}clear(){let{capabilities:e,currentUploads:r}=this.getState();if(Object.keys(r).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Di,files:{}})}addPreProcessor(e){b(this,Qt)[Qt].add(e)}removePreProcessor(e){return b(this,Qt)[Qt].delete(e)}addPostProcessor(e){b(this,ct)[ct].add(e)}removePostProcessor(e){return b(this,ct)[ct].delete(e)}addUploader(e){b(this,Zt)[Zt].add(e)}removeUploader(e){return b(this,Zt)[Zt].delete(e)}setMeta(e){let r={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach(i=>{n[i]={...n[i],meta:{...n[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:r,files:n})}setFileMeta(e,r){let n={...this.getState().files};if(!n[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}let i={...n[e].meta,...r};n[e]={...n[e],meta:i},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){let{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(r=>this.getFile(r))}getObjectOfFilesPerState(){let{files:e,totalProgress:r,error:n}=this.getState(),i=Object.values(e),s=[],o=[],a=[],l=[],u=[],d=[],c=[],p=[],f=[];for(let h of i){let{progress:g}=h;!g.uploadComplete&&g.uploadStarted&&(s.push(h),h.isPaused||p.push(h)),g.uploadStarted||o.push(h),(g.uploadStarted||g.preprocess||g.postprocess)&&a.push(h),g.uploadStarted&&l.push(h),h.isPaused&&u.push(h),g.uploadComplete&&d.push(h),h.error&&c.push(h),(g.preprocess||g.postprocess)&&f.push(h)}return{newFiles:o,startedFiles:a,uploadStartedFiles:l,pausedFiles:u,completeFiles:d,erroredFiles:c,inProgressFiles:s,inProgressNotPausedFiles:p,processingFiles:f,isUploadStarted:l.length>0,isAllComplete:r===100&&d.length===i.length&&f.length===0,isAllErrored:!!n&&c.length===i.length,isAllPaused:s.length!==0&&u.length===s.length,isUploadInProgress:s.length>0,isSomeGhost:i.some(h=>h.isGhost)}}validateRestrictions(e,r){r===void 0&&(r=this.getFiles());try{b(this,ce)[ce].validate(r,[e])}catch(n){return n}return null}validateSingleFile(e){try{b(this,ce)[ce].validateSingleFile(e)}catch(r){return r.message}return null}validateAggregateRestrictions(e){let r=this.getFiles();try{b(this,ce)[ce].validateAggregateRestrictions(r,e)}catch(n){return n.message}return null}checkIfFileAlreadyExists(e){let{files:r}=this.getState();return!!(r[e]&&!r[e].isGhost)}addFile(e){b(this,pn)[pn](e);let{nextFilesState:r,validFilesToAdd:n,errors:i}=b(this,mn)[mn]([e]),s=i.filter(a=>a.isRestriction);if(b(this,Ie)[Ie](s),i.length>0)throw i[0];this.setState({files:r});let[o]=n;return this.emit("file-added",o),this.emit("files-added",n),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),b(this,hn)[hn](),o.id}addFiles(e){b(this,pn)[pn]();let{nextFilesState:r,validFilesToAdd:n,errors:i}=b(this,mn)[mn](e),s=i.filter(a=>a.isRestriction);b(this,Ie)[Ie](s);let o=i.filter(a=>!a.isRestriction);if(o.length>0){let a=`Multiple errors occurred while adding files:
`;if(o.forEach(l=>{a+=`
 * ${l.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:a},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,a);{let l=new Error(a);throw l.errors=o,l}}this.setState({files:r}),n.forEach(a=>{this.emit("file-added",a)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(a=>{this.log(`Added file: ${a.name}
 id: ${a.id}
 type: ${a.type}`)}),n.length>0&&b(this,hn)[hn]()}removeFiles(e){let{files:r,currentUploads:n}=this.getState(),i={...r},s={...n},o=Object.create(null);e.forEach(d=>{r[d]&&(o[d]=r[d],delete i[d])});function a(d){return o[d]===void 0}Object.keys(s).forEach(d=>{let c=n[d].fileIDs.filter(a);if(c.length===0){delete s[d];return}let{capabilities:p}=this.getState();if(c.length!==n[d].fileIDs.length&&!p.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");s[d]={...n[d],fileIDs:c}});let l={currentUploads:s,files:i};Object.keys(i).length===0&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),b(this,dt)[dt]();let u=Object.keys(o);u.forEach(d=>{this.emit("file-removed",o[d])}),u.length>5?this.log(`Removed ${u.length} files`):this.log(`Removed files: ${u.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;let r=this.getFile(e),i=!(r.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",r,i),i}pauseAll(){let e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{let i={...e[n],isPaused:!0};e[n]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){let e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{let i={...e[n],isPaused:!1,error:null};e[n]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){let e=await b(this,gn)[gn]();return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");let{files:e}=this.getState(),r=Object.keys(e);r.length&&this.removeFiles(r),this.setState(Di)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));let r=b(this,lt)[lt]([e],{forceAllowNewUpload:!0});return b(this,ut)[ut](r)}logout(){this.iteratePlugins(e=>{var r;(r=e.provider)==null||r.logout==null||r.logout()})}[Symbol.for("uppy test: updateTotalProgress")](){return b(this,vn)[vn]()}updateOnlineStatus(){var e;((e=window.navigator.onLine)!=null?e:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e){if(typeof e!="function"){let l=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(l)}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];let s=new e(this,...n),o=s.id;if(!o)throw new Error("Your plugin must have an id");if(!s.type)throw new Error("Your plugin must have a type");let a=this.getPlugin(o);if(a){let l=`Already found a plugin named '${a.id}'. Tried to use: '${o}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(l)}return e.VERSION&&this.log(`Using ${o} v${e.VERSION}`),s.type in b(this,ue)[ue]?b(this,ue)[ue][s.type].push(s):b(this,ue)[ue][s.type]=[s],s.install(),this.emit("plugin-added",s),this}getPlugin(e){for(let r of Object.values(b(this,ue)[ue])){let n=r.find(i=>i.id===e);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](e){return b(this,ue)[ue][e]}iteratePlugins(e){Object.values(b(this,ue)[ue]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();let r=b(this,ue)[ue][e.type],n=r.findIndex(o=>o.id===e.id);n!==-1&&r.splice(n,1);let s={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(s)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),b(this,fn)[fn](),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",b(this,Qe)[Qe]),window.removeEventListener("offline",b(this,Qe)[Qe]))}hideInfo(){let{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,r,n){r===void 0&&(r="info"),n===void 0&&(n=3e3);let i=typeof e=="object";this.setState({info:[...this.getState().info,{type:r,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(e,r){let{logger:n}=this.opts;switch(r){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e);break}}registerRequestClient(e,r){b(this,_n)[_n].set(e,r)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);let r=b(this,_n)[_n].get(e.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return r}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?b(this,ut)[ut](e):(b(this,er)[er](e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](){return b(this,lt)[lt](...arguments)}addResultData(e,r){if(!b(this,to)[to](e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}let{currentUploads:n}=this.getState(),i={...n[e],result:{...n[e].result,...r}};this.setState({currentUploads:{...n,[e]:i}})}async upload(){var e;(e=b(this,ue)[ue].uploader)!=null&&e.length||this.log("No uploader type plugins are used","warning");let{files:r}=this.getState();if(b(this,yn)[yn]().length>0){let s=await b(this,gn)[gn]();if(!(this.getFiles().filter(a=>a.progress.uploadStarted==null).length>0))return this.emit("complete",s),s;({files:r}=this.getState())}let i=this.opts.onBeforeUpload(r);return i===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(i&&typeof i=="object"&&(r=i,this.setState({files:r})),Promise.resolve().then(()=>b(this,ce)[ce].validateMinNumberOfFiles(r)).catch(s=>{throw b(this,Ie)[Ie]([s]),s}).then(()=>{if(!b(this,Zs)[Zs](r))throw new Oe(this.i18n("missingRequiredMetaField"))}).catch(s=>{throw s}).then(async()=>{let{currentUploads:s}=this.getState(),o=Object.values(s).flatMap(d=>d.fileIDs),a=[];Object.keys(r).forEach(d=>{let c=this.getFile(d);!c.progress.uploadStarted&&o.indexOf(d)===-1&&a.push(c.id)});let l=b(this,lt)[lt](a),u=await b(this,ut)[ut](l);return this.emit("complete",u),u}).catch(s=>{throw this.emit("error",s),this.log(s,"error"),s}))}};function Hg(t){for(let s of t)s.isRestriction?this.emit("restriction-failed",s.file,s):this.emit("error",s,s.file),this.log(s,"warning");let e=t.filter(s=>s.isUserFacing),r=4,n=e.slice(0,r),i=e.slice(r);n.forEach(s=>{let{message:o,details:a=""}=s;this.info({message:o,details:a},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})}function jg(t){let{missingFields:e,error:r}=b(this,ce)[ce].getMissingRequiredMetaFields(t);return e.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:e}),this.log(r.message),this.emit("restriction-failed",t,r),!1):!0}function Bg(t){let e=!0;for(let r of Object.values(t))b(this,En)[En](r)||(e=!1);return e}function qg(t){let{allowNewUpload:e}=this.getState();if(e===!1){let r=new Oe(this.i18n("noMoreFilesAllowed"),{file:t});throw b(this,Ie)[Ie]([r]),r}}function Vg(t){let e=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,r=cn(e),n=Gs(r,e),i=un(n).extension,s=_u(e,this.getID()),o=e.meta||{};o.name=n,o.type=r;let a=Number.isFinite(e.data.size)?e.data.size:null;return{source:e.source||"",id:s,name:n,extension:i||"",meta:{...this.getState().meta,...o},type:r,data:e.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:a,uploadComplete:!1,uploadStarted:null},size:a,isGhost:!1,isRemote:e.isRemote||!1,remote:e.remote,preview:e.preview}}function Wg(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))}function zg(t){let{files:e}=this.getState(),r={...e},n=[],i=[];for(let a of t)try{var s;let l=b(this,ro)[ro](a),u=(s=e[l.id])==null?void 0:s.isGhost;u&&(l={...e[l.id],isGhost:!1,data:a.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`));let d=this.opts.onBeforeFileAdded(l,r);if(!d&&this.checkIfFileAlreadyExists(l.id)){var o;throw new Oe(this.i18n("noDuplicates",{fileName:(o=l.name)!=null?o:this.i18n("unnamed")}),{file:a})}if(d===!1&&!u)throw new Oe("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:a});typeof d=="object"&&d!==null&&(l=d),b(this,ce)[ce].validateSingleFile(l),r[l.id]=l,n.push(l)}catch(l){i.push(l)}try{b(this,ce)[ce].validateAggregateRestrictions(Object.values(e),n)}catch(a){return i.push(a),{nextFilesState:e,validFilesToAdd:[],errors:i}}return{nextFilesState:r,validFilesToAdd:n,errors:i}}function Kg(){let{files:t}=this.getState();return Object.keys(t).filter(e=>t[e].error)}async function Yg(){let t=b(this,yn)[yn](),e={...this.getState().files};if(t.forEach(n=>{e[n]={...e[n],isPaused:!1,error:null}}),this.setState({files:e,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};let r=b(this,lt)[lt](t,{forceAllowNewUpload:!0});return b(this,ut)[ut](r)}function Xg(){var t,e;let r=b(this,io)[io](),n=null;r!=null&&(n=Math.round(r*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",(t=n)!=null?t:0),this.setState({totalProgress:(e=n)!=null?e:0})}function Gg(){let e=this.getFiles().filter(a=>a.progress.uploadStarted||a.progress.preprocess||a.progress.postprocess);if(e.length===0)return 0;if(e.every(a=>a.progress.uploadComplete))return 1;let r=a=>a.progress.bytesTotal!=null&&a.progress.bytesTotal!==0,n=e.filter(r),i=e.filter(a=>!r(a));if(n.every(a=>a.progress.uploadComplete)&&i.length>0&&!i.every(a=>a.progress.uploadComplete))return null;let s=n.reduce((a,l)=>{var u;return a+((u=l.progress.bytesTotal)!=null?u:0)},0),o=n.reduce((a,l)=>a+(l.progress.bytesUploaded||0),0);return s===0?0:o/s}function Jg(){let t=(n,i,s)=>{let o=n.message||"Unknown error";n.details&&(o+=` ${n.details}`),this.setState({error:o}),i!=null&&i.id in this.getState().files&&this.setFileState(i.id,{error:o,response:s})};this.on("error",t),this.on("upload-error",(n,i,s)=>{if(t(i,n,s),typeof i=="object"&&i.message){var o;this.log(i.message,"error");let a=new Error(this.i18n("failedToUpload",{file:(o=n?.name)!=null?o:""}));a.isUserFacing=!0,a.details=i.message,i.details&&(a.details+=` ${i.details}`),b(this,Ie)[Ie]([a])}else b(this,Ie)[Ie]([i])});let e=null;this.on("upload-stalled",(n,i)=>{let{message:s}=n,o=i.map(a=>a.meta.name).join(", ");e||(this.info({message:s,details:o},"warning",this.opts.infoTimeout),e=setTimeout(()=>{e=null},this.opts.infoTimeout)),this.log(`${s} ${o}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});let r=n=>{let i=n.filter(o=>{let a=o!=null&&this.getFile(o.id);return a||this.log(`Not setting progress for a file that has been removed: ${o?.id}`),a}),s=Object.fromEntries(i.map(o=>[o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:o.size}}]));this.patchFilesState(s)};this.on("upload-start",r),this.on("upload-progress",b(this,no)[no]),this.on("upload-success",(n,i)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n?.id}`);return}let s=this.getFile(n.id).progress;this.setFileState(n.id,{progress:{...s,postprocess:b(this,ct)[ct].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:s.bytesTotal},response:i,uploadURL:i.uploadURL,isPaused:!1}),n.size==null&&this.setFileState(n.id,{size:i.bytesUploaded||s.bytesTotal}),b(this,dt)[dt]()}),this.on("preprocess-progress",(n,i)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n?.id}`);return}this.setFileState(n.id,{progress:{...this.getFile(n.id).progress,preprocess:i}})}),this.on("preprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n?.id}`);return}let i={...this.getState().files};i[n.id]={...i[n.id],progress:{...i[n.id].progress}},delete i[n.id].progress.preprocess,this.setState({files:i})}),this.on("postprocess-progress",(n,i)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n?.id}`);return}this.setFileState(n.id,{progress:{...this.getState().files[n.id].progress,postprocess:i}})}),this.on("postprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n?.id}`);return}let i={...this.getState().files};i[n.id]={...i[n.id],progress:{...i[n.id].progress}},delete i[n.id].progress.postprocess,this.setState({files:i})}),this.on("restored",()=>{b(this,dt)[dt]()}),this.on("dashboard:file-edit-complete",n=>{n&&b(this,En)[En](n)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",b(this,Qe)[Qe]),window.addEventListener("offline",b(this,Qe)[Qe]),setTimeout(b(this,Qe)[Qe],3e3))}function Qg(t,e){e===void 0&&(e={});let{forceAllowNewUpload:r=!1}=e,{allowNewUpload:n,currentUploads:i}=this.getState();if(!n&&!r)throw new Error("Cannot create a new upload: already uploading.");let s=Ll();return this.emit("upload",s,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[s]:{fileIDs:t,step:0,result:{}}}}),s}function Zg(t){let{currentUploads:e}=this.getState();return e[t]}function ev(t){let e={...this.getState().currentUploads};delete e[t],this.setState({currentUploads:e})}async function tv(t){let e=()=>{let{currentUploads:s}=this.getState();return s[t]},r=e(),n=[...b(this,Qt)[Qt],...b(this,Zt)[Zt],...b(this,ct)[ct]];try{for(let s=r.step||0;s<n.length&&r;s++){let o=n[s];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...r,step:s}}});let{fileIDs:a}=r;await o(a,t),r=e()}}catch(s){throw b(this,er)[er](t),s}if(r){r.fileIDs.forEach(l=>{let u=this.getFile(l);u&&u.progress.postprocess&&this.emit("postprocess-complete",u)});let s=r.fileIDs.map(l=>this.getFile(l)),o=s.filter(l=>!l.error),a=s.filter(l=>l.error);this.addResultData(t,{successful:o,failed:a,uploadID:t}),r=e()}let i;return r&&(i=r.result,b(this,er)[er](t)),i==null&&this.log(`Not setting result for an upload that has been removed: ${t}`),i}Li.VERSION=Ug.version;var Ii=Li;var Ui,z,ku,rv,tr,Du,$u,Mu,Uu,ao,so,oo,nv,bn={},Hu=[],iv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Hi=Array.isArray;function ft(t,e){for(var r in e)t[r]=e[r];return t}function lo(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function T(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Ui.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]==null&&(o[s]=t.defaultProps[s]);return ki(t,o,n,i,null)}function ki(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++ku,__i:-1,__u:0};return i==null&&z.vnode!=null&&z.vnode(s),s}function ji(t){return t.children}function $i(t,e){this.props=t,this.context=e}function $r(t,e){if(e==null)return t.__?$r(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?$r(t):null}function ju(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return ju(t)}}function Lu(t){(!t.__d&&(t.__d=!0)&&tr.push(t)&&!Mi.__r++||Du!=z.debounceRendering)&&((Du=z.debounceRendering)||$u)(Mi)}function Mi(){for(var t,e,r,n,i,s,o,a=1;tr.length;)tr.length>a&&tr.sort(Mu),t=tr.shift(),a=tr.length,t.__d&&(r=void 0,i=(n=(e=t).__v).__e,s=[],o=[],e.__P&&((r=ft({},n)).__v=n.__v+1,z.vnode&&z.vnode(r),uo(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,s,i??$r(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,Vu(s,r,o),r.__e!=i&&ju(r)));Mi.__r=0}function Bu(t,e,r,n,i,s,o,a,l,u,d){var c,p,f,h,g,v,m=n&&n.__k||Hu,w=e.length;for(l=sv(r,e,m,l,w),c=0;c<w;c++)(f=r.__k[c])!=null&&(p=f.__i==-1?bn:m[f.__i]||bn,f.__i=c,v=uo(t,f,p,i,s,o,a,l,u,d),h=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&co(p.ref,null,f),d.push(f.ref,f.__c||h,f)),g==null&&h!=null&&(g=h),4&f.__u||p.__k===f.__k?l=qu(f,l,t):typeof f.type=="function"&&v!==void 0?l=v:h&&(l=h.nextSibling),f.__u&=-7);return r.__e=g,l}function sv(t,e,r,n,i){var s,o,a,l,u,d=r.length,c=d,p=0;for(t.__k=new Array(i),s=0;s<i;s++)(o=e[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=s+p,(o=t.__k[s]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?ki(null,o,null,null,null):Hi(o)?ki(ji,{children:o},null,null,null):o.constructor==null&&o.__b>0?ki(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,a=null,(u=o.__i=ov(o,r,l,c))!=-1&&(c--,(a=r[u])&&(a.__u|=2)),a==null||a.__v==null?(u==-1&&(i>d?p--:i<d&&p++),typeof o.type!="function"&&(o.__u|=4)):u!=l&&(u==l-1?p--:u==l+1?p++:(u>l?p--:p++,o.__u|=4))):t.__k[s]=null;if(c)for(s=0;s<d;s++)(a=r[s])!=null&&(2&a.__u)==0&&(a.__e==n&&(n=$r(a)),zu(a,a));return n}function qu(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=qu(n[i],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=$r(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ov(t,e,r,n){var i,s,o=t.key,a=t.type,l=e[r];if(l===null&&t.key==null||l&&o==l.key&&a==l.type&&(2&l.__u)==0)return r;if(n>(l!=null&&(2&l.__u)==0?1:0))for(i=r-1,s=r+1;i>=0||s<e.length;){if(i>=0){if((l=e[i])&&(2&l.__u)==0&&o==l.key&&a==l.type)return i;i--}if(s<e.length){if((l=e[s])&&(2&l.__u)==0&&o==l.key&&a==l.type)return s;s++}}return-1}function Iu(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||iv.test(e)?r:r+"px"}function Fi(t,e,r,n,i){var s;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Iu(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||Iu(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(Uu,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=ao,t.addEventListener(e,s?oo:so,s)):t.removeEventListener(e,s?oo:so,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Fu(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=ao++;else if(e.t<r.u)return;return r(z.event?z.event(e):e)}}}function uo(t,e,r,n,i,s,o,a,l,u){var d,c,p,f,h,g,v,m,w,x,y,O,E,S,C,L,I,F=e.type;if(e.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=e.__e=r.__e]),(d=z.__b)&&d(e);e:if(typeof F=="function")try{if(m=e.props,w="prototype"in F&&F.prototype.render,x=(d=F.contextType)&&n[d.__c],y=d?x?x.props.value:d.__:n,r.__c?v=(c=e.__c=r.__c).__=c.__E:(w?e.__c=c=new F(m,y):(e.__c=c=new $i(m,y),c.constructor=F,c.render=lv),x&&x.sub(c),c.props=m,c.state||(c.state={}),c.context=y,c.__n=n,p=c.__d=!0,c.__h=[],c._sb=[]),w&&c.__s==null&&(c.__s=c.state),w&&F.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ft({},c.__s)),ft(c.__s,F.getDerivedStateFromProps(m,c.__s))),f=c.props,h=c.state,c.__v=e,p)w&&F.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),w&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w&&F.getDerivedStateFromProps==null&&m!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,y),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,y)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(c.props=m,c.state=c.__s,c.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(H){H&&(H.__=e)}),O=0;O<c._sb.length;O++)c.__h.push(c._sb[O]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,y),w&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,h,g)})}if(c.context=y,c.props=m,c.__P=t,c.__e=!1,E=z.__r,S=0,w){for(c.state=c.__s,c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),C=0;C<c._sb.length;C++)c.__h.push(c._sb[C]);c._sb=[]}else do c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++S<25);c.state=c.__s,c.getChildContext!=null&&(n=ft(ft({},n),c.getChildContext())),w&&!p&&c.getSnapshotBeforeUpdate!=null&&(g=c.getSnapshotBeforeUpdate(f,h)),L=d,d!=null&&d.type===ji&&d.key==null&&(L=Wu(d.props.children)),a=Bu(t,Hi(L)?L:[L],e,r,n,i,s,o,a,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&o.push(c),v&&(c.__E=c.__=null)}catch(H){if(e.__v=null,l||s!=null)if(H.then){for(e.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else for(I=s.length;I--;)lo(s[I]);else e.__e=r.__e,e.__k=r.__k;z.__e(H,e,r)}else s==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=av(r.__e,e,r,n,i,s,o,l,u);return(d=z.diffed)&&d(e),128&e.__u?void 0:a}function Vu(t,e,r){for(var n=0;n<r.length;n++)co(r[n],r[++n],r[++n]);z.__c&&z.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){z.__e(s,i.__v)}})}function Wu(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Hi(t)?t.map(Wu):ft({},t)}function av(t,e,r,n,i,s,o,a,l){var u,d,c,p,f,h,g,v=r.props,m=e.props,w=e.type;if(w=="svg"?i="http://www.w3.org/2000/svg":w=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((f=s[u])&&"setAttribute"in f==!!w&&(w?f.localName==w:f.nodeType==3)){t=f,s[u]=null;break}}if(t==null){if(w==null)return document.createTextNode(m);t=document.createElementNS(i,w,m.is&&m),a&&(z.__m&&z.__m(e,s),a=!1),s=null}if(w==null)v===m||a&&t.data==m||(t.data=m);else{if(s=s&&Ui.call(t.childNodes),v=r.props||bn,!a&&s!=null)for(v={},u=0;u<t.attributes.length;u++)v[(f=t.attributes[u]).name]=f.value;for(u in v)if(f=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=f;else if(!(u in m)){if(u=="value"&&"defaultValue"in m||u=="checked"&&"defaultChecked"in m)continue;Fi(t,u,null,f,i)}}for(u in m)f=m[u],u=="children"?p=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?h=f:u=="checked"?g=f:a&&typeof f!="function"||v[u]===f||Fi(t,u,f,v[u],i);if(d)a||c&&(d.__html==c.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),Bu(e.type=="template"?t.content:t,Hi(p)?p:[p],e,r,n,w=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&$r(r,0),a,l),s!=null)for(u=s.length;u--;)lo(s[u]);a||(u="value",w=="progress"&&h==null?t.removeAttribute("value"):h!=null&&(h!==t[u]||w=="progress"&&!h||w=="option"&&h!=v[u])&&Fi(t,u,h,v[u],i),u="checked",g!=null&&g!=t[u]&&Fi(t,u,g,v[u],i))}return t}function co(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){z.__e(i,r)}}function zu(t,e,r){var n,i;if(z.unmount&&z.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||co(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){z.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&zu(n[i],e,r||typeof t.type!="function");r||lo(t.__e),t.__c=t.__=t.__e=void 0}function lv(t,e,r){return this.constructor(t,r)}function fo(t,e,r){var n,i,s,o;e==document&&(e=document.documentElement),z.__&&z.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],uo(e,t=(!n&&r||e).__k=T(ji,null,[t]),i||bn,bn,e.namespaceURI,!n&&r?[r]:i?null:e.firstChild?Ui.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),Vu(s,t,o)}Ui=Hu.slice,z={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},ku=0,rv=function(t){return t!=null&&t.constructor==null},$i.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ft({},this.state),typeof t=="function"&&(t=t(ft({},r),this.props)),t&&ft(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Lu(this))},$i.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Lu(this))},$i.prototype.render=ji,tr=[],$u=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Mu=function(t,e){return t.__v.__b-e.__v.__b},Mi.__r=0,Uu=/(PointerCapture)$|Capture$/i,ao=0,so=Fu(!1),oo=Fu(!0),nv=0;function po(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function uv(t,e){return e===void 0&&(e=document),typeof t=="string"?e.querySelector(t):po(t)?t:null}var Ku=uv;function cv(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}var Bi=cv;var It=class{constructor(e,r){this.uppy=e,this.opts=r??{}}getPluginState(){let{plugins:e}=this.uppy.getState();return e?.[this.id]||{}}setPluginState(e){let{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){let e=new Gt([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}};function Yu(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var dv=0;function fv(t){return"__private_"+dv+++"_"+t}function pv(t){let e=null,r;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=i,e||(e=Promise.resolve().then(()=>(e=null,t(...r)))),e}}var wn=fv("updateUI"),ho=class t extends It{constructor(){super(...arguments),Object.defineProperty(this,wn,{writable:!0,value:void 0})}getTargetPlugin(e){let r;if(typeof e?.addTarget=="function")r=e,r instanceof t||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:t}}));else if(typeof e=="function"){let n=e;this.uppy.iteratePlugins(i=>{i instanceof n&&(r=i)})}return r}mount(e,r){let n=r.id,i=Ku(e);if(i){this.isTargetDOMEl=!0;let a=document.createElement("div");return a.classList.add("uppy-Root"),Yu(this,wn)[wn]=pv(l=>{this.uppy.getPlugin(this.id)&&(fo(this.render(l,a),a),this.afterUpdate())}),this.uppy.log(`Installing ${n} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(i.innerHTML=""),fo(this.render(this.uppy.getState(),a),a),this.el=a,i.appendChild(a),a.dir=this.opts.direction||Bi(a)||"ltr",this.onMount(),this.el}let s=this.getTargetPlugin(e);if(s)return this.uppy.log(`Installing ${n} to ${s.id}`),this.parent=s,this.el=s.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${n}`);let o=`Invalid target option given to ${n}.`;throw typeof e=="function"?o+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":o+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(o)}render(e,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(e){if(this.el!=null){var r,n;(r=(n=Yu(this,wn))[wn])==null||r.call(n,e)}}unmount(){if(this.isTargetDOMEl){var e;(e=this.el)==null||e.remove()}this.onUnmount()}onMount(){}onUnmount(){}},Sn=ho;var qi=Array.from;function mo(){let t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function Vi(t,e,r,n){let{onSuccess:i}=n;t.readEntries(s=>{let o=[...e,...s];s.length?queueMicrotask(()=>{Vi(t,o,r,{onSuccess:i})}):i(o)},s=>{r(s),i(e)})}function Xu(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((r,n)=>t.file(r,n))},async*values(){let r=t.createReader();yield*await new Promise(i=>{Vi(r,[],e,{onSuccess:s=>i(s.map(o=>Xu(o,e)))})})},isSameEntry:void 0}}function Gu(t,e,r){try{return r===void 0&&(r=void 0),async function*(){let n=()=>`${e}/${t.name}`;if(t.kind==="file"){let i=await t.getFile();i!=null?(i.relativePath=e?n():null,yield i):r!=null&&(yield r)}else if(t.kind==="directory")for await(let i of t.values())yield*Gu(i,e?n():t.name);else r!=null&&(yield r)}()}catch(n){return Promise.reject(n)}}async function*go(t,e){let r=await Promise.all(Array.from(t.items,async n=>{var i;let s,o=()=>typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry();return(i=s)!=null||(s=Xu(o(),e)),{fileSystemHandle:s,lastResortFile:n.getAsFile()}}));for(let{lastResortFile:n,fileSystemHandle:i}of r)if(i!=null)try{yield*Gu(i,"",n)}catch(s){n!=null?yield n:e(s)}else n!=null&&(yield n)}function vo(t){let e=qi(t.files);return Promise.resolve(e)}async function _o(t,e){var r;let n=(r=e?.logDropError)!=null?r:Function.prototype;try{let i=[];for await(let s of go(t,n))i.push(s);return i}catch{return vo(t)}}var Ju={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};var hv={version:"4.1.2"},mv={inputName:"files[]",width:"100%",height:"100%"},rr=class t extends Sn{constructor(e,r){super(e,{...mv,...r}),this.isDragDropSupported=mo(),this.addFiles=n=>{let i=n.map(s=>({source:this.id,name:s.name,type:s.type,data:s,meta:{relativePath:s.relativePath||null}}));try{this.uppy.addFiles(i)}catch(s){this.uppy.log(s)}},this.onInputChange=n=>{let i=qi(n.currentTarget.files||[]);i.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(i)),n.currentTarget.value=""},this.handleDragOver=n=>{var i,s;n.preventDefault(),n.stopPropagation();let{types:o}=n.dataTransfer,a=o.some(u=>u==="Files"),{allowNewUpload:l}=this.uppy.getState();if(!a||!l){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),(i=(s=this.opts).onDragOver)==null||i.call(s,n)},this.handleDragLeave=n=>{var i,s;n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),(i=(s=this.opts).onDragLeave)==null||i.call(s,n)},this.handleDrop=async n=>{var i,s;n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1});let o=l=>{this.uppy.log(l,"error")},a=await _o(n.dataTransfer,{logDropError:o});a.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(a)),(i=(s=this.opts).onDrop)==null||i.call(s,n)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=Ju,this.i18nInit()}renderHiddenFileInput(){var e;let{restrictions:r}=this.uppy.opts;return T("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:n=>{this.fileInputRef=n},name:this.opts.inputName,multiple:r.maxNumberOfFiles!==1,accept:(e=r.allowedFileTypes)==null?void 0:e.join(", "),onChange:this.onInputChange})}static renderArrowSvg(){return T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},T("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return T("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:T("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return T("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){let e=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,r={width:this.opts.width,height:this.opts.height};return T("button",{type:"button",className:e,style:r,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),T("div",{className:"uppy-DragDrop-inner"},t.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){let{target:e}=this.opts;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}uninstall(){this.unmount()}};rr.VERSION=hv.version;function Wi(t,e,r,n){return r===0||t===e?t:n===0?e:t+(e-t)*2**(-n/r)}var Fe={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var xo=Tt(yo(),1);function Tn(t){let e=[],r="indeterminate",n;for(let{progress:s}of Object.values(t)){let{preprocess:o,postprocess:a}=s;n==null&&(o||a)&&({mode:r,message:n}=o||a),o?.mode==="determinate"&&e.push(o.value),a?.mode==="determinate"&&e.push(a.value)}let i=e.reduce((s,o)=>s+o/e.length,0);return{mode:r,message:n,value:i}}var So=Tt(yo(),1),wo=Tt(Qs(),1);function Eo(t){let e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}function bo(t){let e=Eo(t),r=e.hours===0?"":`${e.hours}h`,n=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${n}${i}`}var gv="\xB7",Qu=()=>` ${gv} `;function Zu(t){let{newFiles:e,isUploadStarted:r,recoveredState:n,i18n:i,uploadState:s,isSomeGhost:o,startUpload:a}=t,l=(0,So.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":s===Fe.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),u=e&&r&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return T("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:a,disabled:o,"data-uppy-super-focusable":!0},u)}function ec(t){let{i18n:e,uppy:r}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry"},T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},T("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}function tc(t){let{i18n:e,uppy:r}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},T("g",{fill:"none",fillRule:"evenodd"},T("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),T("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function rc(t){let{isAllPaused:e,i18n:r,isAllComplete:n,resumableUploads:i,uppy:s}=t,o=r(e?"resume":"pause");function a(){if(!n){if(!i){s.cancelAll();return}if(e){s.resumeAll();return}s.pauseAll()}}return T("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:a,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},T("g",{fill:"none",fillRule:"evenodd"},T("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),T("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function nc(t){let{i18n:e,doneButtonHandler:r}=t;return T("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},e("done"))}function ic(){return T("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},T("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function sc(t){let{progress:e}=t,{value:r,mode:n,message:i}=e;return T("div",{className:"uppy-StatusBar-content"},T(ic,null),n==="determinate"?`${Math.round(r*100)}% \xB7 `:"",i)}function vv(t){let{numUploads:e,complete:r,totalUploadedSize:n,totalSize:i,totalETA:s,i18n:o}=t,a=e>1,l=(0,wo.default)(n);return T("div",{className:"uppy-StatusBar-statusSecondary"},a&&o("filesUploadedOfTotal",{complete:r,smart_count:e}),T("span",{className:"uppy-StatusBar-additionalInfo"},a&&Qu(),i!=null?o("dataUploadedOfTotal",{complete:l,total:(0,wo.default)(i)}):o("dataUploadedOfUnknown",{complete:l}),Qu(),s!=null&&o("xTimeLeft",{time:bo(s)})))}function oc(t){let{i18n:e,complete:r,numUploads:n}=t;return T("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:r,smart_count:n}))}function _v(t){let{i18n:e,newFiles:r,startUpload:n}=t,i=(0,So.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return T("div",{className:"uppy-StatusBar-statusSecondary"},T("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:r})),T("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n},e("upload")))}function ac(t){let{i18n:e,supportsUploadProgress:r,totalProgress:n,showProgressDetails:i,isUploadStarted:s,isAllComplete:o,isAllPaused:a,newFiles:l,numUploads:u,complete:d,totalUploadedSize:c,totalSize:p,totalETA:f,startUpload:h}=t,g=l&&s;if(!s||o)return null;let v=e(a?"paused":"uploading");function m(){return!a&&!g&&i?r?T(vv,{numUploads:u,complete:d,totalUploadedSize:c,totalSize:p,totalETA:f,i18n:e}):T(oc,{i18n:e,complete:d,numUploads:u}):null}return T("div",{className:"uppy-StatusBar-content","aria-label":v,title:v},a?null:T(ic,null),T("div",{className:"uppy-StatusBar-status"},T("div",{className:"uppy-StatusBar-statusPrimary"},r&&n!==0?`${v}: ${n}%`:v),m(),g?T(_v,{i18n:e,newFiles:l,startUpload:h}):null))}function lc(t){let{i18n:e}=t;return T("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},T("div",{className:"uppy-StatusBar-status"},T("div",{className:"uppy-StatusBar-statusPrimary"},T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},T("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}function uc(t){let{error:e,i18n:r,complete:n,numUploads:i}=t;function s(){let o=`${r("uploadFailed")} 

 ${e}`;alert(o)}return T("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},T("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},T("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),T("div",{className:"uppy-StatusBar-status"},T("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),T("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:s,type:"button"},"?")),T(oc,{i18n:r,complete:n,numUploads:i})))}var{STATE_ERROR:cc,STATE_WAITING:yv,STATE_PREPROCESSING:To,STATE_UPLOADING:Ki,STATE_POSTPROCESSING:Ao,STATE_COMPLETE:Yi}=Fe;function Co(t){let{newFiles:e,allowNewUpload:r,isUploadInProgress:n,isAllPaused:i,resumableUploads:s,error:o,hideUploadButton:a=void 0,hidePauseResumeButton:l=!1,hideCancelButton:u=!1,hideRetryButton:d=!1,recoveredState:c,uploadState:p,totalProgress:f,files:h,supportsUploadProgress:g,hideAfterFinish:v=!1,isSomeGhost:m,doneButtonHandler:w=void 0,isUploadStarted:x,i18n:y,startUpload:O,uppy:E,isAllComplete:S,showProgressDetails:C=void 0,numUploads:L,complete:I,totalSize:F,totalETA:H,totalUploadedSize:M}=t;function Z(){switch(p){case Ao:case To:{let St=Tn(h);return St.mode==="determinate"?St.value*100:f}case cc:return null;case Ki:return g?f:null;default:return f}}function ve(){switch(p){case Ao:case To:{let{mode:St}=Tn(h);return St==="indeterminate"}case Ki:return!g;default:return!1}}let j=Z(),$=j??100,_e=!o&&e&&(!n&&!i||c)&&r&&!a,ee=!u&&p!==yv&&p!==Yi,me=s&&!l&&p===Ki,ge=o&&!S&&!d,B=w&&p===Yi,Xe=(0,xo.default)("uppy-StatusBar-progress",{"is-indeterminate":ve()}),Re=(0,xo.default)("uppy-StatusBar",`is-${p}`,{"has-ghosts":m}),De=(()=>{switch(p){case To:case Ao:return T(sc,{progress:Tn(h)});case Yi:return T(lc,{i18n:y});case cc:return T(uc,{error:o,i18n:y,numUploads:L,complete:I});case Ki:return T(ac,{i18n:y,supportsUploadProgress:g,totalProgress:f,showProgressDetails:C,isUploadStarted:x,isAllComplete:S,isAllPaused:i,newFiles:e,numUploads:L,complete:I,totalUploadedSize:M,totalSize:F,totalETA:H,startUpload:O});default:return null}})();return!(_e||ge||me||ee||B)&&!De||p===Yi&&v?null:T("div",{className:Re},T("div",{className:Xe,style:{width:`${$}%`},role:"progressbar","aria-label":`${$}%`,"aria-valuetext":`${$}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":j}),De,T("div",{className:"uppy-StatusBar-actions"},_e?T(Zu,{newFiles:e,isUploadStarted:x,recoveredState:c,i18n:y,isSomeGhost:m,startUpload:O,uploadState:p}):null,ge?T(ec,{i18n:y,uppy:E}):null,me?T(rc,{isAllPaused:i,i18n:y,isAllComplete:S,resumableUploads:s,uppy:E}):null,ee?T(tc,{i18n:y,uppy:E}):null,B?T(nc,{i18n:y,doneButtonHandler:w}):null))}var dc={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function X(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Ev=0;function Mr(t){return"__private_"+Ev+++"_"+t}var bv={version:"4.1.3"},wv=2e3,Sv=2e3;function Tv(t,e,r,n){if(t)return Fe.STATE_ERROR;if(e)return Fe.STATE_COMPLETE;if(r)return Fe.STATE_WAITING;let i=Fe.STATE_WAITING,s=Object.keys(n);for(let o=0;o<s.length;o++){let{progress:a}=n[s[o]];if(a.uploadStarted&&!a.uploadComplete)return Fe.STATE_UPLOADING;a.preprocess&&(i=Fe.STATE_PREPROCESSING),a.postprocess&&i!==Fe.STATE_PREPROCESSING&&(i=Fe.STATE_POSTPROCESSING)}return i}var Av={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},Ke=Mr("lastUpdateTime"),Ze=Mr("previousUploadedBytes"),pt=Mr("previousSpeed"),ke=Mr("previousETA"),Oo=Mr("computeSmoothETA"),An=Mr("onUploadStart"),nr=class extends Sn{constructor(e,r){super(e,{...Av,...r}),Object.defineProperty(this,Oo,{value:xv}),Object.defineProperty(this,Ke,{writable:!0,value:void 0}),Object.defineProperty(this,Ze,{writable:!0,value:void 0}),Object.defineProperty(this,pt,{writable:!0,value:void 0}),Object.defineProperty(this,ke,{writable:!0,value:void 0}),this.startUpload=()=>this.uppy.upload().catch(()=>{}),Object.defineProperty(this,An,{writable:!0,value:()=>{let{recoveredState:n}=this.uppy.getState();if(X(this,pt)[pt]=null,X(this,ke)[ke]=null,n){X(this,Ze)[Ze]=Object.values(n.files).reduce((i,s)=>{let{progress:o}=s;return i+o.bytesUploaded},0),this.uppy.emit("restore-confirmed");return}X(this,Ke)[Ke]=performance.now(),X(this,Ze)[Ze]=0}}),this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=dc,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){let{capabilities:r,files:n,allowNewUpload:i,totalProgress:s,error:o,recoveredState:a}=e,{newFiles:l,startedFiles:u,completeFiles:d,isUploadStarted:c,isAllComplete:p,isAllPaused:f,isUploadInProgress:h,isSomeGhost:g}=this.uppy.getObjectOfFilesPerState(),v=a?Object.values(n):l,m=!!r.resumableUploads,w=r.uploadProgress!==!1,x=null,y=0;u.every(E=>E.progress.bytesTotal!=null&&E.progress.bytesTotal!==0)?(x=0,u.forEach(E=>{x+=E.progress.bytesTotal||0,y+=E.progress.bytesUploaded||0})):u.forEach(E=>{y+=E.progress.bytesUploaded||0});let O=X(this,Oo)[Oo]({uploaded:y,total:x});return Co({error:o,uploadState:Tv(o,p,a,e.files||{}),allowNewUpload:i,totalProgress:s,totalSize:x,totalUploadedSize:y,isAllComplete:!1,isAllPaused:f,isUploadStarted:c,isUploadInProgress:h,isSomeGhost:g,recoveredState:a,complete:d.length,newFiles:v.length,numUploads:u.length,totalETA:O,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:m,supportsUploadProgress:w,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){let e=this.el;Bi(e)||(e.dir="ltr")}install(){let{target:e}=this.opts;e&&this.mount(e,this),this.uppy.on("upload",X(this,An)[An]),X(this,Ke)[Ke]=performance.now(),X(this,Ze)[Ze]=this.uppy.getFiles().reduce((r,n)=>r+n.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",X(this,An)[An])}};function xv(t){var e,r;if(t.total==null||t.total===0)return null;let n=t.total-t.uploaded;if(n<=0)return null;(r=(e=X(this,Ke))[Ke])!=null||(e[Ke]=performance.now());let i=performance.now()-X(this,Ke)[Ke];if(i===0){var s;return Math.round(((s=X(this,ke)[ke])!=null?s:0)/100)/10}let o=t.uploaded-X(this,Ze)[Ze];if(X(this,Ze)[Ze]=t.uploaded,o<=0){var a;return Math.round(((a=X(this,ke)[ke])!=null?a:0)/100)/10}let l=o/i,u=X(this,pt)[pt]==null?l:Wi(l,X(this,pt)[pt],wv,i);X(this,pt)[pt]=u;let d=n/u,c=Math.max(X(this,ke)[ke]-i,0),p=X(this,ke)[ke]==null?d:Wi(d,c,Sv,i);return X(this,ke)[ke]=p,X(this,Ke)[Ke]=performance.now(),Math.round(p/100)/10}nr.VERSION=bv.version;var Po=class extends Error{constructor(){super(...arguments),this.name="UserFacingApiError"}},fc=Po;var yc=Tt(vc(),1);var Ov=Object.prototype.toString,Pv=t=>Ov.call(t)==="[object Error]",Nv=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function No(t){return t&&Pv(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:Nv.has(t.message):!1}var Ur=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}},_c=(t,e,r)=>{let n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t};async function Xi(t,e){return new Promise((r,n)=>{e={...e},e.onFailedAttempt??=()=>{},e.shouldRetry??=()=>!0,e.retries??=10;let i=yc.default.operation(e),s=()=>{i.stop(),n(e.signal?.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",s,{once:!0});let o=()=>{e.signal?.removeEventListener("abort",s),i.stop()};i.attempt(async a=>{try{let l=await t(a);o(),r(l)}catch(l){try{if(!(l instanceof Error))throw new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`);if(l instanceof Ur)throw l.originalError;if(l instanceof TypeError&&!No(l))throw l;if(_c(l,a,e),await e.shouldRetry(l)||(i.stop(),n(l)),await e.onFailedAttempt(l),!i.retry(l))throw i.mainError()}catch(u){_c(u,a,e),o(),n(u)}}})})}var Ro=class extends Error{constructor(e,r){r===void 0&&(r=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=e,this.isNetworkError=!0,this.request=r}},Ec=Ro;function Do(){return fetch(...arguments).catch(t=>{throw t.name==="AbortError"?t:new Ec(t)})}function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Lo=class extends Error{constructor(e,r){super(e),this.cause=r?.cause,this.cause&&xn(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}},bc=Lo;function Io(t){var e;let n=(e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:e[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${n}`}var Fo=class extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}},wc=Fo;function ht(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Rv=0;function Gi(t){return"__private_"+Rv+++"_"+t}var Dv={version:"4.4.1"};function Lv(t){return t.replace(/\/$/,"")}var Sc=10,Iv=5*60*1e3,Tc=401,$o=class extends Error{constructor(e){let{statusCode:r,message:n}=e;super(n),this.name="HttpError",this.statusCode=r}};async function Fv(t){if(t.status===Tc)throw new wc;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,r;try{r=await t.json(),r.message&&(e=`${e} message: ${r.message}`),r.requestId&&(e=`${e} request-Id: ${r.requestId}`)}catch(n){throw new Error(e,{cause:n})}throw t.status>=400&&t.status<=499&&r.message?new fc(r.message):new $o({statusCode:t.status,message:e})}function kv(t,e,r){let{progress:n,bytesUploaded:i,bytesTotal:s}=e;if(n){var o;t.uppy.log(`Upload progress: ${n}`),t.uppy.emit("upload-progress",r,{uploadStarted:(o=r.progress.uploadStarted)!=null?o:0,bytesUploaded:i,bytesTotal:s})}}var mt=Gi("companionHeaders"),Cn=Gi("getUrl"),ko=Gi("requestSocketToken"),On=Gi("awaitRemoteFileUpload"),gt=class{constructor(e,r){Object.defineProperty(this,On,{value:Mv}),Object.defineProperty(this,Cn,{value:$v}),Object.defineProperty(this,mt,{writable:!0,value:void 0}),Object.defineProperty(this,ko,{writable:!0,value:async n=>{var i;let{file:s,postBody:o,signal:a}=n;if(((i=s.remote)==null?void 0:i.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(s.remote.url,{...s.remote.body,...o},{signal:a})).token}}),this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),ht(this,mt)[mt]=r.companionHeaders}setCompanionHeaders(e){ht(this,mt)[mt]=e}[Symbol.for("uppy test: getCompanionHeaders")](){return ht(this,mt)[mt]}get hostname(){let{companion:e}=this.uppy.getState(),r=this.opts.companionUrl;return Lv(e&&e[r]?e[r]:r)}async headers(e){return e===void 0&&(e=!1),{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...ht(this,mt)[mt]}}onReceiveResponse(e){let{headers:r}=e,i=this.uppy.getState().companion||{},s=this.opts.companionUrl;r.has("i-am")&&r.get("i-am")!==i[s]&&this.uppy.setState({companion:{...i,[s]:r.get("i-am")}})}async request(e){let{path:r,method:n="GET",data:i,skipPostResponse:s,signal:o}=e;try{let a=await this.headers(!i),l=await Do(ht(this,Cn)[Cn](r),{method:n,signal:o,headers:a,credentials:this.opts.companionCookiesRule||"same-origin",body:i?JSON.stringify(i):null});return s||this.onReceiveResponse(l),await Fv(l)}catch(a){throw a.isAuthError||a.name==="UserFacingApiError"||a.name==="AbortError"?a:new bc(`Could not ${n} ${ht(this,Cn)[Cn](r)}`,{cause:a})}}async get(e,r){return this.request({...r,path:e})}async post(e,r,n){return this.request({...n,path:e,method:"POST",data:r})}async delete(e,r,n){return this.request({...n,path:e,method:"DELETE",data:r})}async uploadRemoteFile(e,r,n){var i=this;try{let{signal:s,getQueue:o}=n||{};return await Xi(async()=>{var a;let l=(a=this.uppy.getFile(e.id))==null?void 0:a.serverToken;if(l!=null)return this.uppy.log(`Connecting to exiting websocket ${l}`),ht(this,On)[On]({file:e,queue:o(),signal:s});let d=await o().wrapPromiseFunction(async function(){try{return await ht(i,ko)[ko](...arguments)}catch(c){if(c.isAuthError)throw new Ur(c);if(c.cause==null)throw c;let p=c.cause,f=()=>[408,409,429,418,423].includes(p.statusCode)||p.statusCode>=500&&p.statusCode<=599&&![501,505].includes(p.statusCode);throw p.name==="HttpError"&&!f()?new Ur(p):p}},{priority:-1})({file:e,postBody:r,signal:s}).abortOn(s);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:d}),ht(this,On)[On]({file:this.uppy.getFile(e.id),queue:o(),signal:s})},{retries:Sc,signal:s,onFailedAttempt:a=>this.uppy.log(`Retrying upload due to: ${a.message}`,"warning")})}catch(s){if(s.name==="AbortError")return;throw this.uppy.emit("upload-error",e,s),s}}};function $v(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`}async function Mv(t){let{file:e,queue:r,signal:n}=t,i,{capabilities:s}=this.uppy.getState();try{return await new Promise((o,a)=>{let l=e.serverToken,u=Io(e.remote.companionUrl),d,c,p,{isPaused:f}=e,h=(S,C)=>{if(d==null||d.readyState!==d.OPEN){var L;this.uppy.log(`Cannot send "${S}" to socket ${e.id} because the socket state was ${String((L=d)==null?void 0:L.readyState)}`,"warning");return}d.send(JSON.stringify({action:S,payload:C??{}}))};function g(){s.resumableUploads&&h(f?"pause":"resume")}let v=async()=>{c&&c.abort(),c=new AbortController;let S=L=>{var I;this.uppy.setFileState(e.id,{serverToken:null}),(I=c)==null||I.abort==null||I.abort(),a(L)};function C(){clearTimeout(p),!f&&(p=setTimeout(()=>S(new Error("Timeout waiting for message from Companion socket")),Iv))}try{await r.wrapPromiseFunction(async()=>{await Xi(async()=>new Promise((I,F)=>{d=new WebSocket(`${u}/api/${l}`),C(),d.addEventListener("close",()=>{d=void 0,F(new Error("Socket closed unexpectedly"))}),d.addEventListener("error",M=>{var Z;this.uppy.log(`Companion socket error ${JSON.stringify(M)}, closing socket`,"warning"),(Z=d)==null||Z.close()}),d.addEventListener("open",()=>{g()}),d.addEventListener("message",M=>{C();try{let{action:_e,payload:ee}=JSON.parse(M.data);switch(_e){case"progress":{kv(this,ee,this.uppy.getFile(e.id));break}case"success":{var Z,ve,j,$;let me=(Z=ee.response)==null?void 0:Z.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:ee.url,status:(ve=(j=ee.response)==null?void 0:j.status)!=null?ve:200,body:me?JSON.parse(me):void 0}),($=c)==null||$.abort==null||$.abort(),o();break}case"error":{let{message:me}=ee.error;throw Object.assign(new Error(me),{cause:ee.error})}default:this.uppy.log(`Companion socket unknown action ${_e}`,"warning")}}catch(_e){S(_e)}});let H=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(p),d&&d.close(),d=void 0};c.signal.addEventListener("abort",()=>{H()})}),{retries:Sc,signal:c.signal,onFailedAttempt:()=>{c.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(c.signal)}catch(L){if(c.signal.aborted)return;S(L)}},m=S=>{s.resumableUploads&&(f=S,d&&g())},w=S=>{var C;s.individualCancellation&&S.id===e.id&&(h("cancel"),(C=c)==null||C.abort==null||C.abort(),this.uppy.log(`upload ${e.id} was removed`),o())},x=()=>{var S;h("cancel"),(S=c)==null||S.abort==null||S.abort(),this.uppy.log(`upload ${e.id} was canceled`),o()},y=(S,C)=>{S?.id===e.id&&m(C)},O=()=>m(!0),E=()=>m(!1);this.uppy.on("file-removed",w),this.uppy.on("cancel-all",x),this.uppy.on("upload-pause",y),this.uppy.on("pause-all",O),this.uppy.on("resume-all",E),i=()=>{this.uppy.off("file-removed",w),this.uppy.off("cancel-all",x),this.uppy.off("upload-pause",y),this.uppy.off("pause-all",O),this.uppy.off("resume-all",E)},n.addEventListener("abort",()=>{var S;(S=c)==null||S.abort()}),v()})}finally{i?.()}}gt.VERSION=Dv.version;function vt(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Hv=0;function Ac(t){return"__private_"+Hv+++"_"+t}var be=Ac("uppy"),Pn=Ac("events"),Nn=class{constructor(e){Object.defineProperty(this,be,{writable:!0,value:void 0}),Object.defineProperty(this,Pn,{writable:!0,value:[]}),vt(this,be)[be]=e}on(e,r){return vt(this,Pn)[Pn].push([e,r]),vt(this,be)[be].on(e,r)}remove(){for(let[e,r]of vt(this,Pn)[Pn].splice(0))vt(this,be)[be].off(e,r)}onFilePause(e,r){this.on("upload-pause",(n,i)=>{e===n?.id&&r(i)})}onFileRemove(e,r){this.on("file-removed",n=>{e===n.id&&r(n.id)})}onPause(e,r){this.on("upload-pause",(n,i)=>{e===n?.id&&r(i)})}onRetry(e,r){this.on("upload-retry",n=>{e===n?.id&&r()})}onRetryAll(e,r){this.on("retry-all",()=>{vt(this,be)[be].getFile(e)&&r()})}onPauseAll(e,r){this.on("pause-all",()=>{vt(this,be)[be].getFile(e)&&r()})}onCancelAll(e,r){var n=this;this.on("cancel-all",function(){vt(n,be)[be].getFile(e)&&r(...arguments)})}onResumeAll(e,r){this.on("resume-all",()=>{vt(this,be)[be].getFile(e)&&r()})}};function R(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var jv=0;function Pe(t){return"__private_"+jv+++"_"+t}function Bv(t){return new Error("Cancelled",{cause:t})}function xc(t){if(t!=null){var e;let r=()=>this.abort(t.reason);t.addEventListener("abort",r,{once:!0});let n=()=>{t.removeEventListener("abort",r)};(e=this.then)==null||e.call(this,n,n)}return this}var Me=Pe("activeRequests"),Se=Pe("queuedHandlers"),$e=Pe("paused"),sr=Pe("pauseTimer"),we=Pe("downLimit"),or=Pe("upperLimit"),_t=Pe("rateLimitingTimer"),Rn=Pe("call"),yt=Pe("queueNext"),Ho=Pe("next"),Mo=Pe("queue"),jo=Pe("dequeue"),Uo=Pe("resume"),ar=Pe("increaseLimit"),Ji=class{constructor(e){Object.defineProperty(this,jo,{value:Kv}),Object.defineProperty(this,Mo,{value:zv}),Object.defineProperty(this,Ho,{value:Wv}),Object.defineProperty(this,yt,{value:Vv}),Object.defineProperty(this,Rn,{value:qv}),Object.defineProperty(this,Me,{writable:!0,value:0}),Object.defineProperty(this,Se,{writable:!0,value:[]}),Object.defineProperty(this,$e,{writable:!0,value:!1}),Object.defineProperty(this,sr,{writable:!0,value:void 0}),Object.defineProperty(this,we,{writable:!0,value:1}),Object.defineProperty(this,or,{writable:!0,value:void 0}),Object.defineProperty(this,_t,{writable:!0,value:void 0}),Object.defineProperty(this,Uo,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,ar,{writable:!0,value:()=>{if(R(this,$e)[$e]){R(this,_t)[_t]=setTimeout(R(this,ar)[ar],0);return}R(this,we)[we]=this.limit,this.limit=Math.ceil((R(this,or)[or]+R(this,we)[we])/2);for(let r=R(this,we)[we];r<=this.limit;r++)R(this,yt)[yt]();R(this,or)[or]-R(this,we)[we]>3?R(this,_t)[_t]=setTimeout(R(this,ar)[ar],2e3):R(this,we)[we]=Math.floor(R(this,we)[we]/2)}}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,r){return!R(this,$e)[$e]&&R(this,Me)[Me]<this.limit?R(this,Rn)[Rn](e):R(this,Mo)[Mo](e,r)}wrapSyncFunction(e,r){var n=this;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];let a=n.run(()=>(e(...s),queueMicrotask(()=>a.done()),()=>{}),r);return{abortOn:xc,abort(){a.abort()}}}}wrapPromiseFunction(e,r){var n=this;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];let a,l=new Promise((u,d)=>{a=n.run(()=>{let c,p;try{p=Promise.resolve(e(...s))}catch(f){p=Promise.reject(f)}return p.then(f=>{c?d(c):(a.done(),u(f))},f=>{c?d(c):(a.done(),d(f))}),f=>{c=Bv(f)}},r)});return l.abort=u=>{a.abort(u)},l.abortOn=xc,l}}resume(){R(this,$e)[$e]=!1,clearTimeout(R(this,sr)[sr]);for(let e=0;e<this.limit;e++)R(this,yt)[yt]()}pause(e){e===void 0&&(e=null),R(this,$e)[$e]=!0,clearTimeout(R(this,sr)[sr]),e!=null&&(R(this,sr)[sr]=setTimeout(R(this,Uo)[Uo],e))}rateLimit(e){clearTimeout(R(this,_t)[_t]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(R(this,or)[or]=this.limit-1,this.limit=R(this,we)[we],R(this,_t)[_t]=setTimeout(R(this,ar)[ar],e))}get isPaused(){return R(this,$e)[$e]}};function qv(t){R(this,Me)[Me]+=1;let e=!1,r;try{r=t()}catch(n){throw R(this,Me)[Me]-=1,n}return{abort:n=>{e||(e=!0,R(this,Me)[Me]-=1,r?.(n),R(this,yt)[yt]())},done:()=>{e||(e=!0,R(this,Me)[Me]-=1,R(this,yt)[yt]())}}}function Vv(){queueMicrotask(()=>R(this,Ho)[Ho]())}function Wv(){if(R(this,$e)[$e]||R(this,Me)[Me]>=this.limit||R(this,Se)[Se].length===0)return;let t=R(this,Se)[Se].shift();if(t==null)throw new Error("Invariant violation: next is null");let e=R(this,Rn)[Rn](t.fn);t.abort=e.abort,t.done=e.done}function zv(t,e){let r={fn:t,priority:e?.priority||0,abort:()=>{R(this,jo)[jo](r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},n=R(this,Se)[Se].findIndex(i=>r.priority>i.priority);return n===-1?R(this,Se)[Se].push(r):R(this,Se)[Se].splice(n,0,r),r}function Kv(t){let e=R(this,Se)[Se].indexOf(t);e!==-1&&R(this,Se)[Se].splice(e,1)}var gA=Symbol("__queue");function Cc(t){let e=r=>"error"in r&&!!r.error;return t.filter(r=>!e(r))}function Oc(t){return t.filter(e=>{var r;return!((r=e.progress)!=null&&r.uploadStarted)||!e.isRestored})}var{AbortController:Qi}=globalThis,{AbortSignal:EA}=globalThis,Zi=function(t,e){t===void 0&&(t="Aborted");let r=new DOMException(t,"AbortError");return e!=null&&xn(e,"cause")&&Object.defineProperty(r,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),r};function es(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}function A(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Yv=0;function ne(t){return"__private_"+Yv+++"_"+t}var Xv=1024*1024,Pc={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function Gv(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}var $n=Symbol("pausing upload, not an actual error"),de=ne("abortController"),re=ne("chunks"),Te=ne("chunkState"),Ue=ne("data"),He=ne("file"),Mn=ne("uploadHasStarted"),Dn=ne("onError"),cr=ne("onSuccess"),Et=ne("shouldUseMultipart"),ur=ne("isRestoring"),Un=ne("onReject"),lr=ne("maxMultipartParts"),In=ne("minPartSize"),Bo=ne("initChunks"),qo=ne("createUpload"),Ln=ne("resumeUpload"),Fn=ne("onPartProgress"),kn=ne("onPartComplete"),Vo=ne("abortUpload"),Wo=class{constructor(e,r){var n,i;Object.defineProperty(this,Vo,{value:e_}),Object.defineProperty(this,Ln,{value:Zv}),Object.defineProperty(this,qo,{value:Qv}),Object.defineProperty(this,Bo,{value:Jv}),Object.defineProperty(this,de,{writable:!0,value:new Qi}),Object.defineProperty(this,re,{writable:!0,value:[]}),Object.defineProperty(this,Te,{writable:!0,value:[]}),Object.defineProperty(this,Ue,{writable:!0,value:void 0}),Object.defineProperty(this,He,{writable:!0,value:void 0}),Object.defineProperty(this,Mn,{writable:!0,value:!1}),Object.defineProperty(this,Dn,{writable:!0,value:void 0}),Object.defineProperty(this,cr,{writable:!0,value:void 0}),Object.defineProperty(this,Et,{writable:!0,value:void 0}),Object.defineProperty(this,ur,{writable:!0,value:void 0}),Object.defineProperty(this,Un,{writable:!0,value:s=>s?.cause===$n?null:A(this,Dn)[Dn](s)}),Object.defineProperty(this,lr,{writable:!0,value:1e4}),Object.defineProperty(this,In,{writable:!0,value:5*Xv}),Object.defineProperty(this,Fn,{writable:!0,value:s=>o=>{if(!o.lengthComputable)return;A(this,Te)[Te][s].uploaded=Gv(o.loaded);let a=A(this,Te)[Te].reduce((l,u)=>l+u.uploaded,0);this.options.onProgress(a,A(this,Ue)[Ue].size)}}),Object.defineProperty(this,kn,{writable:!0,value:s=>o=>{A(this,re)[re][s]=null,A(this,Te)[Te][s].etag=o,A(this,Te)[Te][s].done=!0;let a={PartNumber:s+1,ETag:o};this.options.onPartComplete(a)}}),this.options={...Pc,...r},(i=(n=this.options).getChunkSize)!=null||(n.getChunkSize=Pc.getChunkSize),A(this,Ue)[Ue]=e,A(this,He)[He]=r.file,A(this,cr)[cr]=this.options.onSuccess,A(this,Dn)[Dn]=this.options.onError,A(this,Et)[Et]=this.options.shouldUseMultipart,A(this,ur)[ur]=r.uploadId&&r.key,A(this,Bo)[Bo]()}start(){A(this,Mn)[Mn]?(A(this,de)[de].signal.aborted||A(this,de)[de].abort($n),A(this,de)[de]=new Qi,A(this,Ln)[Ln]()):A(this,ur)[ur]?(this.options.companionComm.restoreUploadFile(A(this,He)[He],{uploadId:this.options.uploadId,key:this.options.key}),A(this,Ln)[Ln]()):A(this,qo)[qo]()}pause(){A(this,de)[de].abort($n),A(this,de)[de]=new Qi}abort(e){e!=null&&e.really?A(this,Vo)[Vo]():this.pause()}[Symbol.for("uppy test: getChunkState")](){return A(this,Te)[Te]}};function Jv(){let t=A(this,Ue)[Ue].size,e=typeof A(this,Et)[Et]=="function"?A(this,Et)[Et](A(this,He)[He]):!!A(this,Et)[Et];if(e&&t>A(this,In)[In]){let r=Math.max(this.options.getChunkSize(A(this,Ue)[Ue]),A(this,In)[In]),n=Math.floor(t/r);n>A(this,lr)[lr]&&(n=A(this,lr)[lr],r=t/A(this,lr)[lr]),A(this,re)[re]=Array(n);for(let i=0,s=0;i<t;i+=r,s++){let o=Math.min(t,i+r),a=()=>{let l=i;return A(this,Ue)[Ue].slice(l,o)};if(A(this,re)[re][s]={getData:a,onProgress:A(this,Fn)[Fn](s),onComplete:A(this,kn)[kn](s),shouldUseMultipart:e},A(this,ur)[ur]){let l=i+r>t?t-i:r;A(this,re)[re][s].setAsUploaded=()=>{A(this,re)[re][s]=null,A(this,Te)[Te][s].uploaded=l}}}}else A(this,re)[re]=[{getData:()=>A(this,Ue)[Ue],onProgress:A(this,Fn)[Fn](0),onComplete:A(this,kn)[kn](0),shouldUseMultipart:e}];A(this,Te)[Te]=A(this,re)[re].map(()=>({uploaded:0}))}function Qv(){this.options.companionComm.uploadFile(A(this,He)[He],A(this,re)[re],A(this,de)[de].signal).then(A(this,cr)[cr],A(this,Un)[Un]),A(this,Mn)[Mn]=!0}function Zv(){this.options.companionComm.resumeUploadFile(A(this,He)[He],A(this,re)[re],A(this,de)[de].signal).then(A(this,cr)[cr],A(this,Un)[Un])}function e_(){A(this,de)[de].abort(),this.options.companionComm.abortFileUpload(A(this,He)[He]).catch(t=>this.options.log(t))}var Nc=Wo;function ae(t){if(t!=null&&t.aborted)throw Zi("The operation was aborted",{cause:t.reason})}function t_(t){let{method:e="PUT",CanonicalUri:r="/",CanonicalQueryString:n="",SignedHeaders:i,HashedPayload:s}=t,o=Object.keys(i).map(a=>a.toLowerCase()).sort();return[e,r,n,...o.map(a=>`${a}:${i[a]}`),"",o.join(";"),s].join(`
`)}var zo=new TextEncoder,Ko={name:"HMAC",hash:"SHA-256"};async function r_(t){let{subtle:e}=globalThis.crypto;return e.digest(Ko.hash,zo.encode(t))}async function n_(t){let{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?zo.encode(t):t,Ko,!1,["sign"])}function Rc(t){let e=new Uint8Array(t),r="";for(let n=0;n<e.length;n++)r+=e[n].toString(16).padStart(2,"0");return r}async function Hn(t,e){let{subtle:r}=globalThis.crypto;return r.sign(Ko,await n_(t),zo.encode(e))}async function Yo(t){let{accountKey:e,accountSecret:r,sessionToken:n,bucketName:i,Key:s,Region:o,expires:a,uploadId:l,partNumber:u}=t,d="s3",c=`${d}.${o}.amazonaws.com`,p=`/${i}/${encodeURI(s).replace(/[;?:@&=+$,#!'()*]/g,I=>`%${I.charCodeAt(0).toString(16).toUpperCase()}`)}`,f="UNSIGNED-PAYLOAD",h=new Date().toISOString().replace(/[-:]|\.\d+/g,""),g=h.slice(0,8),v=`${g}/${o}/${d}/aws4_request`,m=new URL(`https://${c}${p}`);m.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),m.searchParams.set("X-Amz-Content-Sha256",f),m.searchParams.set("X-Amz-Credential",`${e}/${v}`),m.searchParams.set("X-Amz-Date",h),m.searchParams.set("X-Amz-Expires",a),m.searchParams.set("X-Amz-Security-Token",n),m.searchParams.set("X-Amz-SignedHeaders","host"),u&&m.searchParams.set("partNumber",u),l&&m.searchParams.set("uploadId",l),m.searchParams.set("x-id",u&&l?"UploadPart":"PutObject");let w=t_({CanonicalUri:p,CanonicalQueryString:m.search.slice(1),SignedHeaders:{host:c},HashedPayload:f}),x=Rc(await r_(w)),y=["AWS4-HMAC-SHA256",h,v,x].join(`
`),O=await Hn(`AWS4${r}`,g),E=await Hn(O,o),S=await Hn(E,d),C=await Hn(S,"aws4_request"),L=Rc(await Hn(C,y));return m.searchParams.set("X-Amz-Signature",L),m}function D(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var i_=0;function Ae(t){return"__private_"+i_+++"_"+t}function s_(t){let e=new URL(t);return e.search="",e.hash="",e.href}var jn=Ae("abortMultipartUpload"),fe=Ae("cache"),Bn=Ae("createMultipartUpload"),qn=Ae("fetchSignature"),zn=Ae("getUploadParameters"),Vn=Ae("listParts"),pr=Ae("previousRetryDelay"),hr=Ae("requests"),dr=Ae("retryDelays"),fr=Ae("sendCompletionRequest"),bt=Ae("setS3MultipartState"),mr=Ae("uploadPartBytes"),pe=Ae("getFile"),Xo=Ae("shouldRetry"),Wn=Ae("nonMultipartUpload"),ts=class{constructor(e,r,n,i){Object.defineProperty(this,Wn,{value:a_}),Object.defineProperty(this,Xo,{value:o_}),Object.defineProperty(this,jn,{writable:!0,value:void 0}),Object.defineProperty(this,fe,{writable:!0,value:new WeakMap}),Object.defineProperty(this,Bn,{writable:!0,value:void 0}),Object.defineProperty(this,qn,{writable:!0,value:void 0}),Object.defineProperty(this,zn,{writable:!0,value:void 0}),Object.defineProperty(this,Vn,{writable:!0,value:void 0}),Object.defineProperty(this,pr,{writable:!0,value:void 0}),Object.defineProperty(this,hr,{writable:!0,value:void 0}),Object.defineProperty(this,dr,{writable:!0,value:void 0}),Object.defineProperty(this,fr,{writable:!0,value:void 0}),Object.defineProperty(this,bt,{writable:!0,value:void 0}),Object.defineProperty(this,mr,{writable:!0,value:void 0}),Object.defineProperty(this,pe,{writable:!0,value:void 0}),D(this,hr)[hr]=e,D(this,bt)[bt]=n,D(this,pe)[pe]=i,this.setOptions(r)}setOptions(e){let r=D(this,hr)[hr];if("abortMultipartUpload"in e&&(D(this,jn)[jn]=r.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&(D(this,Bn)[Bn]=r.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&(D(this,qn)[qn]=r.wrapPromiseFunction(e.signPart)),"listParts"in e&&(D(this,Vn)[Vn]=r.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&(D(this,fr)[fr]=r.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e){var n;D(this,dr)[dr]=(n=e.retryDelays)!=null?n:[]}"uploadPartBytes"in e&&(D(this,mr)[mr]=r.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&(D(this,zn)[zn]=r.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,r){let n;for(;(n=D(this,fe)[fe].get(e.data))!=null;)try{return await n}catch{}let i=D(this,Bn)[Bn](D(this,pe)[pe](e),r),s=()=>{i.abort(r.reason),D(this,fe)[fe].delete(e.data)};return r.addEventListener("abort",s,{once:!0}),D(this,fe)[fe].set(e.data,i),i.then(async o=>{r.removeEventListener("abort",s),D(this,bt)[bt](e,o),D(this,fe)[fe].set(e.data,o)},()=>{r.removeEventListener("abort",s),D(this,fe)[fe].delete(e.data)}),i}async abortFileUpload(e){let r=D(this,fe)[fe].get(e.data);if(r==null)return;D(this,fe)[fe].delete(e.data),D(this,bt)[bt](e,Object.create(null));let n;try{n=await r}catch{return}await D(this,jn)[jn](D(this,pe)[pe](e),n)}async uploadFile(e,r,n){if(ae(n),r.length===1&&!r[0].shouldUseMultipart)return D(this,Wn)[Wn](e,r[0],n);let{uploadId:i,key:s}=await this.getUploadId(e,n);ae(n);try{let o=await Promise.all(r.map((a,l)=>this.uploadChunk(e,l+1,a,n)));return ae(n),await D(this,fr)[fr](D(this,pe)[pe](e),{key:s,uploadId:i,parts:o,signal:n},n).abortOn(n)}catch(o){throw o?.cause!==$n&&o?.name!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,r){D(this,fe)[fe].set(e.data,r)}async resumeUploadFile(e,r,n){if(ae(n),r.length===1&&r[0]!=null&&!r[0].shouldUseMultipart)return D(this,Wn)[Wn](e,r[0],n);let{uploadId:i,key:s}=await this.getUploadId(e,n);ae(n);let o=await D(this,Vn)[Vn](D(this,pe)[pe](e),{uploadId:i,key:s,signal:n},n).abortOn(n);ae(n);let a=await Promise.all(r.map((l,u)=>{let d=u+1,c=o.find(p=>{let{PartNumber:f}=p;return f===d});return c==null?this.uploadChunk(e,d,l,n):(l==null||l.setAsUploaded==null||l.setAsUploaded(),{PartNumber:d,ETag:c.ETag})}));return ae(n),D(this,fr)[fr](D(this,pe)[pe](e),{key:s,uploadId:i,parts:a,signal:n},n).abortOn(n)}async uploadChunk(e,r,n,i){ae(i);let{uploadId:s,key:o}=await this.getUploadId(e,i),a=D(this,dr)[dr].values(),l=D(this,dr)[dr].values(),u=()=>{let d=a.next();return d==null||d.done?null:d.value};for(;;){ae(i);let d=n.getData(),{onProgress:c,onComplete:p}=n,f;try{f=await D(this,qn)[qn](D(this,pe)[pe](e),{uploadId:s,key:o,partNumber:r,body:d,signal:i}).abortOn(i)}catch(h){let g=u();if(g==null||i.aborted)throw h;await new Promise(v=>setTimeout(v,g));continue}ae(i);try{return{PartNumber:r,...await D(this,mr)[mr]({signature:f,body:d,size:d.size,onProgress:c,onComplete:p,signal:i}).abortOn(i)}}catch(h){if(!await D(this,Xo)[Xo](h,l))throw h}}}};async function o_(t,e){var r;let n=D(this,hr)[hr],i=t==null||(r=t.source)==null?void 0:r.status;if(i==null)return!1;if(i===403&&t.message==="Request has expired"){if(!n.isPaused){if(n.limit===1||D(this,pr)[pr]==null){let s=e.next();if(s==null||s.done)return!1;D(this,pr)[pr]=s.value}n.rateLimit(0),await new Promise(s=>setTimeout(s,D(this,pr)[pr]))}}else if(i===429){if(!n.isPaused){let s=e.next();if(s==null||s.done)return!1;n.rateLimit(s.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)n.isPaused||(n.pause(),window.addEventListener("online",()=>{n.resume()},{once:!0}));else{let s=e.next();if(s==null||s.done)return!1;await new Promise(o=>setTimeout(o,s.value))}}return!0}async function a_(t,e,r){var n;let{method:i="POST",url:s,fields:o,headers:a}=await D(this,zn)[zn](D(this,pe)[pe](t),{signal:r}).abortOn(r),l,u=e.getData();if(i.toUpperCase()==="POST"){let h=new FormData;Object.entries(o).forEach(g=>{let[v,m]=g;return h.set(v,m)}),h.set("file",u),l=h}else l=u;let{onProgress:d,onComplete:c}=e,p=await D(this,mr)[mr]({signature:{url:s,headers:a,method:i},body:l,size:u.size,onProgress:d,onComplete:c,signal:r}).abortOn(r),f=o?.key;return D(this,bt)[bt](t,{key:f}),{...p,location:(n=p.location)!=null?n:s_(s),bucket:o?.bucket,key:f}}function N(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var l_=0;function Ne(t){return"__private_"+l_+++"_"+t}var u_={version:"4.2.3"};function Hr(t){if(t!=null&&t.error){let e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function Lc(t){let e=t.Expiration;if(e){let r=Math.floor((new Date(e)-Date.now())/1e3);if(r>9)return r}}function Dc(t){let{meta:e,allowedMetaFields:r,querify:n=!1}=t,i=r??Object.keys(e);return e?Object.fromEntries(i.filter(s=>e[s]!=null).map(s=>{let o=n?`metadata[${s}]`:s,a=String(e[s]);return[o,a]})):{}}var c_={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]},gr=Ne("companionCommunicationQueue"),V=Ne("client"),Kn=Ne("setClient"),xe=Ne("assertHost"),he=Ne("cachedTemporaryCredentials"),Go=Ne("getTemporarySecurityCredentials"),Jo=Ne("setS3MultipartState"),_r=Ne("getFile"),Qo=Ne("uploadLocalFile"),Zo=Ne("getCompanionClientArgs"),Yn=Ne("upload"),vr=Ne("setCompanionHeaders"),wt=Ne("setResumableUploadsCapability"),Xn=Ne("resetResumableCapability"),jr=class t extends It{constructor(e,r){var n;super(e,{...c_,uploadPartBytes:t.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r}),Object.defineProperty(this,Zo,{value:m_}),Object.defineProperty(this,Qo,{value:h_}),Object.defineProperty(this,Go,{value:p_}),Object.defineProperty(this,xe,{value:f_}),Object.defineProperty(this,Kn,{value:d_}),Object.defineProperty(this,gr,{writable:!0,value:void 0}),Object.defineProperty(this,V,{writable:!0,value:void 0}),Object.defineProperty(this,he,{writable:!0,value:void 0}),Object.defineProperty(this,Jo,{writable:!0,value:(s,o)=>{let{key:a,uploadId:l}=o,u=this.uppy.getFile(s.id);u!=null&&this.uppy.setFileState(s.id,{s3Multipart:{...u.s3Multipart,key:a,uploadId:l}})}}),Object.defineProperty(this,_r,{writable:!0,value:s=>this.uppy.getFile(s.id)||s}),Object.defineProperty(this,Yn,{writable:!0,value:async s=>{if(s.length===0)return;let o=this.uppy.getFilesByIds(s),a=Cc(o),l=Oc(a);this.uppy.emit("upload-start",l);let u=a.map(c=>{if(c.isRemote){let p=()=>this.requests;N(this,wt)[wt](!1);let f=new AbortController,h=v=>{v.id===c.id&&f.abort()};this.uppy.on("file-removed",h);let g=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,N(this,Zo)[Zo](c),{signal:f.signal,getQueue:p});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),g}return N(this,Qo)[Qo](c)}),d=await Promise.allSettled(u);return N(this,wt)[wt](!0),d}}),Object.defineProperty(this,vr,{writable:!0,value:()=>{var s;(s=N(this,V)[V])==null||s.setCompanionHeaders(this.opts.headers)}}),Object.defineProperty(this,wt,{writable:!0,value:s=>{let{capabilities:o}=this.uppy.getState();this.uppy.setState({capabilities:{...o,resumableUploads:s}})}}),Object.defineProperty(this,Xn,{writable:!0,value:()=>{N(this,wt)[wt](!0)}}),this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",N(this,Kn)[Kn](r);let i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(let s of Object.keys(i))this.opts[s]==null&&(this.opts[s]=i[s].bind(this));this.requests=(n=this.opts.rateLimitedQueue)!=null?n:new Ji(this.opts.limit),N(this,gr)[gr]=new ts(this.requests,this.opts,N(this,Jo)[Jo],N(this,_r)[_r]),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return N(this,V)[V]}setOptions(e){N(this,gr)[gr].setOptions(e),super.setOptions(e),N(this,Kn)[Kn](e)}resetUploaderReferences(e,r){this.uploaders[e]&&(this.uploaders[e].abort({really:r?.abort||!1}),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null)}createMultipartUpload(e,r){N(this,xe)[xe]("createMultipartUpload"),ae(r);let n=es(this.opts.allowedMetaFields,e.meta),i=Dc({meta:e.meta,allowedMetaFields:n});return N(this,V)[V].post("s3/multipart",{filename:e.name,type:e.type,metadata:i},{signal:r}).then(Hr)}listParts(e,r,n){var i;let{key:s,uploadId:o,signal:a}=r;(i=a)!=null||(a=n),N(this,xe)[xe]("listParts"),ae(a);let l=encodeURIComponent(s);return N(this,V)[V].get(`s3/multipart/${encodeURIComponent(o)}?key=${l}`,{signal:a}).then(Hr)}completeMultipartUpload(e,r,n){var i;let{key:s,uploadId:o,parts:a,signal:l}=r;(i=l)!=null||(l=n),N(this,xe)[xe]("completeMultipartUpload"),ae(l);let u=encodeURIComponent(s),d=encodeURIComponent(o);return N(this,V)[V].post(`s3/multipart/${d}/complete?key=${u}`,{parts:a.map(c=>{let{ETag:p,PartNumber:f}=c;return{ETag:p,PartNumber:f}})},{signal:l}).then(Hr)}async createSignedURL(e,r){let n=await N(this,Go)[Go](r),i=Lc(n.credentials)||604800,{uploadId:s,key:o,partNumber:a}=r;return{method:"PUT",expires:i,fields:{},url:`${await Yo({accountKey:n.credentials.AccessKeyId,accountSecret:n.credentials.SecretAccessKey,sessionToken:n.credentials.SessionToken,expires:i,bucketName:n.bucket,Region:n.region,Key:o??`${crypto.randomUUID()}-${e.name}`,uploadId:s,partNumber:a})}`,headers:{"Content-Type":e.type}}}signPart(e,r){let{uploadId:n,key:i,partNumber:s,signal:o}=r;if(N(this,xe)[xe]("signPart"),ae(o),n==null||i==null||s==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");let a=encodeURIComponent(i);return N(this,V)[V].get(`s3/multipart/${encodeURIComponent(n)}/${s}?key=${a}`,{signal:o}).then(Hr)}abortMultipartUpload(e,r){let{key:n,uploadId:i,signal:s}=r;N(this,xe)[xe]("abortMultipartUpload");let o=encodeURIComponent(n),a=encodeURIComponent(i);return N(this,V)[V].delete(`s3/multipart/${a}?key=${o}`,void 0,{signal:s}).then(Hr)}getUploadParameters(e,r){N(this,xe)[xe]("getUploadParameters");let{meta:n}=e,{type:i,name:s}=n,o=es(this.opts.allowedMetaFields,e.meta),a=Dc({meta:n,allowedMetaFields:o,querify:!0}),l=new URLSearchParams({filename:s,type:i,...a});return N(this,V)[V].get(`s3/params?${l}`,r)}static async uploadPartBytes(e){let{signature:{url:r,expires:n,headers:i,method:s="PUT"},body:o,size:a=o.size,onProgress:l,onComplete:u,signal:d}=e;if(ae(d),r==null)throw new Error("Cannot upload to an undefined URL");return new Promise((c,p)=>{let f=new XMLHttpRequest;f.open(s,r,!0),i&&Object.keys(i).forEach(v=>{f.setRequestHeader(v,i[v])}),f.responseType="text",typeof n=="number"&&(f.timeout=n*1e3);function h(){f.abort()}function g(){d?.removeEventListener("abort",h)}d?.addEventListener("abort",h),f.upload.addEventListener("progress",v=>{l(v)}),f.addEventListener("abort",()=>{g(),p(Zi())}),f.addEventListener("timeout",()=>{g();let v=new Error("Request has expired");v.source={status:403},p(v)}),f.addEventListener("load",()=>{if(g(),f.status===403&&f.responseText.includes("<Message>Request has expired</Message>")){let y=new Error("Request has expired");y.source=f,p(y);return}if(f.status<200||f.status>=300){let y=new Error("Non 2xx");y.source=f,p(y);return}l?.({loaded:a,lengthComputable:!0});let v=f.getAllResponseHeaders().trim().split(/[\r\n]+/),m={__proto__:null};for(let y of v){let O=y.split(": "),E=O.shift(),S=O.join(": ");m[E]=S}let{etag:w,location:x}=m;if(s.toUpperCase()==="POST"&&x==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),w==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}u?.(w),c({...m,ETag:w})}),f.addEventListener("error",v=>{g();let m=new Error("Unknown error");m.source=v.target,p(m)}),f.send(o)})}install(){N(this,wt)[wt](!0),this.uppy.addPreProcessor(N(this,vr)[vr]),this.uppy.addUploader(N(this,Yn)[Yn]),this.uppy.on("cancel-all",N(this,Xn)[Xn])}uninstall(){this.uppy.removePreProcessor(N(this,vr)[vr]),this.uppy.removeUploader(N(this,Yn)[Yn]),this.uppy.off("cancel-all",N(this,Xn)[Xn])}};function d_(t){t==null||!("endpoint"in t||"companionUrl"in t||"headers"in t||"companionHeaders"in t||"cookiesRule"in t||"companionCookiesRule"in t)||("companionUrl"in t&&!("endpoint"in t)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in t&&!("headers"in t)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in t&&!("cookiesRule"in t)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in t?N(this,V)[V]=new gt(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule}):("headers"in t&&N(this,vr)[vr](),"cookiesRule"in t&&(N(this,V)[V].opts.companionCookiesRule=t.cookiesRule)))}function f_(t){if(!N(this,V)[V])throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${t}\` implementation.`)}async function p_(t){if(ae(t?.signal),N(this,he)[he]==null){let{getTemporarySecurityCredentials:e}=this.opts;e===!0?(N(this,xe)[xe]("getTemporarySecurityCredentials"),N(this,he)[he]=N(this,V)[V].get("s3/sts",t).then(Hr)):N(this,he)[he]=e(t),N(this,he)[he]=await N(this,he)[he],setTimeout(()=>{N(this,he)[he]=null},(Lc(N(this,he)[he].credentials)||0)*500)}return N(this,he)[he]}function h_(t){var e=this;return new Promise((r,n)=>{let i=(u,d)=>{var c;let p=this.uppy.getFile(t.id);this.uppy.emit("upload-progress",p,{uploadStarted:(c=p.progress.uploadStarted)!=null?c:0,bytesUploaded:u,bytesTotal:d})},s=u=>{this.uppy.log(u),this.uppy.emit("upload-error",t,u),this.resetUploaderReferences(t.id),n(u)},o=u=>{let d={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(t.id),this.uppy.emit("upload-success",N(this,_r)[_r](t),d),u.location&&this.uppy.log(`Download ${t.name} from ${u.location}`),r()},a=new Nc(t.data,{companionComm:N(this,gr)[gr],log:function(){return e.uppy.log(...arguments)},getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:i,onError:s,onSuccess:o,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",N(this,_r)[_r](t),u)},file:t,shouldUseMultipart:this.opts.shouldUseMultipart,...t.s3Multipart});this.uploaders[t.id]=a;let l=new Nn(this.uppy);this.uploaderEvents[t.id]=l,l.onFileRemove(t.id,u=>{a.abort(),this.resetUploaderReferences(t.id,{abort:!0}),r(`upload ${u} was removed`)}),l.onCancelAll(t.id,()=>{a.abort(),this.resetUploaderReferences(t.id,{abort:!0}),r(`upload ${t.id} was canceled`)}),l.onFilePause(t.id,u=>{u?a.pause():a.start()}),l.onPauseAll(t.id,()=>{a.pause()}),l.onResumeAll(t.id,()=>{a.start()}),a.start()})}function m_(t){var e;return{...(e=t.remote)==null?void 0:e.body,protocol:"s3-multipart",size:t.data.size,metadata:t.meta}}jr.VERSION=u_.version;function Ic(t){t.querySelectorAll("[data-uppy]").forEach(e=>{let r=e.getAttribute("data-uppy-presign-url"),n=new Ii({debug:!0,autoProceed:!0});n.use(rr,{target:e.querySelector("[data-uppy-drag-drop]")}),n.use(nr,{target:e.querySelector("[data-uppy-status]")}),n.use(jr,{getUploadParameters(i){return fetch(r,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:i.name,content_type:i.type})}).then(s=>s.json()).then(s=>(n.setFileMeta(i.id,{id:s.id}),{method:"PUT",url:s.url,headers:{"Content-Type":i.type}}))}}),n.on("complete",i=>{i.successful.forEach(s=>{let o=document.createElement("input");o.type="hidden",o.name="files",o.value=JSON.stringify({id:s.meta.id,name:s.name,content_type:s.type,size:s.size}),e.appendChild(o)}),e.dispatchEvent(new Event("files-added"))})})}Jn.logAll();Jn.config.defaultFocusScroll=!0;Jn.onLoad(Ic);})();
/*! For license information please see app-KK35JUWH.js.LEGAL.txt */
//# sourceMappingURL=app-KK35JUWH.js.map
